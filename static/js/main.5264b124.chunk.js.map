{"version":3,"sources":["reportWebVitals.ts","app/context/shared-subjects.ts","app/shared/main-footer.tsx","icon.png","app/wigetds/logo.tsx","app/shared/main-nav.tsx","app/consts/literals.ts","app/wigetds/autofit-textarea.tsx","app/wigetds/json-path-guide.tsx","app/context/pref.ts","app/libs/hooks/wasm-api.ts","app/tool-blocks/json-formatter.tsx","app/libs/helpers.ts","app/tool-blocks/base64serde.tsx","app/tool-blocks/url-parser.tsx","app/tool-blocks/crontab-parser.tsx","utils/calendar.js","app/tool-blocks/unix-time-converter.tsx","app/tool-blocks/url-encode.tsx","app/consts/tool-sider-configs.tsx","app/libs/hooks/localstore.ts","app/shared/privacy.tsx","app/shared/setting.tsx","app/shared/tools-sider.tsx","app/pages/main-page.tsx","app/shared/first-lanching-dialog.tsx","App.tsx","index.tsx"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","SharedSubjects","activeToolNode$","ReplaySubject","windowSizeChange$","beEvent$","Subject","SharedSubjectContext","createContext","pjson","require","MainFooter","className","vertical","type","Text","size","version","LogoComponent","content","href","style","textDecoration","spacing","align","src","logo","alt","Title","heading","MainNav","useState","isMac","setIsMac","useMount","window","navigator","userAgent","includes","headerNode","Header","navFooter","Footer","position","rel","target","minHeight","onClick","open","icon","Computer","theme","fill","defaultOpenKeys","mode","userSelect","AutoFitTextArea","props","useObservableState","obs","cls","setCls","isLoading","loading","setLoading","useEffect","isOnError","length","console","debug","onChange","value","placeholder","ref","forwardedRef","bottom","paddingLeft","zIndex","AutoFitTextAreaWithRef","React","JsonPathGuide","overflowY","display","flexDirection","StoreItem","key","defaultValue","$","this","trim","toLowerCase","next","val","getValueFromStore","storeVal","JSON","stringify","localStorage","setItem","observer","subscribe","getItem","innerValue","parse","undefined","e","Pref","darkModeEnabled","isFirstLanching","allowAnalytics","osName","toolsSiderCollapsed","jsonFormatterDefaultIndentSpace","instance","useWasmAPI","from","ErrorDisplay","input","errors","onFirstErrorRange","errorTags","setErrorTags","ellipsePlaceHolderStart","tags","map","vErr","idx","errAtGreaterThan","Number","index_start","errHasLeftContent","index_end","startAt","endAt","errorHintText","slice","cursorPositionStart","cursorPositionEnd","visibility","padding","fontSize","description","JsonFormatterBlock","jsonIndentState","getInstance","jsonPathValue","setJsonPathValue","showJsonPathGuide","setShowJsonPathGuide","inputRef","useRef","jsonPathRef","copy","useClipboard","onSuccess","_","Toast","success","wasmAPI","changedInput","wasm","error","validate_json","code","setValidationErrors","changed","indent","setOutputJson","setOutput","inputValue","setInputValue","outputValue","setOutputValue","editorTheme","setEditorTheme","validationErrors","enabled","outObj","onInputChanged","onCopy","setRandomJson","inputVal","get_random_json","onCompressClicked","onIndentSelectionChanged","onClearClicked","isSidebarCollapsed","isTauriAppContext","Consumer","isTauri","visible","onCancel","gutter","span","height","disabled","width","Option","fullMode","bordered","closeIcon","_start","_end","res","JSONPath","path","json","base64encode","str","encode","encodeURIComponent","btoa","base64decode","decode","atob","decodeURIComponent","formatNumber","n","fractionDigits","ns","toFixed","x","split","x1","x2","rgx","test","replace","arrayBufferToBase64","dView","arr1","Array","prototype","call","item","String","fromCharCode","join","saveBase64AsFile","base64","fileName","link","document","createElement","body","appendChild","setAttribute","download","click","removeChild","Base64Serde","search","location","params","URLSearchParams","set","setSearchParams","defaultTabIdx","setDefaultTabIdx","useSearchParams","searchParams","tabIndex","get","defaultActiveKey","activeKey","tab","itemKey","Base64SerdeStringBlockBlock","codingType","setCodingType","inValue","setInValue","outValue","setOutValue","setInputForm","justifyContent","alignItems","randSentence","paddingRight","v","valueOf","Base64SerdeImageBlockBlock","useContext","createImage","data","fileType","newImage","onerror","onInValueChanged","base64SourceType","setBase64SourceType","imgSize","setImageSize","setImgSrc","tag","blobSize","imgSrc","fetch","base64Response","blob","setImageBlobSize","imgTag","setImgTag","imgBlobSize","imgContainerRef","extractBase64","inData","matches","match","base64Data","base64String","originalImageResized","getElementById","imgContainer","current","removeExisting","id","onload","naturalWidth","naturalHeight","formatBytes","isLoadingFile","setIsLoadingFile","fileReaderRef","fillBase64FormFromFile","img","hidden","parentElement","tauri","__TAURI__","dialog","filePath","invoke","invokeRes","sampleData","data1","evt","Blob","files","selectedFile","arrayBuffer","Uint8Array","finally","children","base64Raw","fileExt","catch","err","UrlParser","TabPane","Percentage","UrlParserBlock","d","query","parsedUrl","setParsedUrl","parsedUrlObj","parseUrl","Item","protocol","port","resource","pathname","user","hash","editable","lang","exampleCrontabs","des","exp","CrontabParser","Typography","defaultExplain","explain","setExplain","isErroCron","setIsErrorCron","showCrontabHelp","setShowCrontabHelp","inputExp","setInputExp","defaultData","setData","exmapleIdx","setExampleIdx","onInpuExpChanged","defautlErr","parseRes","parse_crontab_string","cronstrue","toString","expSegs","isAllMinutes","isAllHours","isAllDays","isAllMonths","isAllWeekdays","Set","minutes","m","padStart","hours","days","months","weekdays","next_executions","local","utc","errMsg","startsWith","Math","floor","random","onSelect","index","marginTop","CrontabParserResDisplay","CrontabHelp","CrontabParserBlock","theDay","date","ceil","Date","getFullYear","theWeek","now","startWeek","getDay","dateFormat","timestamp","formats","zero","myDate","year","month","getMonth","day","getDate","hour","getHours","minite","getMinutes","second","getSeconds","Y","H","i","s","WEEK_STR","MONTH_STR","CopyableInput","copiedOk","setCopiedOk","setTimeout","minWidth","contentEditable","Correct","Copy","UnixTimeConverterPage","dateType","setDateType","curDate","setCurDate","nowDate","setNowDate","formApi","itemStyle","renderLabelText","text","field","fontWeight","isValidDate","log","isNaN","getTime","setOtherField","curField","t","setField","setValue","setError","loadNowTime","nowTimeStamp","step","presetsTimes","start","end","boxSizing","getFormApi","api","onValueChange","values","changeValue","setValues","InputGroup","label","Input","initValue","Select","getValue","DatePicker","presets","toUTCString","round","getYear","title","UrlEncodePage","typeRadios","curType","setCurType","encodeURI","decodeURI","duration","inputChange","CornerLeftUp","ToolSiderConfigs","navItemProps","svg","CodeBrackets","node","PayCode","LinkOne","Calendar","Time","useLocalStore","saved","initial","Object","assign","GetStorageValue","PrivacyPage","EchooSettingsDefault","SettingsModal","onVisibleChange","settings","setSettings","shown","setShown","formRef","useLocation","showPrivacy","setShowPrivacy","centered","footer","closable","keepDOM","bodyStyle","overflow","initValues","Magic","noLabel","IMac","ToolsSider","sharedSubsCtx","navRef","selectedItems","setSelectedItems","tools","setTools","keyword","filteredTools","filter","toUpperCase","filteredItemKeys","firstKey","setToolSearchKeyword","collapsed","hideSearchBar","sidebarCollapsed","setSideBarCollapsed","hide","navNode","findDOMNode","nodes","getElementsByClassName","toolItemKey","defaultKey","keys","toolSiderConfigs","k","setShowSettings","searchToolInputRef","hotkeyHandlers","SEARCH_TOOLS","useCallback","ke","focus","HeaderNode","justify","showSettings","FooterNode","selectedKeys","multiple","items","isCollapsed","collapseButton","header","handlers","keyMap","siderToolItem","tk","MainPage","Layout","Content","sharedSubs","activeToolNode","setActiveToolNode","event","listen","Notification","showClose","isTauriApp","Sider","FirstLanchingModalSettingsDefault","FirstLanchingModal","allow","PersonalPrivacy","Paragraph","Protect","Github","push","Checkbox","App","setIsTauri","p","sendEvent","innerWidth","innerHeight","addEventListener","enableDark","enable","hasAttribute","removeAttribute","mql","matchMedia","showFirstLanchingDialog","setShowFirstLanchingDialog","yes","injectAnalyticsCodes","os","appDir","forEach","h","getElementsByTagName","ga_s","gs_ss","async","innerHTML","tag_mgr_head","f","Provider","ReactDOM","render","basename","element"],"mappings":"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","file":"static/js/main.5264b124.chunk.js","sourcesContent":["import {ReportHandler} from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import('web-vitals').then(({getCLS, getFID, getFCP, getLCP, getTTFB}) => {\n            getCLS(onPerfEntry);\n            getFID(onPerfEntry);\n            getFCP(onPerfEntry);\n            getLCP(onPerfEntry);\n            getTTFB(onPerfEntry);\n        });\n    }\n};\n\nexport default reportWebVitals;\n","import { createContext, ReactNode } from \"react\";\nimport { ReplaySubject, Subject } from \"rxjs\";\n\nclass SharedSubjects {\n\tpublic activeToolNode$ = new ReplaySubject<ReactNode>(1);\n\t// public toolsNavSearch$ = new ReplaySubject<string>(1)\n\tpublic windowSizeChange$ = new ReplaySubject<[number, number]>(1)\n\t// public toolMainContentSizeChanged$ = new ReplaySubject<[number, number]>(1)\n\t// public toolContentWidthChanged$ = new ReplaySubject<number>(1)\n\t// public toolContentHeightChanged$ = new ReplaySubject<number>(1)\n\tpublic beEvent$: Subject<object> = new Subject<any>()\n}\n\nexport const SharedSubjectContext = createContext(new SharedSubjects());\n","import { Space, Tag, Typography } from \"@douyinfe/semi-ui\";\nimport Text from \"@douyinfe/semi-ui/lib/es/typography/text\";\n\nconst pjson = require('../../../package.json')\nexport const MainFooter = () => {\n\treturn <Space className='main-footer' vertical>\n\t\t<Text type='tertiary'>\n\t\t\t<Space>\n\t\t\t\t<span>Copyright  2022</span>\n\t\t\t\t<b>Echoo.app</b>\n\t\t\t\t<Tag><Typography.Text size={'small'} type=\"tertiary\">v{pjson.version}</Typography.Text></Tag>\n\t\t\t</Space>\n\t\t</Text>\n\t</Space>;\n};\n","export default __webpack_public_path__ + \"static/media/icon.719a6b8e.png\";","// @flow\nimport { Space, Tooltip, Typography } from \"@douyinfe/semi-ui\";\nimport \"./log.scss\"\nimport logo from \"../../icon.png\";\n\nexport const LogoComponent = () => {\n\treturn (\n\t\t<Tooltip content={\"Utilities for developers\"}>\n\t\t\t<a href=\"/\" style={{ textDecoration: 'none' }}>\n\t\t\t\t<Space spacing={10} align={\"center\"}>\n\t\t\t\t\t<img src={logo} alt='Utilities for developers' />\n\t\t\t\t\t<Space spacing={5} align={\"baseline\"}>\n\t\t\t\t\t\t<Space spacing={3} align={\"baseline\"}>\n\t\t\t\t\t\t\t<Typography.Title heading={2} type={\"primary\"}>Echoo</Typography.Title>\n\t\t\t\t\t\t\t<Typography.Title heading={6} type={\"tertiary\"}>.app</Typography.Title>\n\t\t\t\t\t\t</Space>\n\t\t\t\t\t</Space>\n\t\t\t\t</Space>\n\t\t\t</a>\n\t\t</Tooltip>\n\t);\n};\n","import { IconGithubLogo } from \"@douyinfe/semi-icons\";\nimport { Button, Nav, Space, Tooltip } from \"@douyinfe/semi-ui\";\nimport \"./main-nav.scss\";\n\nimport { LogoComponent } from \"../wigetds/logo\";\nimport { GITHUB_HOMEPAGE, RELEASE_DOWNLOAD_PAGE } from \"../consts/literals\";\nimport { Computer } from \"@icon-park/react/es\";\nimport { useMount } from \"react-use\";\nimport { useState } from \"react\";\nexport const MainNav = () => {\n  const onDownloadClicked = () => {\n    window.open(RELEASE_DOWNLOAD_PAGE, \"blank\");\n  };\n\n  const onHomePageClicked = () => {\n    window.open(GITHUB_HOMEPAGE, \"blank\");\n  };\n\n  const [isMac, setIsMac] = useState(false);\n  useMount(() => {\n    setIsMac(window.navigator.userAgent.includes(\"Macintosh\"));\n  });\n\n  const headerNode = (\n    <Nav.Header>\n      <LogoComponent />\n    </Nav.Header>\n  );\n\n  const navFooter = (\n    <Nav.Footer>\n      <Space align=\"center\">\n        <Tooltip content={\"Desktop client\"} position=\"bottomLeft\">\n          {isMac ? (\n            <a\n              rel=\"noreferrer\"\n              href=\"https://apps.apple.com/cn/app/echoo-app/id1612383544?mt=12\"\n              target=\"_blank\"\n            >\n              <img\n                style={{ minHeight: \"42px\" }}\n                alt=\"\"\n                src={process.env.PUBLIC_URL + \"/mac-app-store-badge.svg\"}\n              />\n            </a>\n          ) : (\n            <Button\n              size={\"large\"}\n              onClick={onDownloadClicked}\n              icon={\n                <Computer\n                  theme=\"outline\"\n                  size=\"21\"\n                  fill=\"var(--semi-color-primary)\"\n                />\n              }\n            />\n          )}\n        </Tooltip>\n        <Button\n          size={\"large\"}\n          icon={\n            <IconGithubLogo size={\"extra-large\"} onClick={onHomePageClicked} />\n          }\n        />\n      </Space>\n    </Nav.Footer>\n  );\n\n  return (\n    <Nav\n      defaultOpenKeys={[\"Home\"]}\n      mode=\"horizontal\"\n      style={{ userSelect: \"none\" }}\n    >\n      {headerNode}\n      {navFooter}\n    </Nav>\n  );\n};\n","export const GITHUB_HOMEPAGE = \"https://github.com/zsmatrix62/echoo-app\"\nexport const RELEASE_DOWNLOAD_PAGE = \"https://github.com/zsmatrix62/echoo-app/releases\"\n","import * as React from 'react'\nimport { ForwardedRef, Ref, useEffect } from 'react'\nimport { Spin, TextArea } from '@douyinfe/semi-ui'\nimport './autofit-textarea.scss'\nimport { useObservableState } from 'observable-hooks'\n\ntype Props = {\n  placeholder?: string\n  forwardedRef?: Ref<HTMLTextAreaElement>\n  value?: string\n  onChange?: (val: string) => void\n  isOnError?: Array<any>\n  isLoading?: boolean\n  style?: React.CSSProperties\n}\nconst AutoFitTextArea = (props: Props) => {\n  const [cls, setCls] = useObservableState<string>((obs) => {\n    return obs\n  }, 'text-area mod-normal')\n\n  const [loading, setLoading] = useObservableState<boolean | undefined>(\n    (obs) => {\n      return obs\n    },\n    props.isLoading\n  )\n  useEffect(() => {\n    // eslint-disable-next-line no-self-compare\n    if (props.isOnError?.length ?? 0 > 0) {\n      console.debug('setting error selection color')\n      setCls('text-area mod-error')\n    } else {\n      console.debug('reverting selection color')\n      setCls('text-area mod-normal')\n    }\n  }, [props.isOnError, setCls])\n\n  useEffect(() => {\n    setLoading(props.isLoading)\n  }, [props.isLoading, setLoading])\n  return (\n    <>\n      <TextArea\n        onChange={props.onChange}\n        value={props.value}\n        className={cls}\n        placeholder={props.placeholder}\n        ref={props.forwardedRef}\n        style={props.style}\n      ></TextArea>\n      {loading && (\n        <Spin\n          style={{ position: 'fixed', bottom: 95, paddingLeft: 10, zIndex: 99 }}\n        />\n      )}\n    </>\n  )\n}\n\nexport const AutoFitTextAreaWithRef = React.forwardRef(\n  (props: Props, ref: ForwardedRef<HTMLTextAreaElement>) => {\n    return <AutoFitTextArea forwardedRef={ref} {...props} />\n  }\n)\n","// @flow\nimport * as React from 'react';\nimport \"./json-path-guide.scss\"\nimport {Space} from \"@douyinfe/semi-ui\";\n\nexport const JsonPathGuide = () => {\n    return (\n        <Space style={{overflowY: \"scroll\", display: 'flex', flexDirection: \"column\"}}>\n            <>\n                <h2>Operators</h2>\n                <table>\n                    <thead>\n                    <tr>\n                        <th align=\"left\">Operator</th>\n                        <th align=\"left\">Description</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr>\n                        <td align=\"left\"><code>$</code></td>\n                        <td align=\"left\">The root element to query. This starts all path expressions.</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\"><code>@</code></td>\n                        <td align=\"left\">The current node being processed by a filter predicate.</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\"><code>*</code></td>\n                        <td align=\"left\">Wildcard. Available anywhere a name or numeric are required.</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\"><code>..</code></td>\n                        <td align=\"left\">Deep scan. Available anywhere a name is required.</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\"><code>.&lt;name&gt;</code></td>\n                        <td align=\"left\">Dot-notated child</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\"><code>['&lt;name&gt;' (, '&lt;name&gt;')]</code></td>\n                        <td align=\"left\">Bracket-notated child or children</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\"><code>[&lt;number&gt; (, &lt;number&gt;)]</code></td>\n                        <td align=\"left\">Array index or indexes</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\"><code>[start:end]</code></td>\n                        <td align=\"left\">Array slice operator</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\"><code>[?(&lt;expression&gt;)]</code></td>\n                        <td align=\"left\">Filter expression. Expression must evaluate to a boolean value.</td>\n                    </tr>\n                    </tbody>\n                </table>\n            </>\n            <>\n                <h2>Filter Operators</h2>\n                <table>\n                    <thead>\n                    <tr>\n                        <th align=\"left\">Operator</th>\n                        <th align=\"left\">Description</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr>\n                        <td align=\"left\">==</td>\n                        <td align=\"left\">left is equal to right (note that 1 is not equal to '1')</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">!=</td>\n                        <td align=\"left\">left is not equal to right</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">&lt;</td>\n                        <td align=\"left\">left is less than right</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">&lt;=</td>\n                        <td align=\"left\">left is less or equal to right</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">&gt;</td>\n                        <td align=\"left\">left is greater than right</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">&gt;=</td>\n                        <td align=\"left\">left is greater than or equal to right</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">=~</td>\n                        <td align=\"left\">left matches regular expression [?(@.name =~ /foo.*?/i)]</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">in</td>\n                        <td align=\"left\">left exists in right [?(@.size in ['S', 'M'])]</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">nin</td>\n                        <td align=\"left\">left does not exists in right</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">subsetof</td>\n                        <td align=\"left\">left is a subset of right [?(@.sizes subsetof ['S', 'M', 'L'])]</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">anyof</td>\n                        <td align=\"left\">left has an intersection with right [?(@.sizes anyof ['M', 'L'])]</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">noneof</td>\n                        <td align=\"left\">left has no intersection with right [?(@.sizes noneof ['M', 'L'])]</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">size</td>\n                        <td align=\"left\">size of left (array or string) should match right</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">empty</td>\n                        <td align=\"left\">left (array or string) should be empty</td>\n                    </tr>\n                    </tbody>\n                </table>\n            </>\n        </Space>\n    );\n}","import { Observer, ReplaySubject, Subscribable, Unsubscribable } from \"rxjs\";\n\nclass StoreItem<T> implements Subscribable<T> {\n\tpublic $: ReplaySubject<T> = new ReplaySubject<T>()\n\n\tconstructor(private readonly key: string, private defaultValue: T\n\t) {\n\t\t// console.log(key, defaultValue)\n\t\tthis.key = this.key.trim().toLowerCase()\n\t\tthis.$.next(this.value)\n\t}\n\n\tpublic get value() {\n\t\tlet val = this.getValueFromStore();\n\t\tconsole.debug(`read value from store: ${this.key} = ${val}`)\n\t\treturn val\n\t}\n\n\tpublic set value(value: T) {\n\t\tlet storeVal = JSON.stringify({ value: value })\n\t\tconsole.debug(`setting store item: ${this.key}=${storeVal}`)\n\t\tlocalStorage.setItem(this.key, storeVal)\n\t\tthis.$.next(value)\n\t}\n\n\tpublic subscribe(observer: Partial<Observer<T>> | undefined): Unsubscribable {\n\t\treturn this.$.subscribe(observer)\n\t}\n\n\tpublic toggle() {\n\t\tif ([\"Boolean\", \"boolean\"].includes(typeof this.value)) {\n\t\t\t// @ts-ignore\n\t\t\tthis.value = !this.value;\n\t\t}\n\t}\n\n\tprivate getValueFromStore(): T {\n\t\tlet value: string = localStorage.getItem(this.key) ?? '';\n\t\tif (!value) {\n\t\t\treturn this.defaultValue\n\t\t}\n\t\ttry {\n\t\t\tlet initial = JSON.parse(value);\n\t\t\tlet innerValue = initial[\"value\"]\n\t\t\tif (innerValue === undefined) {\n\t\t\t\tthis.value = this.defaultValue\n\t\t\t\treturn this.defaultValue\n\t\t\t}\n\t\t\treturn innerValue;\n\t\t} catch (e) {\n\t\t\treturn this.defaultValue\n\t\t}\n\t}\n}\n\nexport class Pref {\n\tprivate static instance: Pref\n\n\tpublic darkModeEnabled = new StoreItem<boolean>(\"pref:dark-mode\", false)\n\tpublic theme = new StoreItem<string>(\"pref:theme\", \"system\")\n\tpublic isFirstLanching = new StoreItem<boolean>(\"pref:is-first-launching\", true)\n\tpublic allowAnalytics = new StoreItem<boolean>(\"pref:allow-analytics\", false)\n\tpublic osName = new StoreItem<string>(\"pref:os\", \"\")\n\tpublic toolsSiderCollapsed = new StoreItem<boolean>(\"pref:sider-collapsed\", true)\n\tpublic jsonFormatterDefaultIndentSpace = new StoreItem<number>(\"pref:json-formatter:default-indent-space\", 2)\n\n\tpublic static getInstance(): Pref {\n\t\tif (!Pref.instance) {\n\t\t\tPref.instance = new Pref();\n\t\t}\n\t\treturn Pref.instance\n\t}\n}\n","import {useObservableState} from \"observable-hooks\";\nimport {from} from \"rxjs\";\n\nexport const useWasmAPI = () => {\n    return useObservableState(from(import('wasm-api')))\n}","import {\n  Banner,\n  Button,\n  Col,\n  Input,\n  Row,\n  Select,\n  SideSheet,\n  Space,\n  Toast,\n} from \"@douyinfe/semi-ui\";\nimport \"./json-formatter.scss\";\nimport {\n  IconArrowUp,\n  IconCopy,\n  IconHelpCircle,\n  IconLayers,\n} from \"@douyinfe/semi-icons\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { useObservableState } from \"observable-hooks\";\nimport { useMount } from \"react-use\";\nimport { AutoFitTextAreaWithRef } from \"../wigetds/autofit-textarea\";\nimport Text from \"@douyinfe/semi-ui/lib/es/typography/text\";\nimport useClipboard from \"use-clipboard-hook\";\nimport { JSONPath } from \"jsonpath-plus\";\nimport { JsonPathGuide } from \"../wigetds/json-path-guide\";\nimport { Pref } from \"../context/pref\";\nimport CodeMirror from \"@uiw/react-codemirror\";\nimport { isTauriAppContext } from \"../../App\";\nimport { useWasmAPI } from \"../libs/hooks/wasm-api\";\nimport { ValidationError } from \"wasm-api\";\nimport { NewProperAPIClient } from \"../../libs/api/client\";\nimport {\n  InDownloadPioBinary,\n  InTryPioBinary,\n} from \"../../libs/api/proto/tools_pb\";\n\nconst ErrorDisplay = ({\n  input,\n  errors,\n  onFirstErrorRange,\n}: {\n  input?: string;\n  errors: Array<ValidationError>;\n  onFirstErrorRange?: (start: number, end: number) => void;\n}) => {\n  const [errorTags, setErrorTags] = useState<Array<JSX.Element>>([]);\n  useEffect(() => {\n    if (errors.length === 0) {\n      return;\n    }\n    if (!input) {\n      return;\n    }\n\n    const prefixCount = 10;\n    const ellipsePlaceHolderStart = \"... \";\n    const ellipsePlaceHolderEnd = \" ...\";\n    let tags = errors.map((vErr, idx) => {\n      let errAtGreaterThan = Number(vErr.index_start) - prefixCount > 0;\n      let errHasLeftContent =\n        Number(vErr.index_end) + prefixCount < input.length;\n\n      let startAt = errAtGreaterThan\n        ? Number(vErr.index_start) - prefixCount\n        : 0;\n      let endAt = errHasLeftContent\n        ? Number(vErr.index_end) + prefixCount\n        : Number(vErr.index_end);\n\n      const errorHintText = `${\n        errAtGreaterThan ? ellipsePlaceHolderStart : \"\"\n      } ${input.slice(startAt, endAt)}${\n        errHasLeftContent ? ellipsePlaceHolderEnd : \"\"\n      }`;\n\n      let cursorPositionStart = errAtGreaterThan\n        ? startAt - ellipsePlaceHolderStart.length\n        : startAt;\n      let cursorPositionEnd = Number(vErr.index_start);\n\n      if (endAt === input.length) {\n        cursorPositionStart = endAt - errorHintText.length;\n        cursorPositionEnd = endAt - 1;\n      }\n\n      if (onFirstErrorRange) {\n        onFirstErrorRange!(startAt, endAt);\n      }\n\n      return (\n        <div key={idx}>\n          <Space vertical align={\"start\"} spacing={10}>\n            <Text type={\"danger\"}>\n              <code>{errorHintText}</code>\n            </Text>\n            <Text type={\"danger\"}>\n              <code\n                style={{\n                  visibility: \"hidden\",\n                  padding: 0,\n                }}\n              >\n                {input.slice(cursorPositionStart, cursorPositionEnd)}\n              </code>\n              <IconArrowUp />\n            </Text>\n            <code>\n              <Text type=\"danger\" style={{ fontSize: 18 }}>\n                {vErr.description}\n              </Text>\n            </code>\n          </Space>\n        </div>\n      );\n    });\n    setErrorTags(tags);\n  }, [errors, input, onFirstErrorRange]);\n  return <Space>{errorTags}</Space>;\n};\n\nexport const JsonFormatterBlock = () => {\n  let inputPlaceholder =\n    \"Enter your text, Drag/drop files, Right click to load file\";\n  const jsonIndentState = useObservableState<number>(\n    Pref.getInstance().jsonFormatterDefaultIndentSpace.$\n  );\n  const [jsonPathValue, setJsonPathValue] = useState<string>(\"\");\n  const [showJsonPathGuide, setShowJsonPathGuide] = useState<boolean>(false);\n  const inputRef = useRef<HTMLTextAreaElement>(null);\n  const jsonPathRef = useRef<HTMLInputElement>(null);\n  const { copy } = useClipboard({\n    onSuccess: (_) => {\n      Toast.success(\"JSON copied\");\n    },\n  });\n\n  const wasmAPI = useWasmAPI();\n\n  const [inputValue, setInputValue] = useObservableState<string | undefined>(\n    (obs) => {\n      obs.subscribe((changedInput) => {\n        import(\"wasm-api\").then((wasm) => {\n          let error = wasm?.validate_json(changedInput!);\n          if (error) {\n            if (error.code === \"E100\") {\n              return;\n            }\n            setValidationErrors([error]);\n          }\n        });\n      });\n\n      const setOutput = (changed: string) => {\n        Pref.getInstance().jsonFormatterDefaultIndentSpace.subscribe({\n          next: (indent) => {\n            setValidationErrors([]);\n            setOutputJson(changed === \"\" ? \"{}\" : changed, indent);\n          },\n        });\n      };\n\n      obs.subscribe((changed) => {\n        setOutput(changed ?? \"\");\n      });\n      return obs;\n    },\n    undefined\n  );\n\n  const [outputValue, setOutputValue] = useObservableState<string | undefined>(\n    (obs) => {\n      return obs;\n    },\n    undefined\n  );\n\n  const [editorTheme, setEditorTheme] = useObservableState<string | undefined>(\n    (obs) => {\n      return obs;\n    },\n    undefined\n  );\n\n  const [validationErrors, setValidationErrors] = useObservableState<\n    Array<any>\n  >((obs) => {\n    return obs;\n  }, []);\n\n  useMount(() => {\n    Pref.getInstance().darkModeEnabled.subscribe({\n      next: (enabled) => {\n        setEditorTheme(enabled ? \"dark\" : \"light\");\n      },\n    });\n  });\n\n  const setOutputJson = (val?: string, indent?: number | string) => {\n    let outObj = {};\n    let content = \"\";\n    try {\n      if (val) {\n        outObj = JSON.parse(val);\n        if (indent === 91) {\n          indent = \"\\t\";\n        }\n        content = JSON.stringify(outObj, null, indent);\n      }\n    } catch (e) {\n    } finally {\n      setOutputValue(content);\n    }\n  };\n\n  const onInputChanged = (val: string) => {\n    setInputValue(val);\n    setJsonPathValue(\"\");\n  };\n\n  const onCopy = () => {\n    copy(outputValue);\n  };\n\n  function setRandomJson() {\n    const inputVal = wasmAPI?.get_random_json();\n    setInputValue(inputVal);\n  }\n\n  function onCompressClicked() {\n    onIndentSelectionChanged(0);\n  }\n\n  function onClearClicked() {\n    setInputValue(\"\");\n  }\n\n  function onIndentSelectionChanged(\n    value: string | number | any[] | Record<string, any> | undefined\n  ) {\n    const indent = value as number;\n    console.debug(`setting output json as ${indent} spaces indent`);\n    setOutputJson(outputValue, indent);\n    Pref.getInstance().jsonFormatterDefaultIndentSpace.value = indent;\n  }\n\n  const isSidebarCollapsed = useObservableState(\n    Pref.getInstance().toolsSiderCollapsed.$\n  );\n\n  // noinspection RequiredAttributes\n  return (\n    <isTauriAppContext.Consumer>\n      {(isTauri) => (\n        <Row className=\"json-formatter-container\">\n          <SideSheet\n            size={\"large\"}\n            visible={showJsonPathGuide}\n            onCancel={() => {\n              setShowJsonPathGuide(false);\n            }}\n          >\n            <JsonPathGuide />\n          </SideSheet>\n\n          <Row className=\"json-formatter-container-child\" gutter={10}>\n            <Col\n              span={9}\n              className={`input-block ${\n                isTauri ? \"mod-input-block-is-tauri\" : \"\"\n              }`}\n            >\n              <Row style={{ padding: \"10px 0\" }}>\n                <Space>\n                  <Button onClick={setRandomJson}>Sample</Button>\n                  <Button onClick={onClearClicked}>Clear</Button>\n                </Space>\n              </Row>\n              <Row style={{ height: \"100%\" }}>\n                <AutoFitTextAreaWithRef\n                  value={inputValue}\n                  onChange={onInputChanged}\n                  forwardedRef={inputRef}\n                  isOnError={validationErrors}\n                  placeholder={inputPlaceholder}\n                />\n              </Row>\n            </Col>\n            <Col\n              span={15}\n              className={`input-block ${\n                isTauri ? \"mod-input-block-is-tauri\" : \"\"\n              }`}\n            >\n              <Row\n                style={{ padding: \"10px 0\", flexDirection: \"row-reverse\" }}\n                type={\"flex\"}\n              >\n                <Space>\n                  <Button\n                    disabled={!outputValue}\n                    onClick={onCompressClicked}\n                    icon={<IconLayers />}\n                  >\n                    Compress\n                  </Button>\n                  <Select\n                    disabled={!outputValue}\n                    value={jsonIndentState}\n                    defaultValue={jsonIndentState}\n                    style={{ width: 120 }}\n                    onChange={onIndentSelectionChanged}\n                  >\n                    <Select.Option value={2}>2 spaces</Select.Option>\n                    <Select.Option value={4}>4 spaces</Select.Option>\n                    <Select.Option value={91}>1 tab</Select.Option>\n                    <Select.Option value={0}>minified</Select.Option>\n                  </Select>\n                  <Button\n                    disabled={!outputValue}\n                    onClick={onCopy}\n                    icon={<IconCopy />}\n                  >\n                    Copy\n                  </Button>\n                </Space>\n              </Row>\n              <Row className=\"cm-block\">\n                {validationErrors.length > 0 ? (\n                  <Banner\n                    className=\"validation-error\"\n                    fullMode={false}\n                    type=\"danger\"\n                    bordered\n                    icon={null}\n                    closeIcon={null}\n                    description={\n                      <ErrorDisplay\n                        onFirstErrorRange={(_start, _end) => {\n                          // inputRef?.current?.setSelectionRange(start, end)\n                        }}\n                        input={inputValue}\n                        errors={validationErrors}\n                      />\n                    }\n                  />\n                ) : (\n                  <Row\n                    className={`cm-block-group\n\t\t\t\t\t\t\t\t\t\t${isTauri ? \"mod-cm-in-tauri\" : \"mod-cm-in-browser\"}\n\t\t\t\t\t\t\t\t\t\t${isSidebarCollapsed ? \"mod-cm-sider-collapsed\" : \"mod-cm-sider-expanded\"}\n\t\t\t\t\t\t\t\t\t\t`}\n                    type={\"flex\"}\n                    gutter={10}\n                  >\n                    <Row>\n                      <CodeMirror\n                        value={outputValue}\n                        // extensions={[json()]}\n                        theme={editorTheme! as \"light\" | \"dark\"}\n                      />\n                    </Row>\n                    <Row>\n                      <Space style={{ width: \"100%\" }}>\n                        <Input\n                          type=\"text\"\n                          disabled={!validationErrors || !outputValue}\n                          placeholder={\"JSON Path\"}\n                          ref={jsonPathRef}\n                          value={jsonPathValue}\n                          onChange={(val) => {\n                            setJsonPathValue(val);\n                            if (val) {\n                              let res = JSONPath({\n                                path: val,\n                                json: JSON.parse(inputValue!),\n                              });\n                              setOutputJson(\n                                JSON.stringify(res),\n                                jsonIndentState\n                              );\n                            } else {\n                              setInputValue(inputValue);\n                            }\n                          }}\n                        />\n                        <Button\n                          icon={<IconHelpCircle />}\n                          onClick={() => {\n                            setShowJsonPathGuide(true);\n                          }}\n                        />\n                      </Space>\n                    </Row>\n                  </Row>\n                )}\n              </Row>\n            </Col>\n          </Row>\n        </Row>\n      )}\n    </isTauriAppContext.Consumer>\n  );\n};\n","import {RefObject} from \"react\";\nimport {findDOMNode} from \"react-dom\";\n\nexport function GetRefNodeSize(ref: RefObject<any>) {\n    const htmlNode = findDOMNode(ref.current) as HTMLElement\n    return [htmlNode.offsetWidth ?? 0, htmlNode.offsetHeight ?? 0]\n}\n\nexport function base64encode(str: string) {\n    let encode = encodeURIComponent(str)\n    return window.btoa(encode)\n}\n\nexport function base64decode(str: string) {\n    let decode = window.atob(str);\n    return decodeURIComponent(decode)\n}\n\nexport function findNodesByClassName<T extends HTMLElement>(parent: HTMLElement, className: string): Array<T> {\n    let nodes = parent.getElementsByClassName(className)\n    let returnVals: Array<T> = []\n    for (let nodesKey in nodes) {\n        let node = nodes[nodesKey];\n        if (node instanceof HTMLElement) {\n            returnVals.push(node as T)\n        }\n    }\n    return returnVals\n}\n\nexport function formatNumber(n: number, fractionDigits: number = 0) {\n    let ns = n.toFixed(fractionDigits) + '';\n    let x = ns.split('.');\n    let x1 = x[0];\n    let x2 = x.length > 1 ? '.' + x[1] : '';\n    let rgx = /(\\d+)(\\d{3})/;\n    while (rgx.test(x1)) {\n        // eslint-disable-next-line no-useless-concat\n        x1 = x1.replace(rgx, '$1' + ',' + '$2');\n    }\n    return x1 + x2;\n}\n\nexport function base64ToArrayBuffer(base64: string) {\n    const binary_string = window.atob(base64);\n    const len = binary_string.length;\n    const bytes = new Uint8Array(len);\n    for (let i = 0; i < len; i++) {\n        bytes[i] = binary_string.charCodeAt(i);\n    }\n    return bytes;\n}\n\nexport function arrayBufferToBase64(dView: Uint8Array) {\n\n    const arr = Array.prototype.slice.call(dView); //Create a normal array\n\n    const arr1 = arr.map(function (item) {\n        return String.fromCharCode(item);    //Convert\n    });\n\n    return window.btoa(arr1.join(''));   //Form a string\n\n}\n\n\nexport function saveBase64AsFile(base64: string, fileName: string) {\n    const link = document.createElement(\"a\");\n    document.body.appendChild(link);\n    link.setAttribute(\"type\", \"hidden\");\n    link.href = \"data:text/plain;base64,\" + base64;\n    link.download = fileName;\n    link.click();\n    document.body.removeChild(link);\n}\n\nexport function getOS() {\n    return window.navigator.appName\n}","import * as React from 'react';\nimport {useContext, useRef, useState} from 'react';\nimport {Button, Radio, RadioGroup, Row, Space, TabPane, Tabs, Toast, Tooltip} from \"@douyinfe/semi-ui\";\nimport \"./base64serde.scss\"\nimport \"../shared/styles/h-layout.scss\"\nimport {IconArrowUp, IconCopy, IconDownload, IconFile, IconImage} from \"@douyinfe/semi-icons\";\nimport {AutoFitTextAreaWithRef} from \"../wigetds/autofit-textarea\";\nimport {useMount} from \"react-use\";\nimport {useSearchParams} from \"react-router-dom\";\nimport {useObservableState} from \"observable-hooks\";\nimport useClipboard from \"use-clipboard-hook\";\nimport {arrayBufferToBase64, base64decode, base64encode, formatNumber, saveBase64AsFile} from \"../libs/helpers\";\nimport {randSentence} from \"@ngneat/falso\"\nimport Text from \"@douyinfe/semi-ui/lib/es/typography/text\";\nimport sampleData from \"../../assets/base64-img-sample.json\"\nimport {isTauriAppContext} from '../../App';\n\nexport const Base64Serde = () => {\n    // noinspection DuplicatedCode\n    const [defaultTabIdx, setDefaultTabIdx] = useObservableState<string>(\n        obs => {\n            obs.subscribe(idx => {\n                const search = window.location.search;\n                const params = new URLSearchParams(search);\n                params.set(\"tab\", idx)\n                setSearchParams(params)\n            })\n            return obs\n        },\n        \"1\")\n    const [searchParams, setSearchParams] = useSearchParams();\n\n    useMount(() => {\n        let tabIndex = searchParams.get(\"tab\")\n        if (tabIndex) {\n            setDefaultTabIdx(tabIndex);\n        }\n    })\n\n    return (\n\n        <isTauriAppContext.Consumer>\n            {\n                (isTauri) => (\n                    <Tabs defaultActiveKey={defaultTabIdx}\n                          activeKey={defaultTabIdx}\n                          onChange={(key) => {\n                              setDefaultTabIdx(key)\n                          }}\n                          className={`h-layout-container ${isTauri ? 'mod-is-tauri' : ''}`}\n                    >\n                        <TabPane tab={<span> <IconFile/> String </span>} itemKey=\"1\">\n                            <Base64SerdeStringBlockBlock/>\n                        </TabPane>\n                        <TabPane tab={<span> <IconImage/> Image </span>} itemKey=\"2\">\n                            <Base64SerdeImageBlockBlock/>\n                        </TabPane>\n                    </Tabs>\n                )\n            }\n        </isTauriAppContext.Consumer>\n    );\n};\n\nexport const Base64SerdeStringBlockBlock = () => {\n        const [codingType, setCodingType] = useState<number>(0)\n        const [inValue, setInValue] = useObservableState<String>(obs => {\n                return obs\n            }, ''\n        )\n        const [outValue, setOutValue] = useObservableState<String>(obs => {\n            return obs\n        }, '')\n        const {copy} = useClipboard({\n            onSuccess: (_) => {\n                Toast.success({\n                    content: `${codingType === 0 ? 'encoded' : 'decoded'} content copied`,\n                },)\n            }\n        });\n\n        const setInputForm = (value: string) => {\n            setInValue(value)\n            setOutValue(codingType === 0 ? base64encode(value) : base64decode(value))\n        }\n\n        const onGenSampleClicked = () => {\n            setInputForm(randSentence({length: 1})[0])\n        }\n\n        const onClearClicked = () => {\n            setInputForm(\"\")\n        }\n\n        const onCopy = () => {\n            copy(outValue.valueOf())\n        }\n\n        const onUseAsInputClicked = () => {\n            setOutValue(\"\");\n            setInValue(outValue)\n        }\n\n        return (\n            <Row className='h-layout-child-container' type={\"flex\"}>\n                <Row className={'h-layout-child'}>\n                    <Row type='flex' className='header' style={{justifyContent: \"space-between\", alignItems: \"center\"}}>\n                        <Space>\n                            <Button onClick={onGenSampleClicked}>Sample</Button>\n                            <Button onClick={onClearClicked} disabled={!inValue}>Clear</Button>\n                        </Space>\n                        <RadioGroup\n                            style={{paddingRight: 5}}\n                            defaultValue={codingType} value={codingType} onChange={(v) => {\n                            setCodingType(v.target.value as number)\n                            if (inValue !== '') {\n                                try {\n                                    setOutValue(codingType === 1 ? base64encode(inValue.valueOf()) : base64decode(inValue.valueOf()))\n                                } catch (e) {\n                                    setOutValue(\"\")\n                                } finally {\n                                }\n                            }\n                        }}>\n                            <Radio value={0}>Encode</Radio>\n                            <Radio value={1}>Decode</Radio>\n                        </RadioGroup>\n                    </Row>\n                    <Row className={'mod-section-content mod-no-footer'}>\n                        <AutoFitTextAreaWithRef value={inValue.valueOf()} onChange={(value) => {\n                            setInputForm(value)\n                        }}/>\n                    </Row>\n                </Row>\n                <Row className={'h-layout-child'}>\n                    <Row className='header'>\n                        <Space>\n                            <Button onClick={onCopy} disabled={outValue === ''} icon={<IconCopy/>}>Copy</Button>\n                            <Button onClick={onUseAsInputClicked} disabled={outValue === ''} icon={<IconArrowUp/>}>Use\n                                as input</Button>\n                        </Space>\n                    </Row>\n                    <Row className={'mod-section-content mod-no-footer'}>\n                        <AutoFitTextAreaWithRef value={outValue.valueOf()}/>\n                    </Row>\n                </Row>\n            </Row>\n        );\n    }\n;\n\n// noinspection JSUnusedGlobalSymbols\nexport const Base64SerdeImageBlockBlock = () => {\n    const isTauri = useContext(isTauriAppContext)\n    const createImage = (data: string, fileType = \"image/jpeg\") => {\n        let src = `data:${fileType};base64,`;\n        src += data\n        let newImage = document.createElement(\"img\");\n        newImage.src = src\n        newImage.onerror = function (_) {\n            newImage.src = \"\"\n        }\n        return newImage\n    }\n\n    const [base64SourceType, setBase64SourceType] = useObservableState<number>((obs) => {\n        obs.subscribe(_ => {\n            onInValueChanged(\"\")\n        })\n        return obs\n    }, 0)\n\n    const [imgSize, setImageSize] = useState<[number, number]>([0, 0])\n    const [, setImgSrc] = useObservableState<string>(obs => {\n        return obs\n    }, '')\n    const [imgTag, setImgTag] = useObservableState<HTMLImageElement | null>(obs => {\n        // calculate input base64 size\n        obs.subscribe(async tag => {\n            let blobSize = 0\n            if (tag) {\n                let src = \"\"\n                try {\n                    src = tag?.src\n                } catch (e) {\n                }\n                try {\n                    const imgSrc = src ?? \"\"\n                    setImgSrc(imgSrc)\n                    const base64Response = await fetch(imgSrc);\n                    blobSize = (await base64Response.blob()).size\n                } catch (e) {\n                    blobSize = 0\n                } finally {\n                }\n            }\n            setImageBlobSize(blobSize)\n        })\n        return obs\n    }, null)\n\n    const [imgBlobSize, setImageBlobSize] = useState<number>(0)\n\n    const [inValue, setInValue] = useObservableState<string>(obs => {\n        return obs\n    }, \"\")\n    const imgContainerRef = useRef<HTMLDivElement>(null)\n\n\n    const onGenSampleClicked = () => {\n        let data = sampleData.data\n        if (base64SourceType === 1) {\n            data = sampleData.data1\n        }\n        onInValueChanged(data);\n    }\n\n    const onClearClicked = () => {\n        onInValueChanged(\"\")\n    }\n\n    const extractBase64 = (inData: string) => {\n        if (!inData) {\n            return \"\"\n        }\n\n        // source in image tag\n        let matches = inData.match(/data:image\\/[^;]+;base64[^\"]+/igm);\n        if (matches && matches.length > 0) {\n            let fistMatch = matches[0]\n            let base64Data = fistMatch.split(\"base64,\")[1]\n            base64Data = base64Data.slice(0, base64Data.length);\n            return base64Data\n        }\n        return inData;\n    }\n\n    const onInValueChanged = (data: string, fileType: string = \"image/jpeg\") => {\n        setInValue(data);\n\n        // data might be raw base64 string, image html tag, or css url pattern\n        let base64String = extractBase64(data)\n\n        let originalImageResized = document.getElementById(\"created-img-resized\") as HTMLImageElement;\n\n        let imgContainer = imgContainerRef.current\n        const removeExisting = () => {\n            if (imgContainer && originalImageResized) {\n                imgContainer.removeChild(originalImageResized)\n                setImgTag(null)\n            }\n        }\n\n        removeExisting()\n\n        if (base64String === \"\") {\n            setImageSize([0, 0])\n            return\n        } else {\n            try {\n                originalImageResized = createImage(base64String, fileType);\n            } catch (e) {\n                setImageSize([0, 0])\n                return\n            } finally {\n\n            }\n            originalImageResized.id = \"created-img-resized\"\n            originalImageResized.onload = function () {\n                setImageSize([originalImageResized.naturalWidth, originalImageResized.naturalHeight])\n            }\n            if (imgContainer) {\n                imgContainer.appendChild(originalImageResized)\n                setImgTag(originalImageResized)\n            }\n        }\n    }\n\n    const formatBytes = (n: number) => {\n        if (n >= 1024 && n <= 1024 * 1024) {\n            return `${formatNumber(n / 1024, 2)} kB`\n        }\n        if (n >= 1024 * 1024) {\n            return `${formatNumber(n / (1024 * 1024), 2)} MB`\n        }\n\n        return `${formatNumber(n)} bytes`;\n    }\n\n    //<editor-fold desc=\"Read image from fs\">\n    const [isLoadingFile, setIsLoadingFile] = useState<boolean>(false)\n    const fileReaderRef = useRef<HTMLInputElement>(null)\n    const fillBase64FormFromFile = (data: Uint8Array, fileType: string = \"image/jpeg\") => {\n        const base64String = arrayBufferToBase64(data)\n\n        let img = createImage(base64String, fileType)\n        img.hidden = true\n        img.id = \"temp_img\"\n        if (base64SourceType === 0) {\n            onInValueChanged(base64String, fileType)\n        }\n        if (base64SourceType === 1) {\n            onInValueChanged(`<img src=\"${img.src}\" alt=\"\">`, fileType)\n        }\n\n        setIsLoadingFile(false)\n        img.parentElement?.removeChild(img)\n    }\n    const handelInputChange = () => {\n        if (fileReaderRef?.current?.files) {\n            const selectedFile = fileReaderRef!.current!.files![0];\n            setIsLoadingFile(true)\n            selectedFile.arrayBuffer().then((data) => {\n                fillBase64FormFromFile(new Uint8Array(data), selectedFile.type)\n            }).finally(\n                () => {\n                    setIsLoadingFile(false)\n                }\n            )\n        }\n    }\n\n    async function onLoadFileClicked() {\n        if (fileReaderRef.current) {\n            setIsLoadingFile(true)\n            if (isTauri) {\n                // @ts-ignore\n                const tauri = window.__TAURI__;\n                let filePath = await tauri.dialog.open();\n                if (filePath) {\n                    tauri.invoke(\"read_binary_file\", {\"path\": filePath}).then((invokeRes: [string, Uint8Array]) => {\n                        let data = invokeRes[1]\n                        fillBase64FormFromFile(data)\n                    });\n                }\n            } else {\n                fileReaderRef.current.click()\n            }\n            setIsLoadingFile(false)\n        }\n    }\n\n    //</editor-fold>\n\n    return (\n        <Row className='h-layout-child-container'>\n            <Row className='h-layout-child'>\n                <Space className='header'>\n                    <Space>\n                        <Button onClick={onGenSampleClicked}>Sample</Button>\n                        <Button onClick={onClearClicked} disabled={!inValue}>Clear</Button>\n                    </Space>\n                    <RadioGroup\n                        style={{paddingRight: 10}}\n                        defaultValue={base64SourceType} value={base64SourceType}\n                        onChange={(evt) => {\n                            setBase64SourceType(evt.target.value as number)\n                        }}>\n\n                        <Tooltip content={\"Raw base64 string\"}>\n                            <Radio value={0}>\n                                Raw String\n                            </Radio>\n                        </Tooltip>\n                        <Tooltip content={\"HTML/CSS containing base64 string\"}>\n                            <Radio value={1}>HTML / CSS</Radio>\n                        </Tooltip>\n                    </RadioGroup>\n                </Space>\n                <Row className='mod-section-content'>\n                    <AutoFitTextAreaWithRef value={inValue} onChange={(val) => {\n                        onInValueChanged(val)\n                    }}/>\n                </Row>\n                <Row className='footer'>\n                    <span style={{display: \"flex\", flexDirection: \"row-reverse\"}}>\n                        <Text><code>{formatBytes(new Blob([inValue]).size)}</code></Text>\n                    </span>\n                </Row>\n            </Row>\n            <Row className='h-layout-child'>\n                <Row className='header'>\n                    <Space>\n                        <input type={\"file\"} style={{display: \"none\"}} ref={fileReaderRef}\n                               onChange={handelInputChange}/>\n                        <Button loading={isLoadingFile} icon={<IconFile/>} children={\"Load File ...\"}\n                                onClick={onLoadFileClicked}/>\n                        <Button onClick={onClearClicked} disabled={!imgTag}>Clear</Button>\n                        <Button icon={<IconDownload/>} children={\"Save\"} disabled={!imgTag} onClick={async () => {\n                            const base64Raw = base64SourceType === 0 ? inValue : extractBase64(inValue);\n                            if (imgTag) {\n                                let fileExt: string\n                                fileExt = imgTag.src.split(\"image/\")[1].split(\";\")[0] ?? \"\"\n                                if (imgTag.src) {\n                                    if (isTauri) {\n                                        // @ts-ignore\n                                        let tauri = window.__TAURI__;\n                                        tauri.invoke(\"write_binary_file\", {\n                                            \"data\": base64Raw,\n                                            \"fileName\": `img.${fileExt}`\n                                        })\n                                            .catch((err: string) => {\n                                                Toast.error(err)\n                                            })\n                                    } else {\n\n                                        saveBase64AsFile(base64Raw, `img.${fileExt}`);\n                                    }\n                                }\n                            }\n                        }}/>\n                    </Space>\n                </Row>\n                <Row className='mod-section-content'>\n                    <div className='img-container' ref={imgContainerRef}/>\n                </Row>\n\n                <Row className='footer' style={{display: \"flex\", flexDirection: \"row-reverse\"}}>\n                    <Text><code>{imgSize.join(\"x\")} | {formatBytes(imgBlobSize)}</code></Text>\n                </Row>\n            </Row>\n        </Row>\n    );\n};\n","import {\n  Button,\n  Col,\n  Descriptions,\n  Row,\n  Space,\n  Tabs,\n  Toast,\n} from \"@douyinfe/semi-ui\";\nimport { useObservableState } from \"observable-hooks\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { useMount } from \"react-use\";\nimport \"../shared/styles/h-layout.scss\";\nimport { isTauriAppContext } from \"../../App\";\nimport { Percentage } from \"@icon-park/react\";\nimport \"./url-parser.scss\";\nimport { AutoFitTextAreaWithRef } from \"../wigetds/autofit-textarea\";\nimport { Pref } from \"../context/pref\";\nimport { IconCopy } from \"@douyinfe/semi-icons\";\nimport parseUrl from \"parse-url\";\nimport useClipboard from \"use-clipboard-hook\";\nimport CodeMirror from \"@uiw/react-codemirror\";\nimport { json } from \"@codemirror/lang-json\";\n\nexport const UrlParser = () => {\n  // noinspection DuplicatedCode\n  const [defaultTabIdx, setDefaultTabIdx] = useObservableState<string>(\n    (obs) => {\n      obs.subscribe((idx) => {\n        const search = window.location.search;\n        const params = new URLSearchParams(search);\n        params.set(\"tab\", idx);\n        setSearchParams(params);\n      });\n      return obs;\n    },\n    \"1\"\n  );\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  useMount(() => {\n    let tabIndex = searchParams.get(\"tab\");\n    if (tabIndex) {\n      setDefaultTabIdx(tabIndex);\n    }\n  });\n\n  return (\n    <isTauriAppContext.Consumer>\n      {(isTauri) => (\n        <Tabs\n          defaultActiveKey={defaultTabIdx}\n          activeKey={defaultTabIdx}\n          onChange={(key) => {\n            setDefaultTabIdx(key);\n          }}\n          className={`h-layout-container ${isTauri ? \"mod-is-tauri\" : \"\"}`}\n        >\n          <Tabs.TabPane\n            tab={\n              <Space>\n                <Percentage style={{ height: 18 }} /> <span>Parse</span>{\" \"}\n              </Space>\n            }\n            itemKey={\"1\"}\n          >\n            <UrlParserBlock />\n          </Tabs.TabPane>\n          {/*<Tabs.TabPane tab={<Space><LinkTwo style={{height: 18}}/> <span>Encode/Decode</span> </Space>}*/}\n          {/*              itemKey={\"2\"}>*/}\n          {/*</Tabs.TabPane>*/}\n        </Tabs>\n      )}\n    </isTauriAppContext.Consumer>\n  );\n};\n\nexport const UrlParserBlock = () => {\n  const SAMPLE_URL =\n    \"https://www.google.com:443/search?sxsrf=ALeKk03TpCS68ykjCqWWm7_5xDzmkdCBsw%3A1591797655810&ei=l-fgXsOCMcyl-Qaq8p6AAw&q=sample+long+query+string+url&oq=sample+long+query+string+url&gs_lcp=CgZwc3ktYWIQAzoECAAQRzoCCAA6BggAEBYQHjoICCEQFhAdEB46BAgjECc6BwgAEBQQhwI6BwgjELACECc6BAgAEA06CAgAEAgQDRAeOgoIABAIEA0QChAeUIcLWP4vYIAyaAFwAXgAgAF-iAHQC5IBAzkuNpgBAKABAaoBB2d3cy13aXo&sclient=psy-ab&ved=0ahUKEwiDqtCutPfpAhXMUt4KHSq5BzAQ4dUDCAw&uact=5&bb[]=1&bb[]=ab&&bb[]=x#some-hash\";\n\n  const { copy } = useClipboard({\n    onSuccess: (_) => {\n      Toast.success({\n        content: `query content copied`,\n      });\n    },\n  });\n\n  interface ParsedUrl {\n    protocols: string[];\n    protocol: string;\n    port?: string;\n    resource: string;\n    user: string;\n    pathname: string;\n    hash: string;\n    search: string;\n    href: string;\n    query: {\n      [key: string]: any;\n    };\n  }\n\n  const [parsedUrl, setParsedUrl] = useObservableState<ParsedUrl | null>(\n    (obs) => {\n      obs.subscribe((d) => {\n        if (!d) {\n          setOutValue(\"\");\n          return;\n        }\n        setOutValue(JSON.stringify(d?.query ?? {}, null, \"\\t\"));\n      });\n      return obs;\n    },\n    null\n  );\n  const [outValue, setOutValue] = useObservableState<string>((obs) => obs, \"\");\n  const [inValue, setInValue] = useObservableState<string>((obs) => {\n    obs.subscribe((changed) => {\n      if (!changed) {\n        setParsedUrl(null);\n        return;\n      }\n      let parsedUrlObj = parseUrl(changed);\n      setParsedUrl(parsedUrlObj);\n    });\n    return obs;\n  }, \"\");\n\n  return (\n    <Row className={\"parser-block-container\"}>\n      <Row className={\"url-input-container\"}>\n        <Row className=\"actions\">\n          <Space>\n            <Button\n              onClick={() => {\n                setInValue(SAMPLE_URL);\n              }}\n            >\n              Sample\n            </Button>\n            <Button\n              onClick={() => {\n                setInValue(\"\");\n              }}\n            >\n              Clear\n            </Button>\n          </Space>\n        </Row>\n        <Row className=\"url-input-element\">\n          <AutoFitTextAreaWithRef\n            value={inValue.valueOf()}\n            onChange={(v) => {\n              setInValue(v);\n            }}\n            placeholder=\"Input/Paste URL here ...\"\n          />\n        </Row>\n      </Row>\n      <Row className=\"output-container\">\n        <Col span={10} className=\"segments\">\n          <Descriptions align={\"left\"} className=\"des\">\n            <Descriptions.Item itemKey={\"Protocol\"}>\n              {parsedUrl?.protocol ?? \" - \"}\n            </Descriptions.Item>\n            {parsedUrl?.port ? (\n              <Descriptions.Item itemKey={\"Port\"}>\n                {parsedUrl?.port ?? \" - \"}\n              </Descriptions.Item>\n            ) : (\n              <></>\n            )}\n            <Descriptions.Item itemKey={\"Host\"}>\n              {parsedUrl?.resource ?? \" - \"}\n            </Descriptions.Item>\n            <Descriptions.Item itemKey={\"Path\"}>\n              {parsedUrl?.pathname ?? \" - \"}\n            </Descriptions.Item>\n            {parsedUrl?.user ? (\n              <Descriptions.Item itemKey={\"User\"}>\n                {parsedUrl?.user ?? \" - \"}\n              </Descriptions.Item>\n            ) : (\n              <></>\n            )}\n            {parsedUrl?.hash ? (\n              <Descriptions.Item itemKey={\"Hash\"}>\n                {parsedUrl?.hash ?? \" - \"}\n              </Descriptions.Item>\n            ) : (\n              <></>\n            )}\n            <Descriptions.Item itemKey={\"Query\"} className={\"query\"}>\n              {\" \"}\n              {parsedUrl?.search ?? \" - \"}{\" \"}\n            </Descriptions.Item>\n          </Descriptions>\n        </Col>\n        <Col span={14} style={{ paddingLeft: 10 }}>\n          <Row>\n            <Button\n              icon={<IconCopy />}\n              onClick={() => {\n                copy(outValue);\n              }}\n              disabled={!outValue}\n            >\n              Copy\n            </Button>\n          </Row>\n          <Row>\n            <CodeMirror\n              editable={false}\n              value={outValue}\n              className=\"query-json\"\n              lang=\"json\"\n            />\n          </Row>\n        </Col>\n      </Row>\n    </Row>\n  );\n};\n","import { Button, Typography, Col, Input, Row, Select, Space, SideSheet, Descriptions, Toast } from \"@douyinfe/semi-ui\"\nimport { isTauriAppContext } from \"../../App\"\nimport \"./crontab-paser.scss\"\nimport { useWasmAPI } from '../libs/hooks/wasm-api'\nimport { useEffect, useState } from \"react\"\nimport cronstrue from \"cronstrue\"\nimport { IconHelpCircle } from \"@douyinfe/semi-icons\"\nimport { Data, } from \"@douyinfe/semi-ui/lib/es/descriptions\"\nimport useClipboard from \"use-clipboard-hook\"\nimport \"../shared/styles/h-layout.scss\"\n\ntype crontabExample = {\n\tdes: string,\n\texp: string\n}\n\nconst exampleCrontabs: Array<crontabExample> = [\n\t{ des: \"Every minute\", exp: \"* * * * *\" },\n\t{ des: \"Every Five Minutes\", exp: \"*/5 * * * *\" },\n\t{ des: \"Every Hour\", exp: \"0 * * * *\" },\n\t{ des: \"Every Six Hours\", exp: \"*/6 * * * *\" },\n\t{ des: \"Evry 5 minutes from 9am to 5pm\", exp: \"*/5 9-17 * * *\" },\n\t{ des: \"Every minute on Sunday\", exp: \"* * * * SUN\" },\n\t{ des: \"Every day at 2am\", exp: \"0 2 * * *\" },\n\t{ des: \"On October 1st at 3pm\", exp: \"0 15 1 10 *\" },\n]\n\nconst CrontabParser = () => {\n\tconst { Text, } = Typography\n\tconst wasmAPI = useWasmAPI()\n\n\tconst defaultExplain = \"Please enter a cron expression\"\n\tconst [explain, setExplain] = useState(defaultExplain)\n\tconst [isErroCron, setIsErrorCron] = useState(false)\n\tconst [showCrontabHelp, setShowCrontabHelp] = useState(false)\n\tconst [inputExp, setInputExp] = useState(\"\")\n\tconst [data, setData] = useState<Array<Data>>(defaultData)\n\tconst [exmapleIdx, setExampleIdx] = useState<number | undefined>()\n\n\tconst onInpuExpChanged = (exp: string) => {\n\t\tsetInputExp(exp)\n\t\tsetExampleIdx(undefined)\n\t\tif (!exp) {\n\t\t\tsetExplain(defaultExplain)\n\t\t\tsetIsErrorCron(false)\n\t\t\treturn\n\t\t}\n\t\tconst defautlErr = () => {\n\t\t\tsetExplain(`Invalid Expression`)\n\t\t\tsetIsErrorCron(true)\n\t\t}\n\t\ttry {\n\t\t\tconst parseRes = wasmAPI?.parse_crontab_string(exp)\n\t\t\ttry {\n\t\t\t\tconst explain = cronstrue.toString(exp)\n\t\t\t\tsetExplain(explain.replace(\"aN:\", \"00:\"))\n\t\t\t\tsetIsErrorCron(false)\n\t\t\t\tconst expSegs = exp.replace(/\\s\\s/g, '').split(\" \")\n\t\t\t\tconst isAllMinutes = expSegs[0] === \"*\"\n\t\t\t\tconst isAllHours = expSegs[1] === \"*\"\n\t\t\t\tconst isAllDays = expSegs[2] === \"*\"\n\t\t\t\tconst isAllMonths = expSegs[3] === \"*\"\n\t\t\t\tconst isAllWeekdays = expSegs[4] === \"*\"\n\t\t\t\tsetData([\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: \"Minutes\", value: isAllMinutes ? \"(All)\" : Array.from(new Set(parseRes?.minutes)).map((m: Number) => { return \":\" + `${m}`.padStart(2, \"0\") }).join(', '),\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: \"Hours\", value: isAllHours ? \"(All)\" : Array.from(new Set(parseRes?.hours)).map((m: Number) => { return `${m}`.padStart(2, \"0\") }).join(', '),\n\t\t\t\t\t},\n\t\t\t\t\t{ key: \"Days\", value: isAllDays ? \"(All)\" : Array.from(new Set(parseRes?.days)).map((m: Number) => { return `${m}` }).join(', '), },\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: \"Day of Month\", value: isAllMonths ? \"(All)\" : Array.from(new Set(parseRes?.months)).map((m: Number) => {\n\t\t\t\t\t\t\treturn [\n\t\t\t\t\t\t\t\t\"January\",\n\t\t\t\t\t\t\t\t\"February\",\n\t\t\t\t\t\t\t\t\"March\",\n\t\t\t\t\t\t\t\t\"April\",\n\t\t\t\t\t\t\t\t\"May\",\n\t\t\t\t\t\t\t\t\"June\",\n\t\t\t\t\t\t\t\t\"July\",\n\t\t\t\t\t\t\t\t\"August\",\n\t\t\t\t\t\t\t\t\"September\",\n\t\t\t\t\t\t\t\t\"October\",\n\t\t\t\t\t\t\t\t\"November\",\n\t\t\t\t\t\t\t\t\"December\"\n\n\t\t\t\t\t\t\t][(m) as number - 1]\n\t\t\t\t\t\t}).join(', '),\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: \"Day of Week\", value: isAllWeekdays ? \"(All)\" : Array.from(new Set(parseRes?.weekdays)).map((m: Number) => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t0: \"Sunday\",\n\t\t\t\t\t\t\t\t1: \"Monday\",\n\t\t\t\t\t\t\t\t2: \"Tuesday\",\n\t\t\t\t\t\t\t\t3: \"Wedensday\",\n\t\t\t\t\t\t\t\t4: \"Thursday\",\n\t\t\t\t\t\t\t\t5: \"Friday\",\n\t\t\t\t\t\t\t\t6: \"Saturday\",\n\n\t\t\t\t\t\t\t}[(m) as number - 1]\n\t\t\t\t\t\t}).join(', '),\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: \"Next executions\", value:\n\t\t\t\t\t\t\t<Space vertical={true}>\n\t\t\t\t\t\t\t\t{parseRes?.next_executions.split(\"#\").map((n, idx) => {\n\t\t\t\t\t\t\t\t\tlet [local, utc] = n.split(\",\");\n\t\t\t\t\t\t\t\t\treturn <Space key={idx}>\n\t\t\t\t\t\t\t\t\t\t<Text code>{local}</Text>\n\t\t\t\t\t\t\t\t\t\t<span>{utc}</span>\n\t\t\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Space>\n\n\t\t\t\t\t}\n\t\t\t\t])\n\t\t\t} catch (_) {\n\t\t\t\tdefautlErr()\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tlet errMsg = `${e}`;\n\t\t\tif (errMsg.startsWith(\"RuntimeError\")) {\n\t\t\t\tconsole.error(e)\n\t\t\t\tdefautlErr();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetExplain(errMsg)\n\t\t\tsetIsErrorCron(true)\n\t\t}\n\t}\n\n\t// @ts-ignore\n\tconst onExampleSelected = (index: any) => {\n\t\tconst exp = exampleCrontabs[index].exp\n\t\tsetInputExp(exp)\n\t\tonInpuExpChanged(exp)\n\t}\n\n\tconst { copy } = useClipboard({\n\t\tonSuccess: (_) => {\n\t\t\tToast.success({\n\t\t\t\tcontent: `Copied Crontab expression.`,\n\t\t\t})\n\t\t},\n\t})\n\n\t// setInputExp(\"0 */21 * * WED-THU\")\n\t// onInpuExpChanged(\"0 */21 * * WED-THU\")\n\n\treturn (\n\t\t<Row>\n\t\t\t<SideSheet\n\t\t\t\tsize={'medium'}\n\t\t\t\tvisible={showCrontabHelp}\n\t\t\t\tonCancel={() => {\n\t\t\t\t\tsetShowCrontabHelp(false)\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<CrontabHelp />\n\t\t\t</SideSheet>\n\t\t\t<Row className={'crontab-input-actions'}>\n\t\t\t\t<Row>\n\t\t\t\t\t<Space>\n\t\t\t\t\t\t<Button onClick={() => {\n\t\t\t\t\t\t\tlet idx = Math.floor(exampleCrontabs.length * Math.random());\n\t\t\t\t\t\t\tconst exp = exampleCrontabs[idx].exp\n\t\t\t\t\t\t\tsetInputExp(exp)\n\t\t\t\t\t\t\tsetExplain(defaultExplain)\n\t\t\t\t\t\t\tonInpuExpChanged(exp)\n\t\t\t\t\t\t\tsetExampleIdx(idx)\n\t\t\t\t\t\t}} > Sample </Button>\n\t\t\t\t\t\t<Button onClick={() => {\n\t\t\t\t\t\t\tsetInputExp(\"\")\n\t\t\t\t\t\t\tsetExplain(defaultExplain)\n\t\t\t\t\t\t\tonInpuExpChanged(\"\")\n\t\t\t\t\t\t\tsetData(defaultData)\n\t\t\t\t\t\t}} > Clear </Button>\n\t\t\t\t\t\t<Button onClick={() => {\n\t\t\t\t\t\t\tcopy(inputExp)\n\t\t\t\t\t\t}} disabled={!inputExp} > Copy </Button>\n\t\t\t\t\t</Space>\n\t\t\t\t</Row>\n\t\t\t</Row>\n\t\t\t<Row className={'crontab-input-container'}>\n\t\t\t\t<Col span={11} style={{ paddingLeft: \"5px\" }}>\n\t\t\t\t\t<Space style={{ width: \"100%\" }} >\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticon={<IconHelpCircle />}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetShowCrontabHelp(true)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tplaceholder=\"* * * * *\" value={inputExp} onChange={onInpuExpChanged}></Input>\n\t\t\t\t\t</Space>\n\n\t\t\t\t</Col>\n\t\t\t\t<Col span={11} style={{ paddingLeft: \"10px\" }}>\n\t\t\t\t\t<Select style={{ width: \"100%\" }}\n\t\t\t\t\t\tplaceholder=\"Pick an example ...\"\n\t\t\t\t\t\tonSelect={onExampleSelected}\n\t\t\t\t\t\tdefaultValue={undefined}\n\t\t\t\t\t\tvalue={exmapleIdx}\n\t\t\t\t\t>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\texampleCrontabs.map((exp, idx) => {\n\t\t\t\t\t\t\t\treturn <Select.Option\n\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\tvalue={idx}>{`${exp.des} (${exp.exp})`}</Select.Option>\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t</Select>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"crontab-content\">\n\t\t\t\t<Row className={'crontab-explain'}>\n\t\t\t\t\t<Col span={24}>\n\t\t\t\t\t\t<Text type={isErroCron ? \"danger\" : \"secondary\"}>{explain}</Text>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row style={{ marginTop: \"20px\" }}>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<CrontabParserResDisplay data={data} />\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Row>\n\t\t</Row >\n\t)\n}\n\nlet defaultData: Array<Data> = [\n\t{ key: \"Minutes\", value: \"-\" },\n\t{ key: \"Hours\", value: \"-\" },\n\t{ key: \"Day of Month\", value: \"-\" },\n\t{ key: \"Months\", value: \"-\" },\n\t{ key: \"Day of Week\", value: \"-\" },\n\t{ key: \"Next executions\", value: \"-\" },\n]\nconst CrontabParserResDisplay = (props: { data: Array<Data> }) => {\n\tconst [data, setData] = useState<Array<Data> | undefined>()\n\n\tuseEffect(() => {\n\t\tsetData(props.data)\n\t}, [props])\n\n\treturn <Descriptions\n\t\talign={'left'}\n\t\tstyle={{ width: \"100%\" }} data={data}> </Descriptions>\n}\n\nconst CrontabHelp = () => {\n\treturn <Row>\n\t\t<Col>\n\t\t\t<Row>\n\t\t\t\t<Col>\n\t\t\t\t\t<table>\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Field</th>\n\t\t\t\t\t\t\t\t<th>Required</th>\n\t\t\t\t\t\t\t\t<th>Allowed values</th>\n\t\t\t\t\t\t\t\t<th>Allowed special characters</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>Minutes</td>\n\t\t\t\t\t\t\t\t<td>Yes</td>\n\t\t\t\t\t\t\t\t<td>059</td>\n\t\t\t\t\t\t\t\t<td>* , - /</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>Hours</td>\n\t\t\t\t\t\t\t\t<td>Yes</td>\n\t\t\t\t\t\t\t\t<td>023</td>\n\t\t\t\t\t\t\t\t<td>* , - /</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>Day of month</td>\n\t\t\t\t\t\t\t\t<td>Yes</td>\n\t\t\t\t\t\t\t\t<td>131</td>\n\t\t\t\t\t\t\t\t<td>* , - /</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>Month</td>\n\t\t\t\t\t\t\t\t<td>Yes</td>\n\t\t\t\t\t\t\t\t<td>112 or Jan-Dec</td>\n\t\t\t\t\t\t\t\t<td>* , - /</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>Day of week</td>\n\t\t\t\t\t\t\t\t<td>Yes</td>\n\t\t\t\t\t\t\t\t<td>17 or Sun-Sat</td>\n\t\t\t\t\t\t\t\t<td>* , - /</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\n\t\t</Col>\n\t</Row>\n}\n\nexport const CrontabParserBlock = () => {\n\treturn (\n\t\t<isTauriAppContext.Consumer>\n\t\t\t{(isTauri) => (\n\t\t\t\t<Row className={`h-layout-container ${isTauri ? 'mod-is-tauri' : ''}`}\n\t\t\t\t\tstyle={{ padding: \"10px 10px\" }}\n\t\t\t\t>\n\t\t\t\t\t<CrontabParser></CrontabParser>\n\t\t\t\t</Row>\n\t\t\t)}\n\t\t</isTauriAppContext.Consumer>\n\t)\n}\n","function theDay(date) {\n  return Math.ceil(\n    (new Date(date) - new Date(new Date(date).getFullYear().toString())) /\n      (24 * 60 * 60 * 1000) +\n      1\n  )\n}\n\nfunction theWeek(now) {\n  //\n  var days = theDay(now)\n  //\n  var startWeek = new Date(\n    new Date(now).getFullYear().toString() + '/01/01'\n  ).getDay()\n  //\n  var weeks = Math.ceil((days + startWeek - 1) / 7)\n  return weeks\n}\n\n/*\n ** \n ** eg.\n ** dateFormat(11111111111111, 'Ymd Hi')\n **  \"23220206 0345\"\n */\nvar dateFormat = function (timestamp, formats) {\n  // formats\n  // 1. Y-m-d\n  // 2. Y-m-d H:i:s\n  // 3. Ymd\n  // 4. Ymd Hi\n  formats = formats || 'Y-m-d'\n\n  var zero = function (value) {\n    if (value < 10) {\n      return '0' + value\n    }\n    return value\n  }\n\n  var myDate = timestamp ? new Date(timestamp) : new Date()\n\n  var year = myDate.getFullYear()\n  var month = zero(myDate.getMonth() + 1)\n  var day = zero(myDate.getDate())\n\n  var hour = zero(myDate.getHours())\n  var minite = zero(myDate.getMinutes())\n  var second = zero(myDate.getSeconds())\n\n  return formats.replace(/Y|m|d|H|i|s/gi, function (matches) {\n    return {\n      Y: year,\n      m: month,\n      d: day,\n      H: hour,\n      i: minite,\n      s: second,\n    }[matches]\n  })\n}\n\nfunction isLeap(now) {\n  return Math.round(now.getYear() / 4) == now.getYear() / 4\n}\n\nexport { theDay, theWeek, isLeap, dateFormat }\n","import { BaseFormApi } from \"@douyinfe/semi-foundation/lib/es/form/interface\";\nimport { IconCopy } from \"@douyinfe/semi-icons\";\nimport {\n  Button,\n  Card,\n  Col,\n  DatePicker,\n  Form,\n  Input,\n  InputGroup,\n  Row,\n  Select,\n  Space,\n  TimePicker,\n  Toast,\n  Typography,\n} from \"@douyinfe/semi-ui\";\nimport Label from \"@douyinfe/semi-ui/lib/es/form/label\";\nimport { Copy } from \"@icon-park/react\";\nimport Correct from \"@icon-park/react/es/icons/Correct\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport useClipboard from \"use-clipboard-hook\";\nimport { isTauriAppContext } from \"../../App\";\nimport { theDay, theWeek, isLeap, dateFormat } from \"../../utils/calendar\";\n\nconst WEEK_STR = [\n  \"Monday\",\n  \"Tuesday\",\n  \"Wednesday\",\n  \"Thursday\",\n  \"Friday\",\n  \"Saturday\",\n  \"Sunday\",\n];\nconst MONTH_STR = [\n  \"Jan\",\n  \"Feb\",\n  \"Mar\",\n  \"Apr\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"Aug\",\n  \"Sep\",\n  \"Oct\",\n  \"Nov\",\n  \"Dec\",\n];\n\nconst CopyableInput = (props: { content: string | number }) => {\n  const [copiedOk, setCopiedOk] = useState(false);\n  const { copy } = useClipboard({\n    onSuccess: (_) => {\n      setCopiedOk(true);\n      setTimeout(() => {\n        setCopiedOk(false);\n      }, 2000);\n    },\n  });\n  // @ts-ignore\n  const onClicked = (content: string | number) => {\n    copy(content.toString());\n  };\n  return (\n    <div>\n      <Space spacing={1}>\n        <Input\n          style={{ minWidth: \"300px\", paddingLeft: \"0\" }}\n          contentEditable={false}\n          value={props.content}\n        />\n        <Button\n          onClick={() => {\n            onClicked(props.content);\n          }}\n          theme=\"borderless\"\n        >\n          {copiedOk ? (\n            <Space>\n              <Correct size={21} theme=\"filled\" fill=\"#50e3c2\" />\n              <Typography.Text>Success</Typography.Text>\n            </Space>\n          ) : (\n            <Copy size={21} theme=\"filled\" />\n          )}\n        </Button>\n      </Space>\n    </div>\n  );\n};\n\nexport const UnixTimeConverterPage = () => {\n  const [dateType, setDateType] = useState<String>(\"ms\");\n  const [curDate, setCurDate] = useState<Date>(new Date());\n  const [nowDate, setNowDate] = useState<Date>(new Date());\n  const formApi = useRef<BaseFormApi<any>>();\n\n  const itemStyle = { width: \"90%\" };\n\n  const renderLabelText = (text: String, field: string) => {\n    return (\n      <div>\n        <span style={{ fontWeight: 600 }}>{text}</span>\n      </div>\n    );\n  };\n  //Date\n  const isValidDate = (date: any) => {\n    console.log(date instanceof Date, !isNaN(date.getTime()));\n    return date instanceof Date && !isNaN(date.getTime());\n  };\n\n  const setOtherField = (\n    timestamp: number,\n    curField: string,\n    type = dateType\n  ) => {\n    let t = timestamp;\n    if (curField == \"timestamp\" && type == \"s\") {\n      t = Number((t * 1000).toFixed(0));\n    }\n    const date = new Date(t);\n    if (isValidDate(date)) {\n      const setField = curField == \"timestamp\" ? \"date\" : \"timestamp\";\n      const setValue =\n        setField == \"timestamp\"\n          ? type == \"s\"\n            ? (t / 1000).toFixed(0)\n            : String(t)\n          : date;\n      formApi.current?.setValue(setField, setValue);\n      formApi.current?.setError(curField, \"\");\n      setCurDate(date);\n    } else {\n      formApi.current?.setError(curField, \"Invalid Date\");\n    }\n  };\n\n  const loadNowTime = () => {\n    const nowTimeStamp = new Date().getTime();\n    const step = 1000 - (nowTimeStamp % 1000);\n    setTimeout(() => {\n      loadNowTime();\n      setNowDate(new Date(nowTimeStamp + step));\n    }, step);\n  };\n  useEffect(() => {\n    loadNowTime();\n  }, []);\n\n  const presetsTimes = [\n    {\n      text: \"Now\",\n      start: new Date(),\n      end: new Date(),\n    },\n  ];\n\n  return (\n    <isTauriAppContext.Consumer>\n      {(isTauri) => (\n        <Form\n          style={{ padding: \"0 20px\", width: \"100%\", boxSizing: \"border-box\" }}\n          getFormApi={(api) => (formApi.current = api)}\n          onValueChange={(values, changeValue) => {\n            for (let i in changeValue) {\n              //\n              if (!changeValue[i]) {\n                formApi.current?.setValues({});\n              }\n            }\n          }}\n        >\n          <Row>\n            <Col span={12}>\n              <Form.InputGroup\n                style={itemStyle}\n                label={{ text: renderLabelText(\"Unix Timestamp\", \"timestamp\") }}\n              >\n                <Form.Input\n                  style={{ width: \"60%\" }}\n                  field=\"timestamp\"\n                  initValue={curDate.getTime()}\n                  onChange={(value: any) => {\n                    setOtherField(Number(value), \"timestamp\");\n                  }}\n                ></Form.Input>\n                <Form.Select\n                  field=\"dateType\"\n                  style={{ width: \"40%\" }}\n                  initValue={dateType}\n                  onChange={(value: any) => {\n                    setDateType(value);\n                    setOtherField(\n                      Number(formApi.current?.getValue(\"date\")),\n                      \"date\",\n                      value\n                    );\n                  }}\n                >\n                  <Form.Select.Option value=\"ms\">\n                    Milliseconds\n                  </Form.Select.Option>\n                  <Form.Select.Option value=\"s\">Seconds</Form.Select.Option>\n                </Form.Select>\n              </Form.InputGroup>\n            </Col>\n            <Col span={12}>\n              <Form.DatePicker\n                presets={presetsTimes}\n                field=\"date\"\n                label={renderLabelText(\"Choose Time\", \"date\")}\n                style={itemStyle}\n                initValue={curDate}\n                type=\"dateTime\"\n                placeholder=\"Select Time\"\n                onChange={(value: any) => {\n                  if (value && isValidDate(value)) {\n                    setOtherField(new Date(value).getTime(), \"date\");\n                  }\n                }}\n              />\n            </Col>\n          </Row>\n          <Card>\n            <Row gutter={[20, 20]}>\n              <Col span={8}>\n                <Label style={{ fontWeight: 600 }}>Now</Label>\n                <CopyableInput content={nowDate.toString()} />\n              </Col>\n              <Col span={8}>\n                <Label style={{ fontWeight: 600 }}>UTC</Label>\n                <CopyableInput content={curDate.toUTCString()} />\n              </Col>\n              <Col span={8}>\n                <Label style={{ fontWeight: 600 }}>ISO</Label>\n                <CopyableInput content={curDate.toString()} />\n              </Col>\n            </Row>\n          </Card>\n          <Card style={{ marginTop: \"10px\" }}>\n            <Row gutter={[20, 20]}>\n              <Col span={8}>\n                <Label style={{ fontWeight: 600 }}>Day of Year</Label>\n                <CopyableInput content={theDay(curDate)} />\n              </Col>\n              <Col span={8}>\n                <Label style={{ fontWeight: 600 }}>Week of Year</Label>\n                <CopyableInput content={theWeek(curDate)} />\n              </Col>\n              <Col span={8}>\n                <Label style={{ fontWeight: 600 }}>Leap Year:</Label>\n                <CopyableInput content={isLeap(curDate) ? \"Yes\" : \"No\"} />\n              </Col>\n            </Row>\n          </Card>\n\n          <Card title=\"Other formats (local)\" style={{ marginTop: \"10px\" }}>\n            <Row gutter={[0, 20]}>\n              <Col>\n                <CopyableInput\n                  content={`${MONTH_STR[curDate.getMonth()]},${\n                    WEEK_STR[curDate.getDay()]\n                  }${dateFormat(curDate.getTime(), \" d, Y\")}`}\n                />\n              </Col>\n              <Col>\n                <CopyableInput\n                  content={dateFormat(curDate.getTime(), \"d/m/Y\")}\n                />\n              </Col>\n              <Col>\n                <CopyableInput\n                  content={dateFormat(curDate.getTime(), \"Y-m-d\")}\n                />\n              </Col>\n              <Col>\n                <CopyableInput\n                  content={dateFormat(curDate.getTime(), \"d-m-Y H:i\")}\n                />\n              </Col>\n              <Col>\n                <CopyableInput\n                  content={dateFormat(curDate.getTime(), \"Y-m-d H:i\")}\n                />\n              </Col>\n            </Row>\n          </Card>\n        </Form>\n      )}\n    </isTauriAppContext.Consumer>\n  );\n};\n","import {\n  Button,\n  Col,\n  Radio,\n  RadioGroup,\n  Row,\n  Space,\n  Notification,\n  Toast,\n  Typography,\n} from '@douyinfe/semi-ui'\nimport Textarea from '@douyinfe/semi-ui/lib/es/input/textarea'\nimport { RadioChangeEvent } from '@douyinfe/semi-ui/lib/es/radio'\nimport { ArrowDown, ArrowUp, Copy, CornerLeftUp } from '@icon-park/react'\nimport { type } from 'os'\nimport { useEffect, useState } from 'react'\nimport useClipboard from 'use-clipboard-hook'\nimport { isTauriAppContext } from '../../App'\nimport { AutoFitTextAreaWithRef } from '../wigetds/autofit-textarea'\nimport './url-encode.scss'\n\nconst exampleString = \"abc 0123 !@#$%^&*()|+?<>',.;:`\"\nconst inputPlaceholder = `Input`\nconst outputPlaceholder = `Output`\n\nexport const UrlEncodePage = () => {\n  const typeRadios = [\n    'Encode',\n    'Decode',\n    'Encode Component',\n    'Decode Component',\n  ]\n  const [curType, setCurType] = useState('Encode')\n  const [outputValue, setOutputValue] = useState<string>('')\n  const [inputValue, setInputValue] = useState<string>('')\n  const { copy } = useClipboard({\n    onSuccess: (_) => {\n      Toast.success('copied content!')\n    },\n  })\n  const inputChange = (type: string, value: string) => {\n    try {\n      if (type === 'Encode') {\n        setOutputValue(encodeURI(value))\n      } else if (type === 'Decode') {\n        setOutputValue(decodeURI(value))\n      } else if (type === 'Encode Component') {\n        setOutputValue(encodeURIComponent(value))\n      } else if (type === 'Decode Component') {\n        setOutputValue(decodeURIComponent(value))\n      }\n    } catch (err: any) {\n      Toast.error({ content: err.toString(), duration: 3 })\n      setOutputValue('')\n    }\n  }\n  useEffect(() => {\n    inputChange(curType, inputValue)\n  }, [inputValue, curType])\n  return (\n    <isTauriAppContext.Consumer>\n      {(isTauri) => (\n        <div className=\"url-encode-container\">\n          <div className=\"action-bar\">\n            <div>\n              <Space>\n                <Typography.Text>Input:</Typography.Text>\n                <Button\n                  onClick={() => {\n                    setInputValue(exampleString)\n                  }}\n                >\n                  Sample\n                </Button>\n                <Button\n                  onClick={() => {\n                    setInputValue('')\n                  }}\n                >\n                  Clear\n                </Button>\n              </Space>\n            </div>\n            <div>\n              <RadioGroup\n                onChange={(e) => {\n                  setCurType(e.target.value)\n                }}\n                value={curType}\n              >\n                {typeRadios.map((item, index) => {\n                  return (\n                    <Radio key={index} value={item}>\n                      {item}\n                    </Radio>\n                  )\n                })}\n              </RadioGroup>\n            </div>\n          </div>\n          <div className=\"input-wrap\">\n            <AutoFitTextAreaWithRef\n              placeholder={inputPlaceholder}\n              value={inputValue}\n              onChange={(value) => {\n                setInputValue(value)\n              }}\n            ></AutoFitTextAreaWithRef>\n          </div>\n          <div className=\"action-bar\">\n            <Space>\n              <Typography.Text>Output:</Typography.Text>\n              <Button\n                icon={<CornerLeftUp theme=\"outline\" />}\n                onClick={() => {\n                  setInputValue(outputValue)\n                }}\n              >\n                Use as input\n              </Button>\n            </Space>\n            <Button\n              icon={<Copy theme=\"outline\" />}\n              onClick={() => {\n                if (outputValue) {\n                  copy(outputValue)\n                }\n              }}\n            >\n              Copy\n            </Button>\n          </div>\n          <div className=\"input-wrap\">\n            <AutoFitTextAreaWithRef\n              value={outputValue}\n              placeholder={outputPlaceholder}\n            ></AutoFitTextAreaWithRef>\n          </div>\n        </div>\n      )}\n    </isTauriAppContext.Consumer>\n  )\n}\n","import { NavItemProps } from '@douyinfe/semi-ui/lib/es/navigation'\nimport {\n  Calendar,\n  CodeBrackets,\n  LinkOne,\n  PayCode,\n  Percentage,\n  Time,\n} from '@icon-park/react'\nimport { ReactNode } from 'react'\nimport { JsonFormatterBlock } from '../tool-blocks/json-formatter'\nimport { Icon } from '@douyinfe/semi-ui'\nimport { Base64Serde } from '../tool-blocks/base64serde'\nimport { UrlParser } from '../tool-blocks/url-parser'\nimport { CrontabParserBlock } from '../tool-blocks/crontab-parser'\nimport { UnixTimeConverterPage } from '../tool-blocks/unix-time-converter'\nimport { UrlEncodePage } from '../tool-blocks/url-encode'\n\ntype ToolSiderItem = {\n  navItemProps: NavItemProps\n  node: ReactNode\n}\n\nconst ToolSiderConfigs: { [key: string]: ToolSiderItem } = {\n  'json-formatter': {\n    navItemProps: {\n      itemKey: 'json-formatter',\n      text: 'JSON Formatter',\n      icon: <Icon svg={<CodeBrackets theme=\"outline\" />} />,\n    },\n    node: <JsonFormatterBlock />,\n  },\n  'base64-serde': {\n    navItemProps: {\n      itemKey: 'base64-serde',\n      text: 'Base64 Coders',\n      icon: <Icon svg={<PayCode theme=\"outline\" />} />,\n    },\n    node: <Base64Serde />,\n  },\n  'url-parser': {\n    navItemProps: {\n      itemKey: 'url-parser',\n      text: 'URL Parser',\n      icon: <Icon svg={<LinkOne theme=\"outline\" />} />,\n    },\n    node: <UrlParser />,\n  },\n  'crontab-parser': {\n    navItemProps: {\n      itemKey: 'crontab-parser',\n      text: 'Crontab Parser',\n      icon: <Icon svg={<Calendar theme=\"outline\" />} />,\n    },\n    node: <CrontabParserBlock />,\n  },\n  'unix-time-converter': {\n    navItemProps: {\n      itemKey: 'unix-time-converter',\n      text: 'Unix Time Converter',\n      icon: <Icon svg={<Time theme=\"outline\" />} />,\n    },\n    node: <UnixTimeConverterPage />,\n  },\n  'url-encode': {\n    navItemProps: {\n      itemKey: 'url-encode',\n      text: 'URL Encode/Decode',\n      icon: <Icon svg={<Percentage theme=\"outline\" />} />,\n    },\n    node: <UrlEncodePage />,\n  },\n}\n\nexport default ToolSiderConfigs\n","import {useEffect, useState} from \"react\";\n\nexport function GetStorageValue<T>(key: string, defaultValue: T) {\n    const saved = localStorage.getItem(key);\n    if (!saved) {\n        return defaultValue\n    }\n    try {\n        const initial = JSON.parse(saved);\n        Object.assign(defaultValue, initial)\n        return initial || defaultValue;\n    } catch (e) {\n        return defaultValue\n    }\n}\n\nexport const useLocalStore = function <T>(key: string, defaultValue: T) {\n    const [value, setValue] = useState<T>(GetStorageValue(key, defaultValue));\n\n    function f(val: T) {\n        localStorage.setItem(key, JSON.stringify(value))\n        setValue(val)\n    }\n\n    useEffect(() => {\n        localStorage.setItem(key, JSON.stringify(value))\n    }, [key, value])\n\n    return [value, f]\n}","export const PrivacyPage = () => {\n\treturn (<p style={{ padding: \"0 20px\" }}>\n\n\t\t<h1>Privacy Policy</h1>\n\n\t\t<br />\n\t\t<br />\n\t\tThis software respects and protects the personal privacy of all users who use the service. In order to provide you with more accurate and personalized services, this software will use and disclose your personal information in accordance with the provisions of this Privacy Policy. However, this software will treat this information with a high degree of diligence and prudence. Except as otherwise provided in this Privacy Policy, this software will not disclose or provide this information to third parties without your prior permission. This software will update this privacy policy from time to time. When you agree to the software service use agreement, you are deemed to have agreed to the entire content of this privacy policy. This privacy policy is an integral part of this software service use agreement.\n\t\t<br />\n\t\t<br />\n\t\t1. Scope of application\n\n\t\t<br />\n\t\t<br />\n\t\ta) When you use the software network services, the software automatically receives and records the information on your PC/Mac, including language used, access date and time, software and hardware feature information and your needs Web page records and other data;\n\t\t<br />\n\t\t<br />\n\t\t2. Use of Information\n\n\t\t<br />\n\t\t<br />\n\t\ta) After obtaining your data, the software will upload it to the server to generate your ranking data so that you can use the service better.\n\n\t\t<br />\n\t\t<br />\n\t\t3. Information disclosure\n\n\t\t<br />\n\t\t<br />\n\t\ta) This software will not disclose your information to untrusted third parties.\n\n\t\t<br />\n\t\t<br />\n\t\tb) In accordance with the relevant provisions of the law, or the requirements of administrative or judicial institutions, disclose to third parties or administrative or judicial institutions;\n\t\t<br />\n\t\t<br />\n\t\t4. Information storage and exchange The information and materials about you collected by this software will be saved on the servers of this software and (or) its affiliated companies, and these information and materials may be transmitted to your country, region or the information and materials collected by this software. The material is located outside the country and is accessed, stored and displayed outside the country.\n\n\t\t<br />\n\t\t<br />\n\t\t5. Information Security\n\t\t<br />\n\t\t<br />\n\n\t\ta) When using the network services of this software to conduct online transactions, you will inevitably disclose your personal information, such as contact information or postal address, to the counterparty or potential counterparty. Please properly protect your personal information and provide it to others only when necessary. If you find that your personal information is leaked, please contact the software customer service immediately so that the software can take corresponding measures.\n\n\t</p>);\n}\n","import { useEffect, useRef, useState } from 'react';\nimport { Button, Col, Form, Modal, Row, SideSheet, Space, Typography } from \"@douyinfe/semi-ui\";\nimport Section from \"@douyinfe/semi-ui/lib/es/form/section\";\nimport { IMac, Magic, } from \"@icon-park/react\";\nimport Text from \"@douyinfe/semi-ui/lib/es/typography/text\";\nimport { IconMoon, IconSun } from \"@douyinfe/semi-icons\";\nimport { useLocalStore } from \"../libs/hooks/localstore\";\nimport { useObservableState } from \"observable-hooks\";\nimport { Pref } from \"../context/pref\";\nimport { PrivacyPage } from './privacy';\nimport { useLocation } from 'react-router-dom';\n\nexport type EchooSettings = {\n\t\"appearance:theme\": \"dark\" | \"light\" | \"system\"\n\t\"updates:check-automatically\": boolean\n}\n\nexport const EchooSettingsDefault: EchooSettings = {\n\t\"appearance:theme\": \"system\",\n\t\"updates:check-automatically\": true\n}\n\ntype settingsModelProps = { visible: boolean, onVisibleChange: (v: boolean) => void }\nexport const SettingsModal = ({ visible, onVisibleChange }: settingsModelProps) => {\n\tconst [settings, setSettings] = useLocalStore(\"settings\", EchooSettingsDefault)\n\tconst [shown, setShown] = useObservableState<boolean>(obs => {\n\t\tobs.subscribe(shown => {\n\t\t\tonVisibleChange(shown)\n\t\t})\n\t\treturn obs\n\t}, visible)\n\n\tconst formRef = useRef<Form>(null)\n\n\tconst onChangeOfAnyField = (v: any) => {\n\t\t// @ts-ignore\n\t\tsetSettings(v)\n\n\t\tlet theme = v['appearance:theme'];\n\t\tPref.getInstance().theme.$.next(theme)\n\t}\n\n\tconst location = useLocation()\n\tconst [showPrivacy, setShowPrivacy] = useState(false)\n\n\tuseEffect(() => {\n\t\tsetShown(visible)\n\t\tif (location.pathname === \"/privacy\") {\n\t\t\tsetShowPrivacy(true)\n\t\t}\n\t}, [setShown, visible, location.pathname])\n\n\t// noinspection RequiredAttributes\n\treturn (\n\t\t<Modal centered visible={shown}\n\t\t\tfooter={\n\t\t\t\t<Button type={\"danger\"} onClick={() => {\n\t\t\t\t\tsetShown(!shown)\n\t\t\t\t}}>Close</Button>\n\t\t\t}\n\t\t\tclosable={false}\n\t\t\twidth={\"600px\"}\n\t\t\theight={\"520px\"}\n\t\t\tkeepDOM={true}\n\t\t\tbodyStyle={{ overflow: 'auto', height: \"400px\", width: \"600px\" }}\n\t\t>\n\n\t\t\t<SideSheet size='medium' visible={showPrivacy} onCancel={() => { setShowPrivacy(false) }}>\n\t\t\t\t<PrivacyPage />\n\t\t\t</SideSheet>\n\n\t\t\t<Form initValues={settings} ref={formRef} onValueChange={onChangeOfAnyField}\n\t\t\t\tstyle={{ height: \"100%\" }}>\n\t\t\t\t<Section text={<Space> <Magic size={28} /> <Typography.Text\n\t\t\t\t\tstyle={{ fontSize: 18 }}>Appearance</Typography.Text> </Space>}>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col span={12}>\n\t\t\t\t\t\t\t<Space spacing={20}>\n\t\t\t\t\t\t\t\t<Text>Theme</Text>\n\t\t\t\t\t\t\t\t<Form.Select noLabel field={\"appearance:theme\"}>\n\t\t\t\t\t\t\t\t\t<Form.Select.Option label={\n\t\t\t\t\t\t\t\t\t\t<Space>\n\t\t\t\t\t\t\t\t\t\t\t<IMac style={{ height: 14 }} />\n\t\t\t\t\t\t\t\t\t\t\t<span>System</span>\n\t\t\t\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t\t\t\t} value={\"system\"} />\n\t\t\t\t\t\t\t\t\t<Form.Select.Option label={\n\t\t\t\t\t\t\t\t\t\t<Space>\n\t\t\t\t\t\t\t\t\t\t\t<IconMoon />\n\t\t\t\t\t\t\t\t\t\t\t<span>Dark</span>\n\t\t\t\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t\t\t\t} value={\"dark\"} />\n\t\t\t\t\t\t\t\t\t<Form.Select.Option label={\n\t\t\t\t\t\t\t\t\t\t<Space>\n\t\t\t\t\t\t\t\t\t\t\t<IconSun />\n\t\t\t\t\t\t\t\t\t\t\t<span>Light</span>\n\t\t\t\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t\t\t\t} value={\"light\"} />\n\t\t\t\t\t\t\t\t</Form.Select>\n\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Section>\n\t\t\t\t<Section text={<Space> <Typography.Text\n\t\t\t\t\tstyle={{ fontSize: 18 }}>Others</Typography.Text> </Space>}>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Button onClick={() => { setShowPrivacy(true) }}>Privacy Policy</Button>\n\t\t\t\t\t</Row>\n\t\t\t\t</Section>\n\t\t\t\t{/*{isTauri &&*/}\n\t\t\t\t{/*    <Section text={<Space> <UpdateRotation size={28}/> <Typography.Text*/}\n\t\t\t\t{/*        style={{fontSize: 18}}>Updates</Typography.Text> </Space>}>*/}\n\n\t\t\t\t{/*        <Space>*/}\n\t\t\t\t{/*            <Form.Checkbox noLabel field=\"updates:check-automatically\">*/}\n\t\t\t\t{/*                Check for updates automatically*/}\n\t\t\t\t{/*            </Form.Checkbox>*/}\n\n\t\t\t\t{/*            <Tooltip content={\"Check now\"}>*/}\n\t\t\t\t{/*                <Button icon={<IconSync/>} size={\"small\"}/>*/}\n\t\t\t\t{/*            </Tooltip>*/}\n\t\t\t\t{/*        </Space>*/}\n\t\t\t\t{/*    </Section>*/}\n\t\t\t\t{/*}*/}\n\t\t\t</Form>\n\t\t</Modal >\n\t);\n};\n","import { Button, Input, Nav, Row, Space } from '@douyinfe/semi-ui'\nimport { OnSelectedData } from '@douyinfe/semi-ui/lib/es/navigation'\nimport React, { useContext, useRef, useState } from 'react'\nimport ToolSiderConfigs from '../consts/tool-sider-configs'\nimport toolSiderConfigs from '../consts/tool-sider-configs'\nimport { SharedSubjectContext } from '../context/shared-subjects'\nimport { useMount } from 'react-use'\nimport { useLocation, useSearchParams } from 'react-router-dom'\nimport './tools-sider.scss'\nimport { useObservableState } from 'observable-hooks/dist/esm2015'\nimport { GlobalHotKeys } from 'react-hotkeys'\nimport { IconSetting, IconSidebar } from '@douyinfe/semi-icons'\nimport { findDOMNode } from 'react-dom'\nimport { Pref } from '../context/pref'\nimport { SettingsModal } from './setting'\n\nexport const ToolsSider = () => {\n  const sharedSubsCtx = useContext(SharedSubjectContext)\n  const navRef = useRef<Nav>(null)\n  const [selectedItems, setSelectedItems] = useObservableState<Array<string>>(\n    (obs) => {\n      return obs\n    },\n    ['json-formatter']\n  )\n  const [tools, setTools] = useObservableState(\n    (obs) => {\n      return obs\n    },\n    Object.values(ToolSiderConfigs).map((i) => {\n      return i.navItemProps\n    })\n  )\n\n  const [, setToolSearchKeyword] = useObservableState<string>((obs) => {\n    obs.subscribe((keyword) => {\n      let filteredTools = Object.values(ToolSiderConfigs)\n        .filter((i) => {\n          return (i.navItemProps.text as string)\n            .toUpperCase()\n            .trim()\n            .includes(keyword.toUpperCase().trim())\n        })\n        .map((i) => {\n          return i.navItemProps\n        })\n      setTools(filteredTools)\n      let filteredItemKeys = filteredTools.map((i) => {\n        return i.itemKey as string\n      })\n      if (filteredItemKeys.length >= 1) {\n        console.debug(`filtered tool item keys: ${filteredItemKeys}`)\n        let firstKey = filteredItemKeys[0]\n        console.debug(`filtered first key: ${firstKey}`)\n        setSelectedItems([firstKey])\n        // send first node to content\n        sharedSubsCtx.activeToolNode$.next(ToolSiderConfigs[firstKey].node)\n      }\n    })\n    return obs\n  }, '')\n\n  const [searchParams, setSearchParams] = useSearchParams()\n  const [sidebarCollapsed, setSideBarCollapsed] = useObservableState<boolean>(\n    (obs) => {\n      obs.subscribe((collapsed) => {\n        Pref.getInstance().toolsSiderCollapsed.value = collapsed as boolean\n        hideSearchBar(collapsed)\n      })\n      return obs\n    },\n    Pref.getInstance().toolsSiderCollapsed.value\n  )\n\n  const hideSearchBar = (hide: Boolean) => {\n    // if collapsed remove header blank from nav header which is\n    // <div class=\"semi-navigation-header semi-navigation-header-collapsed\"></div>\n    // the header left a blank because <GlobalHotKeys> is blocking the place\n    let navNode = findDOMNode(navRef.current) as Element\n    if (navNode) {\n      let nodes = navNode.getElementsByClassName('semi-navigation-header')\n      if (nodes.length >= 0) {\n        let node = nodes.item(0) as HTMLElement\n        node!.style!.display = hide ? 'none' : 'block'\n      }\n    }\n  }\n\n  // handle events\n  const onSiderToolSelected = (data: OnSelectedData) => {\n    let siderToolItem = ToolSiderConfigs[data.itemKey]\n    if (siderToolItem) {\n      console.log(`tool <${data.itemKey}> activated`)\n      sharedSubsCtx.activeToolNode$.next(siderToolItem.node)\n      let itemKey = data.itemKey as string\n      setSelectedItems([itemKey])\n      setSearchParams({ tk: itemKey })\n    }\n  }\n\n  // const search = useLocation().search\n\n  // hooks\n  useMount(() => {\n    hideSearchBar(sidebarCollapsed)\n  })\n\n  useMount(() => {\n    const toolItemKey = searchParams.get('tk')\n\n    // init tool node\n    // default show json-formatter\n    let defaultKey = selectedItems[0]\n    if (\n      toolItemKey &&\n      Object.keys(toolSiderConfigs)\n        .map((k) => {\n          return k.toUpperCase().trim()\n        })\n        .includes(toolItemKey?.toUpperCase().trim())\n    ) {\n      defaultKey = toolItemKey.toLowerCase().trim()\n      setSelectedItems([defaultKey])\n    }\n    sharedSubsCtx.activeToolNode$.next(ToolSiderConfigs[defaultKey].node)\n  })\n\n  const location = useLocation()\n  useMount(() => {\n    if (location.pathname === '/privacy') {\n      setShowSettings(true)\n    }\n    sharedSubsCtx.beEvent$.subscribe((evt: any) => {\n      if (evt['event'] === 'open-settings') {\n        setShowSettings(true)\n      }\n    })\n  })\n\n  //<editor-fold desc=\"Define hot keys\">\n  const searchToolInputRef = useRef<HTMLInputElement>(null)\n  const onFocusSearchTools = React.useCallback(\n    (ke: KeyboardEvent | undefined) => {\n      console.debug('hotkey invoked: focus search tools', JSON.stringify(ke))\n      setSideBarCollapsed(false)\n      searchToolInputRef.current?.focus()\n    },\n    [setSideBarCollapsed]\n  )\n  const hotkeyHandlers = {\n    SEARCH_TOOLS: onFocusSearchTools,\n  }\n  const keyMap = {\n    SEARCH_TOOLS: 'command+.',\n  }\n  //</editor-fold>\n\n  const HeaderNode = (\n    <Row type=\"flex\" justify=\"center\">\n      <Input\n        style={{ marginTop: '10px' }}\n        ref={searchToolInputRef}\n        onChange={(value) => {\n          setToolSearchKeyword(value)\n        }}\n        placeholder=\"Search by  + .\"\n      />\n    </Row>\n  )\n  const [showSettings, setShowSettings] = useState(false)\n\n  const FooterNode = (\n    <Space vertical={sidebarCollapsed}>\n      <Button\n        icon={<IconSidebar />}\n        onClick={() => {\n          if (sidebarCollapsed) {\n            setSideBarCollapsed(false)\n          } else {\n            setSideBarCollapsed(true)\n          }\n        }}\n      />\n      <Button\n        icon={<IconSetting />}\n        onClick={() => {\n          setShowSettings(true)\n        }}\n      />\n    </Space>\n  )\n\n  return (\n    <>\n      <SettingsModal visible={showSettings} onVisibleChange={setShowSettings} />\n      <Nav\n        ref={navRef}\n        selectedKeys={selectedItems}\n        multiple={false}\n        style={{}}\n        mode=\"vertical\"\n        items={tools}\n        isCollapsed={sidebarCollapsed as boolean}\n        footer={{\n          collapseButton: true,\n          children: FooterNode,\n        }}\n        header={\n          <GlobalHotKeys handlers={hotkeyHandlers} keyMap={keyMap}>\n            {!sidebarCollapsed ? HeaderNode : null}\n          </GlobalHotKeys>\n        }\n        onSelect={onSiderToolSelected}\n        className={'tools-sider'}\n      />\n    </>\n  )\n}\n","import { Layout, Notification } from \"@douyinfe/semi-ui\";\nimport Sider from \"@douyinfe/semi-ui/lib/es/layout/Sider\";\nimport { useObservableState } from \"observable-hooks\";\nimport { ReactNode, useContext, useEffect } from \"react\";\nimport { SharedSubjectContext } from \"../context/shared-subjects\";\nimport { MainFooter } from \"../shared/main-footer\";\nimport { MainNav } from \"../shared/main-nav\";\nimport { ToolsSider } from \"../shared/tools-sider\";\nimport { isTauriAppContext } from \"../../App\";\nimport \"./main-page.scss\";\n\nexport const MainPage = () => {\n  const { Header, Content } = Layout;\n  const sharedSubs = useContext(SharedSubjectContext);\n  const isTauri = useContext(isTauriAppContext);\n  const [activeToolNode, setActiveToolNode] = useObservableState<ReactNode>(\n    (obs) => {\n      obs.subscribe((node) => {\n        console.debug(`active tool node set: ${node}`);\n      });\n      return obs;\n    },\n    null\n  );\n\n  // hooks\n  useEffect(() => {\n    sharedSubs.activeToolNode$.subscribe((node) => {\n      console.debug(`activeToolNode$ received next: ${node}`);\n      setActiveToolNode(node);\n    });\n  }, [setActiveToolNode, sharedSubs]);\n\n  useEffect(() => {\n    if (isTauri) {\n      // @ts-ignore\n      let tauri = window.__TAURI__;\n      tauri.event.listen(\"be-error\", (event: object) => {\n        Notification.error({\n          // @ts-ignore\n          content: event[\"payload\"] as string,\n          position: \"topRight\",\n          showClose: false,\n        });\n      });\n\n      tauri.event.listen(\"be-success\", (event: object) => {\n        Notification.success({\n          // @ts-ignore\n          content: event[\"payload\"] as string,\n          position: \"topRight\",\n          showClose: false,\n        });\n      });\n    }\n  }, [isTauri]);\n\n  return (\n    <isTauriAppContext.Consumer>\n      {(isTauriApp) => (\n        <Layout className=\"main-layout\">\n          {!isTauriApp && (\n            <Header>\n              <MainNav />\n            </Header>\n          )}\n          <Layout className=\"central-layout\">\n            <Sider children={<ToolsSider />} />\n            <Content children={activeToolNode} />\n          </Layout>\n          {!isTauriApp && (\n            <Layout.Footer className=\"main-footer-container\">\n              <MainFooter />\n            </Layout.Footer>\n          )}\n        </Layout>\n      )}\n    </isTauriAppContext.Consumer>\n  );\n};\n","import { useRef } from 'react';\nimport { Button, Col, Form, Modal, Row, Space, Typography } from \"@douyinfe/semi-ui\";\nimport Section from \"@douyinfe/semi-ui/lib/es/form/section\";\nimport { Github, Protect, } from \"@icon-park/react\";\nimport Text from \"@douyinfe/semi-ui/lib/es/typography/text\";\nimport { useLocalStore } from \"../libs/hooks/localstore\";\nimport { Pref } from \"../context/pref\";\nimport { PersonalPrivacy } from '@icon-park/react/es';\n\nexport type FirstLanchingModalSettings = {\n\t\"allow-analytics\": boolean\n}\n\nexport const FirstLanchingModalSettingsDefault: FirstLanchingModalSettings = {\n\t\"allow-analytics\": true,\n}\n\ntype props = { onVisibleChange: (v: FirstLanchingModalSettings) => void }\n\nexport const FirstLanchingModal = ({ onVisibleChange }: props) => {\n\tconst [settings, setSettings] = useLocalStore(\"first-launching-settings\", FirstLanchingModalSettingsDefault)\n\tconst formRef = useRef<Form>(null)\n\n\tconst onChangeOfAnyField = (v: any) => {\n\t\tconsole.log(v)\n\t\t// @ts-ignore\n\t\tsetSettings(v)\n\n\t\tlet allow = v['allow-analytics'];\n\t\tPref.getInstance().allowAnalytics.$.next(allow)\n\t}\n\n\t// noinspection RequiredAttributes\n\treturn (\n\t\t<Modal centered visible={true}\n\t\t\tfooter={\n\t\t\t\t<Button type={\"primary\"} onClick={() => {\n\t\t\t\t\tonVisibleChange(settings as FirstLanchingModalSettings)\n\t\t\t\t}}>Continue</Button>\n\t\t\t}\n\t\t\tclosable={false}\n\t\t\twidth={\"600px\"}\n\t\t\theight={\"auto\"}\n\t\t\tkeepDOM={true}\n\t\t\tbodyStyle={{ overflow: 'auto', height: \"350px\", width: \"auto\" }}\n\t\t>\n\n\t\t\t<Form initValues={settings} ref={formRef} onValueChange={onChangeOfAnyField}\n\t\t\t\tstyle={{ height: \"100%\" }}>\n\t\t\t\t<Section text={<Space> <PersonalPrivacy size={28} /> <Typography.Text\n\t\t\t\t\tstyle={{ fontSize: 18 }}>Anonymouse Analysis Notice</Typography.Text> </Space>}>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Typography.Paragraph style={{ padding: \"20px 0\" }} spacing='extended' >\n\t\t\t\t\t\t\t\tEchoo.app uses anonymouse analysis to trackdown usage and  website traffic, we use this kind of data to improve this application. You can always opt-out the analysis by adding browser add-on or un-check below option and continue.\n\t\t\t\t\t\t\t</Typography.Paragraph>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<Typography.Title heading={4} >Echoo.app guarentees:</Typography.Title>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<Typography.Paragraph spacing='extended'>\n\t\t\t\t\t\t\t\t<Space align='center'>\n\t\t\t\t\t\t\t\t\t<Protect size={24.5} />\n\t\t\t\t\t\t\t\t\t<span>Will NOT collect any of your data input into this application.</span>\n\t\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t\t\t<Space align='center' style={{ marginTop: \"10px\" }}>\n\t\t\t\t\t\t\t\t\t<Github size={24.5} />\n\t\t\t\t\t\t\t\t\t<Typography.Text>Aways be an <a rel=\"noreferrer\" href=\"https://github.com/zsmatrix62/echoo.app\" target=\"_blank\"> open source software</a></Typography.Text>\n\t\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t\t</Typography.Paragraph>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row style={{ position: \"fixed\", width: \"100%\", bottom: \"60px\" }}>\n\t\t\t\t\t\t<Col span={14} push={10}>\n\t\t\t\t\t\t\t<Form.Checkbox\n\t\t\t\t\t\t\t\tstyle={{ width: \"100%\" }}\n\t\t\t\t\t\t\t\tnoLabel={true}\n\t\t\t\t\t\t\t\tfield='allow-analytics' >\n\t\t\t\t\t\t\t\t<Text>Share anonymouse data with Echoo.app</Text>\n\t\t\t\t\t\t\t</Form.Checkbox>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Section>\n\t\t\t</Form>\n\t\t</Modal >\n\t);\n};\n","import \"./App.scss\";\nimport { MainPage } from \"./app/pages/main-page\";\nimport { useMount } from \"react-use\";\nimport { createContext, useContext, useState } from \"react\";\nimport { SharedSubjectContext } from \"./app/context/shared-subjects\";\nimport { useObservableState } from \"observable-hooks\";\nimport { Pref } from \"./app/context/pref\";\nimport { useLocalStore } from \"./app/libs/hooks/localstore\";\nimport { EchooSettings, EchooSettingsDefault } from \"./app/shared/setting\";\nimport { FirstLanchingModal } from \"./app/shared/first-lanching-dialog\";\n\nexport const isTauriAppContext = createContext(false);\n\nfunction App() {\n\tconst sharedSubsCtx = useContext(SharedSubjectContext);\n\t// const appEnvs = useContext(AppEnvsContext)\n\tconst [isTauri, setIsTauri] = useObservableState((obs) => {\n\t\treturn obs;\n\t}, false);\n\n\tconst p = Pref.getInstance();\n\t// hooks\n\t// listen window resize events\n\tuseMount(() => {\n\t\tconst sendEvent = () => {\n\t\t\tsharedSubsCtx.windowSizeChange$.next([\n\t\t\t\twindow.innerWidth ?? 0,\n\t\t\t\twindow.innerHeight ?? 0,\n\t\t\t]);\n\t\t};\n\t\twindow.addEventListener(\"resize\", () => {\n\t\t\tsendEvent();\n\t\t});\n\t\tsendEvent();\n\t});\n\n\t// check is in tauri client or not\n\tuseMount(() => {\n\t\tsetIsTauri(!!window.__TAURI__);\n\t});\n\n\tconst [settings] = useLocalStore<EchooSettings>(\n\t\t\"settings\",\n\t\tEchooSettingsDefault\n\t);\n\n\t// subscribe dark mode\n\tuseMount(() => {\n\t\tfunction enableDark(enable: boolean) {\n\t\t\tconst body = document.body;\n\t\t\tif (enable) {\n\t\t\t\tbody.setAttribute(\"theme-mode\", \"dark\");\n\t\t\t} else {\n\t\t\t\tif (body.hasAttribute(\"theme-mode\")) {\n\t\t\t\t\tbody.removeAttribute(\"theme-mode\");\n\t\t\t\t}\n\t\t\t}\n\t\t\tp.darkModeEnabled.$.next(enable);\n\t\t}\n\n\t\t// @ts-ignore\n\t\tp.theme.$.next(settings[\"appearance:theme\"] as string);\n\t\tp.theme.subscribe({\n\t\t\tnext: (theme) => {\n\t\t\t\tconst mql = window.matchMedia(\"(prefers-color-scheme: dark)\");\n\t\t\t\tswitch (theme) {\n\t\t\t\t\tcase \"dark\":\n\t\t\t\t\t\tenableDark(true);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"light\":\n\t\t\t\t\t\tenableDark(false);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tenableDark(mql.matches);\n\t\t\t\t\t\tmql.addEventListener(\"change\", (e) => {\n\t\t\t\t\t\t\tenableDark(e.matches);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t});\n\n\t// notify user to allow analytics\n\tlet [showFirstLanchingDialog, setShowFirstLanchingDialog] = useState(false)\n\tuseMount(() => {\n\t\tp.isFirstLanching.$.subscribe(yes => {\n\t\t\tsetShowFirstLanchingDialog(yes)\n\t\t})\n\t\tp.allowAnalytics.$.subscribe(yes => {\n\t\t\tif (yes) {\n\t\t\t\tinjectAnalyticsCodes()\n\t\t\t}\n\t\t})\n\t})\n\n\tuseMount(() => {\n\t\t// @ts-ignore\n\t\tlet tauri = window.__TAURI__;\n\t\tif (tauri) {\n\t\t\ttauri.invoke(\"get_system\", {}).then((os: string) => {\n\t\t\t\tPref.getInstance().osName.value = os;\n\t\t\t});\n\t\t\ttauri.path.appDir().then((s: any) => {\n\t\t\t\tconsole.log(s);\n\t\t\t});\n\t\t\t[\"open-settings\", \"open-about\", \"open-help\"].forEach((evt) => {\n\t\t\t\ttauri.event.listen(evt, (event: object) => {\n\t\t\t\t\tsharedSubsCtx.beEvent$.next(event);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t});\n\n\tconst injectAnalyticsCodes = () => {\n\t\tconst h = document.getElementsByTagName(\"head\")[0]\n\t\tconst body = document.getElementsByTagName(\"body\")[0]\n\n\t\tconst ga_s = document.createElement(\"script\")\n\t\tconst gs_ss = document.createElement(\"script\")\n\t\tga_s.src = \"https://www.googletagmanager.com/gtag/js?id=G-68ZK6XEPVH\"\n\t\tga_s.async = true\n\t\tgs_ss.innerHTML = `\n\t\twindow.dataLayer = window.dataLayer || [];\n\t\tfunction gtag() {\n\t\t\tdataLayer.push(arguments);\n\t\t};\n\t\tgtag('js', new Date());\n\t\tgtag('config', 'G-68ZK6XEPVH');\n\t\t`\n\t\tconst tag_mgr_head = document.createElement(\"script\")\n\t\ttag_mgr_head.innerHTML = `\n\t\t(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n\t\t\t\t\t\t\t\t\t\t\t\t\t new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n\t\t j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n\t\t 'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n\t\t })(window,document,'script','dataLayer','GTM-N9NMZCN');\n\t\t`\n\t\tconst ns = body.getElementsByTagName(\"noscript\")[0]\n\t\tconst f = document.createElement(\"iframe\")\n\t\tf.src = \"https://www.googletagmanager.com/ns.html?id=GTM-N9NMZCN\"\n\t\tf.height = \"0\"\n\t\tf.width = \"0\"\n\t\tf.style.display = \"none\"\n\t\tf.style.visibility = \"hidden\"\n\t\tns.appendChild(f)\n\n\t\th.appendChild(ga_s)\n\t\th.appendChild(gs_ss)\n\t\th.appendChild(tag_mgr_head)\n\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{showFirstLanchingDialog &&\n\t\t\t\t<FirstLanchingModal onVisibleChange={(v: any) => {\n\t\t\t\t\tconst p = Pref.getInstance();\n\t\t\t\t\tp.allowAnalytics.value = v[\"allow-analytics\"]\n\t\t\t\t\tp.isFirstLanching.value = false\n\t\t\t\t\tsetShowFirstLanchingDialog(false)\n\t\t\t\t}} />}\n\t\t\t<isTauriAppContext.Provider value={isTauri}>\n\t\t\t\t<MainPage />\n\t\t\t</isTauriAppContext.Provider>\n\t\t</>\n\t);\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport './index.scss';\nimport reportWebVitals from './reportWebVitals';\nimport App from './App';\nimport { HashRouter, Route, Routes } from 'react-router-dom';\n\nReactDOM.render(\n\t<HashRouter basename='/'>\n\t\t<Routes>\n\t\t\t<Route path=\"/\" element={<App />}> </Route>\n\t\t\t<Route path=\"/privacy\" element={<App />}> </Route>\n\t\t</Routes>\n\t</HashRouter>,\n\tdocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}
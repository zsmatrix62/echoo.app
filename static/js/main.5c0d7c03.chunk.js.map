{"version":3,"sources":["reportWebVitals.ts","app/context/shared-subjects.ts","app/shared/main-footer.tsx","icon.png","app/wigetds/logo.tsx","app/shared/main-nav.tsx","app/consts/literals.ts","app/wigetds/autofit-textarea.tsx","app/wigetds/json-path-guide.tsx","app/context/pref.ts","app/libs/hooks/wasm-api.ts","app/tool-blocks/json-formatter.tsx","app/libs/helpers.ts","app/tool-blocks/base64serde.tsx","app/tool-blocks/url-parser.tsx","app/tool-blocks/crontab-parser.tsx","app/consts/tool-sider-configs.tsx","app/libs/hooks/localstore.ts","app/shared/privacy.tsx","app/shared/setting.tsx","app/shared/tools-sider.tsx","app/pages/main-page.tsx","app/shared/first-lanching-dialog.tsx","App.tsx","index.tsx"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","SharedSubjects","require","activeToolNode$","ReplaySubject","windowSizeChange$","tauri$","beEvent$","Subject","this","tauriAPI","window","__TAURI__","next","SharedSubjectContext","createContext","pjson","MainFooter","className","vertical","type","version","LogoComponent","content","href","style","textDecoration","spacing","align","src","logo","alt","Title","heading","MainNav","headerNode","Header","navFooter","Footer","position","size","onClick","open","icon","Computer","theme","fill","defaultOpenKeys","mode","userSelect","AutoFitTextArea","props","useObservableState","obs","cls","setCls","isLoading","loading","setLoading","useEffect","isOnError","length","console","debug","onChange","value","placeholder","ref","forwardedRef","bottom","paddingLeft","zIndex","AutoFitTextAreaWithRef","React","JsonPathGuide","overflowY","display","flexDirection","StoreItem","key","defaultValue","$","trim","toLowerCase","val","getValueFromStore","storeVal","JSON","stringify","localStorage","setItem","observer","subscribe","includes","getItem","innerValue","parse","undefined","e","Pref","darkModeEnabled","isFirstLanching","allowAnalytics","osName","toolsSiderCollapsed","jsonFormatterDefaultIndentSpace","instance","useWasmAPI","from","ErrorDisplay","input","errors","onFirstErrorRange","useState","errorTags","setErrorTags","ellipsePlaceHolderStart","tags","map","vErr","idx","errAtGreaterThan","Number","index_start","errHasLeftContent","index_end","startAt","endAt","errorHintText","slice","cursorPositionStart","cursorPositionEnd","visibility","padding","fontSize","description","JsonFormatterBlock","jsonIndentState","getInstance","jsonPathValue","setJsonPathValue","showJsonPathGuide","setShowJsonPathGuide","inputRef","useRef","jsonPathRef","copy","useClipboard","onSuccess","_","Toast","success","wasmAPI","changedInput","wasm","error","validate_json","code","setValidationErrors","changed","indent","setOutputJson","setOutput","inputValue","setInputValue","outputValue","setOutputValue","editorTheme","setEditorTheme","validationErrors","useMount","enabled","outObj","onInputChanged","onCopy","setRandomJson","inputVal","get_random_json","onCompressClicked","onIndentSelectionChanged","onClearClicked","isSidebarCollapsed","isTauriAppContext","Consumer","isTauri","visible","onCancel","gutter","span","height","disabled","width","Option","fullMode","bordered","closeIcon","_start","_end","res","JSONPath","path","json","base64encode","str","encode","encodeURIComponent","btoa","base64decode","decode","atob","decodeURIComponent","formatNumber","n","fractionDigits","ns","toFixed","x","split","x1","x2","rgx","test","replace","arrayBufferToBase64","dView","arr1","Array","prototype","call","item","String","fromCharCode","join","saveBase64AsFile","base64","fileName","link","document","createElement","body","appendChild","setAttribute","download","click","removeChild","Base64Serde","search","location","params","URLSearchParams","set","setSearchParams","defaultTabIdx","setDefaultTabIdx","useSearchParams","searchParams","tabIndex","get","defaultActiveKey","activeKey","tab","itemKey","Base64SerdeStringBlockBlock","codingType","setCodingType","inValue","setInValue","outValue","setOutValue","setInputForm","justifyContent","alignItems","randSentence","paddingRight","v","target","valueOf","Base64SerdeImageBlockBlock","useContext","createImage","data","fileType","newImage","onerror","onInValueChanged","base64SourceType","setBase64SourceType","imgSize","setImageSize","setImgSrc","tag","blobSize","imgSrc","fetch","base64Response","blob","setImageBlobSize","imgTag","setImgTag","imgBlobSize","imgContainerRef","extractBase64","inData","matches","match","base64Data","base64String","originalImageResized","getElementById","imgContainer","current","removeExisting","id","onload","naturalWidth","naturalHeight","formatBytes","isLoadingFile","setIsLoadingFile","fileReaderRef","fillBase64FormFromFile","img","hidden","parentElement","tauri","dialog","filePath","invoke","invokeRes","sampleData","data1","evt","Blob","files","selectedFile","arrayBuffer","Uint8Array","finally","children","base64Raw","fileExt","catch","err","UrlParser","TabPane","Percentage","UrlParserBlock","d","query","parsedUrl","setParsedUrl","parsedUrlObj","parseUrl","Item","protocol","port","resource","pathname","user","hash","exampleCrontabs","des","exp","CrontabParser","Text","Typography","defaultExplain","explain","setExplain","isErroCron","setIsErrorCron","showCrontabHelp","setShowCrontabHelp","inputExp","setInputExp","defaultData","setData","exmapleIdx","setExampleIdx","onInpuExpChanged","defautlErr","parseRes","parse_crontab_string","cronstrue","toString","expSegs","isAllMinutes","isAllHours","isAllDays","isAllMonths","isAllWeekdays","Set","minutes","m","padStart","hours","days","months","weekdays","next_executions","local","utc","errMsg","startsWith","Math","floor","random","onSelect","index","marginTop","CrontabParserResDisplay","CrontabHelp","CrontabParserBlock","ToolSiderConfigs","navItemProps","text","svg","CodeBrackets","node","PayCode","LinkOne","Calendar","useLocalStore","saved","initial","Object","assign","GetStorageValue","setValue","PrivacyPage","EchooSettingsDefault","SettingsModal","onVisibleChange","settings","setSettings","shown","setShown","formRef","useLocation","showPrivacy","setShowPrivacy","centered","footer","closable","keepDOM","bodyStyle","overflow","initValues","onValueChange","Magic","Select","noLabel","field","label","IMac","ToolsSider","sharedSubsCtx","navRef","selectedItems","setSelectedItems","values","i","tools","setTools","keyword","filteredTools","filter","toUpperCase","filteredItemKeys","firstKey","setToolSearchKeyword","collapsed","hideSearchBar","sidebarCollapsed","setSideBarCollapsed","hide","navNode","findDOMNode","nodes","getElementsByClassName","toolItemKey","defaultKey","keys","toolSiderConfigs","k","setShowSettings","searchToolInputRef","hotkeyHandlers","SEARCH_TOOLS","useCallback","ke","focus","HeaderNode","showSettings","FooterNode","selectedKeys","multiple","items","isCollapsed","collapseButton","header","handlers","keyMap","siderToolItem","log","MainPage","Layout","Content","sharedSubs","activeToolNode","setActiveToolNode","event","listen","Notification","showClose","isTauriApp","Sider","FirstLanchingModalSettingsDefault","FirstLanchingModal","allow","PersonalPrivacy","Paragraph","Protect","Github","push","Checkbox","App","setIsTauri","p","sendEvent","innerWidth","innerHeight","addEventListener","t","enableDark","enable","hasAttribute","removeAttribute","mql","matchMedia","showFirstLanchingDialog","setShowFirstLanchingDialog","yes","injectAnalyticsCodes","os","appDir","s","forEach","h","getElementsByTagName","ga_s","gs_ss","async","innerHTML","tag_mgr_head","f","Provider","ReactDOM","render","basename","element"],"mappings":"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","file":"static/js/main.5c0d7c03.chunk.js","sourcesContent":["import {ReportHandler} from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import('web-vitals').then(({getCLS, getFID, getFCP, getLCP, getTTFB}) => {\n            getCLS(onPerfEntry);\n            getFID(onPerfEntry);\n            getFCP(onPerfEntry);\n            getLCP(onPerfEntry);\n            getTTFB(onPerfEntry);\n        });\n    }\n};\n\nexport default reportWebVitals;\n","import { createContext, ReactNode } from \"react\";\nimport { ReplaySubject, Subject } from \"rxjs\";\n\nconst tauri = require(\"@tauri-apps/api\")\n\nclass SharedSubjects {\n\tpublic activeToolNode$ = new ReplaySubject<ReactNode>(1);\n\t// public toolsNavSearch$ = new ReplaySubject<string>(1)\n\tpublic windowSizeChange$ = new ReplaySubject<[number, number]>(1)\n\t// public toolMainContentSizeChanged$ = new ReplaySubject<[number, number]>(1)\n\t// public toolContentWidthChanged$ = new ReplaySubject<number>(1)\n\t// public toolContentHeightChanged$ = new ReplaySubject<number>(1)\n\tpublic tauri$: ReplaySubject<typeof tauri>\n\tpublic beEvent$: Subject<object> = new Subject<any>()\n\n\tconstructor() {\n\t\tthis.tauri$ = new ReplaySubject<typeof tauri | undefined>(1)\n\n\t\t// @ts-ignore\n\t\tconst tauriAPI = window.__TAURI__\n\t\tthis.tauri$.next(tauriAPI)\n\t}\n}\n\nexport const SharedSubjectContext = createContext(new SharedSubjects());\n","import { Space } from \"@douyinfe/semi-ui\";\nimport Text from \"@douyinfe/semi-ui/lib/es/typography/text\";\nconst pjson = require('../../../package.json')\n\nexport const MainFooter = () => {\n\treturn <Space className='main-footer' vertical>\n\t\t<Text type='tertiary'>\n\t\t\t<Space>\n\t\t\t\t<span>Copyright Â© 2022</span>\n\t\t\t\t<b>Echoo.app</b>\n\t\t\t\t<span>v{pjson.version}</span>\n\t\t\t</Space>\n\t\t</Text>\n\t</Space>;\n};\n","export default __webpack_public_path__ + \"static/media/icon.719a6b8e.png\";","// @flow\nimport * as React from 'react';\nimport {Space, Tooltip, Typography} from \"@douyinfe/semi-ui\";\nimport \"./log.scss\"\nimport logo from \"../../icon.png\";\n\nexport const LogoComponent = () => {\n    return (\n        <Tooltip content={\"Utilities for developers\"}>\n            <a href=\"/\" style={{textDecoration: 'none'}}>\n                <Space spacing={10} align={\"center\"}>\n                    <img src={logo} alt='Utilities for developers'/>\n                    <Space spacing={5} align={\"baseline\"}>\n                        <Space spacing={3} align={\"baseline\"}>\n                            <Typography.Title heading={2} type={\"primary\"}>Echoo</Typography.Title>\n                            <Typography.Title heading={6} type={\"tertiary\"}>.app</Typography.Title>\n                        </Space>\n                    </Space>\n                </Space>\n            </a>\n        </Tooltip>\n    );\n};","import {IconGithubLogo} from \"@douyinfe/semi-icons\";\nimport {Button, Nav, Space, Tooltip} from \"@douyinfe/semi-ui\";\nimport \"./main-nav.scss\"\n\nimport {LogoComponent} from \"../wigetds/logo\";\nimport {GITHUB_HOMEPAGE, RELEASE_DOWNLOAD_PAGE} from \"../consts/literals\";\nimport {Computer} from \"@icon-park/react/es\";\n\nexport const MainNav = () => {\n\n    const onDownloadClicked = () => {\n        window.open(RELEASE_DOWNLOAD_PAGE, \"blank\",)\n    }\n\n    const onHomePageClicked = () => {\n        window.open(GITHUB_HOMEPAGE, \"blank\",)\n    }\n\n    const headerNode = <Nav.Header>\n        <LogoComponent/>\n    </Nav.Header>\n\n    const navFooter = <Nav.Footer>\n        <Space>\n            <Tooltip content='Offline desktop client'\n                     position='bottomLeft'>\n                <Button size={\"large\"} onClick={onDownloadClicked}\n                        icon={<Computer theme=\"outline\" size=\"21\" fill=\"var(--semi-color-primary)\"/>}/>\n            </Tooltip>\n            <Button size={\"large\"} icon={<IconGithubLogo size={\"extra-large\"} onClick={onHomePageClicked}\n            />}/>\n        </Space>\n    </Nav.Footer>\n\n    return (\n        <Nav defaultOpenKeys={[\"Home\"]} mode=\"horizontal\" style={{userSelect: \"none\"}}>\n            {headerNode}\n            {navFooter}\n        </Nav>\n    )\n};\n","export const GITHUB_HOMEPAGE = \"https://github.com/zsmatrix62/echoo-app\"\nexport const RELEASE_DOWNLOAD_PAGE = \"https://github.com/zsmatrix62/echoo-app/releases\"\n","import * as React from 'react';\nimport {ForwardedRef, Ref, useEffect} from 'react';\nimport {Spin, TextArea} from \"@douyinfe/semi-ui\";\nimport \"./autofit-textarea.scss\"\nimport {useObservableState} from \"observable-hooks\";\n\ntype Props = {\n    placeholder?: string\n    forwardedRef?: Ref<HTMLTextAreaElement>\n    value?: string,\n    onChange?: (val: string) => void,\n    isOnError?: Array<any>\n    isLoading?: boolean\n};\nconst AutoFitTextArea = (props: Props) => {\n    const [cls, setCls] = useObservableState<string>((obs) => {\n        return obs\n    }, \"text-area mod-normal\")\n\n    const [loading, setLoading] = useObservableState<boolean | undefined>(obs => {\n        return obs\n    }, props.isLoading)\n    useEffect(() => {\n        // eslint-disable-next-line no-self-compare\n        if (props.isOnError?.length ?? 0 > 0) {\n            console.debug('setting error selection color')\n            setCls(\"text-area mod-error\")\n        } else {\n            console.debug(\"reverting selection color\")\n            setCls(\"text-area mod-normal\")\n        }\n    }, [props.isOnError, setCls])\n\n    useEffect(() => {\n        setLoading(props.isLoading)\n    }, [props.isLoading, setLoading])\n    return (\n        <>\n            <TextArea\n                onChange={props.onChange}\n                value={props.value}\n                className={cls}\n                placeholder={props.placeholder}\n                ref={props.forwardedRef}>\n            </TextArea>\n            {\n                loading &&\n                <Spin style={{position: \"fixed\", bottom: 95, paddingLeft: 10, zIndex: 99}}/>\n            }\n        </>\n    );\n};\n\n\nexport const AutoFitTextAreaWithRef = React.forwardRef((props: Props, ref: ForwardedRef<HTMLTextAreaElement>) => {\n    return <AutoFitTextArea forwardedRef={ref} {...props}/>\n})","// @flow\nimport * as React from 'react';\nimport \"./json-path-guide.scss\"\nimport {Space} from \"@douyinfe/semi-ui\";\n\nexport const JsonPathGuide = () => {\n    return (\n        <Space style={{overflowY: \"scroll\", display: 'flex', flexDirection: \"column\"}}>\n            <>\n                <h2>Operators</h2>\n                <table>\n                    <thead>\n                    <tr>\n                        <th align=\"left\">Operator</th>\n                        <th align=\"left\">Description</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr>\n                        <td align=\"left\"><code>$</code></td>\n                        <td align=\"left\">The root element to query. This starts all path expressions.</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\"><code>@</code></td>\n                        <td align=\"left\">The current node being processed by a filter predicate.</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\"><code>*</code></td>\n                        <td align=\"left\">Wildcard. Available anywhere a name or numeric are required.</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\"><code>..</code></td>\n                        <td align=\"left\">Deep scan. Available anywhere a name is required.</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\"><code>.&lt;name&gt;</code></td>\n                        <td align=\"left\">Dot-notated child</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\"><code>['&lt;name&gt;' (, '&lt;name&gt;')]</code></td>\n                        <td align=\"left\">Bracket-notated child or children</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\"><code>[&lt;number&gt; (, &lt;number&gt;)]</code></td>\n                        <td align=\"left\">Array index or indexes</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\"><code>[start:end]</code></td>\n                        <td align=\"left\">Array slice operator</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\"><code>[?(&lt;expression&gt;)]</code></td>\n                        <td align=\"left\">Filter expression. Expression must evaluate to a boolean value.</td>\n                    </tr>\n                    </tbody>\n                </table>\n            </>\n            <>\n                <h2>Filter Operators</h2>\n                <table>\n                    <thead>\n                    <tr>\n                        <th align=\"left\">Operator</th>\n                        <th align=\"left\">Description</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr>\n                        <td align=\"left\">==</td>\n                        <td align=\"left\">left is equal to right (note that 1 is not equal to '1')</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">!=</td>\n                        <td align=\"left\">left is not equal to right</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">&lt;</td>\n                        <td align=\"left\">left is less than right</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">&lt;=</td>\n                        <td align=\"left\">left is less or equal to right</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">&gt;</td>\n                        <td align=\"left\">left is greater than right</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">&gt;=</td>\n                        <td align=\"left\">left is greater than or equal to right</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">=~</td>\n                        <td align=\"left\">left matches regular expression [?(@.name =~ /foo.*?/i)]</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">in</td>\n                        <td align=\"left\">left exists in right [?(@.size in ['S', 'M'])]</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">nin</td>\n                        <td align=\"left\">left does not exists in right</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">subsetof</td>\n                        <td align=\"left\">left is a subset of right [?(@.sizes subsetof ['S', 'M', 'L'])]</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">anyof</td>\n                        <td align=\"left\">left has an intersection with right [?(@.sizes anyof ['M', 'L'])]</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">noneof</td>\n                        <td align=\"left\">left has no intersection with right [?(@.sizes noneof ['M', 'L'])]</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">size</td>\n                        <td align=\"left\">size of left (array or string) should match right</td>\n                    </tr>\n                    <tr>\n                        <td align=\"left\">empty</td>\n                        <td align=\"left\">left (array or string) should be empty</td>\n                    </tr>\n                    </tbody>\n                </table>\n            </>\n        </Space>\n    );\n}","import { Observer, ReplaySubject, Subscribable, Unsubscribable } from \"rxjs\";\n\nclass StoreItem<T> implements Subscribable<T> {\n\tpublic $: ReplaySubject<T> = new ReplaySubject<T>()\n\n\tconstructor(private readonly key: string, private defaultValue: T\n\t) {\n\t\t// console.log(key, defaultValue)\n\t\tthis.key = this.key.trim().toLowerCase()\n\t\tthis.$.next(this.value)\n\t}\n\n\tpublic get value() {\n\t\tlet val = this.getValueFromStore();\n\t\tconsole.debug(`read value from store: ${this.key} = ${val}`)\n\t\treturn val\n\t}\n\n\tpublic set value(value: T) {\n\t\tlet storeVal = JSON.stringify({ value: value })\n\t\tconsole.debug(`setting store item: ${this.key}=${storeVal}`)\n\t\tlocalStorage.setItem(this.key, storeVal)\n\t\tthis.$.next(value)\n\t}\n\n\tpublic subscribe(observer: Partial<Observer<T>> | undefined): Unsubscribable {\n\t\treturn this.$.subscribe(observer)\n\t}\n\n\tpublic toggle() {\n\t\tif ([\"Boolean\", \"boolean\"].includes(typeof this.value)) {\n\t\t\t// @ts-ignore\n\t\t\tthis.value = !this.value;\n\t\t}\n\t}\n\n\tprivate getValueFromStore(): T {\n\t\tlet value: string = localStorage.getItem(this.key) ?? '';\n\t\tif (!value) {\n\t\t\treturn this.defaultValue\n\t\t}\n\t\ttry {\n\t\t\tlet initial = JSON.parse(value);\n\t\t\tlet innerValue = initial[\"value\"]\n\t\t\tif (innerValue === undefined) {\n\t\t\t\tthis.value = this.defaultValue\n\t\t\t\treturn this.defaultValue\n\t\t\t}\n\t\t\treturn innerValue;\n\t\t} catch (e) {\n\t\t\treturn this.defaultValue\n\t\t}\n\t}\n}\n\nexport class Pref {\n\tprivate static instance: Pref\n\n\tpublic darkModeEnabled = new StoreItem<boolean>(\"pref:dark-mode\", false)\n\tpublic theme = new StoreItem<string>(\"pref:theme\", \"system\")\n\tpublic isFirstLanching = new StoreItem<boolean>(\"pref:is-first-launching\", true)\n\tpublic allowAnalytics = new StoreItem<boolean>(\"pref:allow-analytics\", false)\n\tpublic osName = new StoreItem<string>(\"pref:os\", \"\")\n\tpublic toolsSiderCollapsed = new StoreItem<boolean>(\"pref:sider-collapsed\", true)\n\tpublic jsonFormatterDefaultIndentSpace = new StoreItem<number>(\"pref:json-formatter:default-indent-space\", 2)\n\n\tpublic static getInstance(): Pref {\n\t\tif (!Pref.instance) {\n\t\t\tPref.instance = new Pref();\n\t\t}\n\t\treturn Pref.instance\n\t}\n}\n","import {useObservableState} from \"observable-hooks\";\nimport {from} from \"rxjs\";\n\nexport const useWasmAPI = () => {\n    return useObservableState(from(import('wasm-api')))\n}","import {\n\tBanner,\n\tButton,\n\tCol,\n\tInput,\n\tRow,\n\tSelect,\n\tSideSheet,\n\tSpace,\n\tToast,\n} from '@douyinfe/semi-ui'\nimport './json-formatter.scss'\nimport {\n\tIconArrowUp,\n\tIconCopy,\n\tIconHelpCircle,\n\tIconLayers,\n} from '@douyinfe/semi-icons'\nimport { useEffect, useRef, useState } from 'react'\nimport { useObservableState } from 'observable-hooks'\nimport { useMount } from 'react-use'\nimport { AutoFitTextAreaWithRef } from '../wigetds/autofit-textarea'\nimport Text from '@douyinfe/semi-ui/lib/es/typography/text'\nimport useClipboard from 'use-clipboard-hook'\nimport { JSONPath } from 'jsonpath-plus'\nimport { JsonPathGuide } from '../wigetds/json-path-guide'\nimport { Pref } from '../context/pref'\nimport CodeMirror from '@uiw/react-codemirror'\nimport { isTauriAppContext } from '../../App'\nimport { useWasmAPI } from '../libs/hooks/wasm-api'\nimport { ValidationError } from 'wasm-api'\nimport { json } from '@codemirror/lang-json'\n\nconst ErrorDisplay = ({\n\tinput,\n\terrors,\n\tonFirstErrorRange,\n}: {\n\tinput?: string\n\terrors: Array<ValidationError>\n\tonFirstErrorRange?: (start: number, end: number) => void\n}) => {\n\tconst [errorTags, setErrorTags] = useState<Array<JSX.Element>>([])\n\tuseEffect(() => {\n\t\tif (errors.length === 0) {\n\t\t\treturn\n\t\t}\n\t\tif (!input) {\n\t\t\treturn\n\t\t}\n\n\t\tconst prefixCount = 10\n\t\tconst ellipsePlaceHolderStart = '... '\n\t\tconst ellipsePlaceHolderEnd = ' ...'\n\t\tlet tags = errors.map((vErr, idx) => {\n\t\t\tlet errAtGreaterThan = Number(vErr.index_start) - prefixCount > 0\n\t\t\tlet errHasLeftContent =\n\t\t\t\tNumber(vErr.index_end) + prefixCount < input.length\n\n\t\t\tlet startAt = errAtGreaterThan\n\t\t\t\t? Number(vErr.index_start) - prefixCount\n\t\t\t\t: 0\n\t\t\tlet endAt = errHasLeftContent\n\t\t\t\t? Number(vErr.index_end) + prefixCount\n\t\t\t\t: Number(vErr.index_end)\n\n\t\t\tconst errorHintText = `${errAtGreaterThan ? ellipsePlaceHolderStart : ''\n\t\t\t\t} ${input.slice(startAt, endAt)}${errHasLeftContent ? ellipsePlaceHolderEnd : ''\n\t\t\t\t}`\n\n\t\t\tlet cursorPositionStart = errAtGreaterThan\n\t\t\t\t? startAt - ellipsePlaceHolderStart.length\n\t\t\t\t: startAt\n\t\t\tlet cursorPositionEnd = Number(vErr.index_start)\n\n\t\t\tif (endAt === input.length) {\n\t\t\t\tcursorPositionStart = endAt - errorHintText.length\n\t\t\t\tcursorPositionEnd = endAt - 1\n\t\t\t}\n\n\t\t\tif (onFirstErrorRange) {\n\t\t\t\tonFirstErrorRange!(startAt, endAt)\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<div key={idx}>\n\t\t\t\t\t<Space vertical align={'start'} spacing={10}>\n\t\t\t\t\t\t<Text type={'danger'}>\n\t\t\t\t\t\t\t<code>{errorHintText}</code>\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<Text type={'danger'}>\n\t\t\t\t\t\t\t<code\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tvisibility: 'hidden',\n\t\t\t\t\t\t\t\t\tpadding: 0,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{input.slice(cursorPositionStart, cursorPositionEnd)}\n\t\t\t\t\t\t\t</code>\n\t\t\t\t\t\t\t<IconArrowUp />\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<code>\n\t\t\t\t\t\t\t<Text type=\"danger\" style={{ fontSize: 18 }}>\n\t\t\t\t\t\t\t\t{vErr.description}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</code>\n\t\t\t\t\t</Space>\n\t\t\t\t</div>\n\t\t\t)\n\t\t})\n\t\tsetErrorTags(tags)\n\t}, [errors, input, onFirstErrorRange])\n\treturn <Space>{errorTags}</Space>\n}\n\nexport const JsonFormatterBlock = () => {\n\tlet inputPlaceholder =\n\t\t'Enter your text, Drag/drop files, Right click to load file'\n\tconst jsonIndentState = useObservableState<number>(\n\t\tPref.getInstance().jsonFormatterDefaultIndentSpace.$\n\t)\n\tconst [jsonPathValue, setJsonPathValue] = useState<string>('')\n\tconst [showJsonPathGuide, setShowJsonPathGuide] = useState<boolean>(false)\n\tconst inputRef = useRef<HTMLTextAreaElement>(null)\n\tconst jsonPathRef = useRef<HTMLInputElement>(null)\n\tconst { copy } = useClipboard({\n\t\tonSuccess: (_) => {\n\t\t\tToast.success('JSON copied')\n\t\t},\n\t})\n\n\tconst wasmAPI = useWasmAPI()\n\n\tconst [inputValue, setInputValue] = useObservableState<string | undefined>(\n\t\t(obs) => {\n\t\t\tobs.subscribe((changedInput) => {\n\t\t\t\timport('wasm-api').then((wasm) => {\n\t\t\t\t\tlet error = wasm?.validate_json(changedInput!)\n\t\t\t\t\tif (error) {\n\t\t\t\t\t\tif (error.code === 'E100') {\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetValidationErrors([error])\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tconst setOutput = (changed: string) => {\n\t\t\t\tPref.getInstance().jsonFormatterDefaultIndentSpace.subscribe({\n\t\t\t\t\tnext: (indent) => {\n\t\t\t\t\t\tsetValidationErrors([])\n\t\t\t\t\t\tsetOutputJson(changed === '' ? '{}' : changed, indent)\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tobs.subscribe((changed) => {\n\t\t\t\tsetOutput(changed ?? '')\n\t\t\t})\n\t\t\treturn obs\n\t\t},\n\t\tundefined\n\t)\n\n\tconst [outputValue, setOutputValue] = useObservableState<string | undefined>(\n\t\t(obs) => {\n\t\t\treturn obs\n\t\t},\n\t\tundefined\n\t)\n\n\tconst [editorTheme, setEditorTheme] = useObservableState<string | undefined>(\n\t\t(obs) => {\n\t\t\treturn obs\n\t\t},\n\t\tundefined\n\t)\n\n\tconst [validationErrors, setValidationErrors] = useObservableState<\n\t\tArray<any>\n\t>((obs) => {\n\t\treturn obs\n\t}, [])\n\n\tuseMount(() => {\n\t\tPref.getInstance().darkModeEnabled.subscribe({\n\t\t\tnext: (enabled) => {\n\t\t\t\tsetEditorTheme(enabled ? 'dark' : 'light')\n\t\t\t},\n\t\t})\n\t})\n\n\tconst setOutputJson = (val?: string, indent?: number | string) => {\n\t\tlet outObj = {}\n\t\tlet content = ''\n\t\ttry {\n\t\t\tif (val) {\n\t\t\t\toutObj = JSON.parse(val)\n\t\t\t\tif (indent === 91) {\n\t\t\t\t\tindent = '\\t'\n\t\t\t\t}\n\t\t\t\tcontent = JSON.stringify(outObj, null, indent)\n\t\t\t}\n\t\t} catch (e) {\n\t\t} finally {\n\t\t\tsetOutputValue(content)\n\t\t}\n\t}\n\n\tconst onInputChanged = (val: string) => {\n\t\tsetInputValue(val)\n\t\tsetJsonPathValue('')\n\t}\n\n\tconst onCopy = () => {\n\t\tcopy(outputValue)\n\t}\n\n\tfunction setRandomJson() {\n\t\tconst inputVal = wasmAPI?.get_random_json()\n\t\tsetInputValue(inputVal)\n\t}\n\n\tfunction onCompressClicked() {\n\t\tonIndentSelectionChanged(0)\n\t}\n\n\tfunction onClearClicked() {\n\t\tsetInputValue('')\n\t}\n\n\tfunction onIndentSelectionChanged(\n\t\tvalue: string | number | any[] | Record<string, any> | undefined\n\t) {\n\t\tconst indent = value as number\n\t\tconsole.debug(`setting output json as ${indent} spaces indent`)\n\t\tsetOutputJson(outputValue, indent)\n\t\tPref.getInstance().jsonFormatterDefaultIndentSpace.value = indent\n\t}\n\n\tconst isSidebarCollapsed = useObservableState(\n\t\tPref.getInstance().toolsSiderCollapsed.$\n\t)\n\n\t// noinspection RequiredAttributes\n\treturn (\n\t\t<isTauriAppContext.Consumer>\n\t\t\t{(isTauri) => (\n\t\t\t\t<Row className=\"json-formatter-container\">\n\t\t\t\t\t<SideSheet\n\t\t\t\t\t\tsize={'large'}\n\t\t\t\t\t\tvisible={showJsonPathGuide}\n\t\t\t\t\t\tonCancel={() => {\n\t\t\t\t\t\t\tsetShowJsonPathGuide(false)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<JsonPathGuide />\n\t\t\t\t\t</SideSheet>\n\n\t\t\t\t\t<Row className=\"json-formatter-container-child\" gutter={10}>\n\t\t\t\t\t\t<Col\n\t\t\t\t\t\t\tspan={9}\n\t\t\t\t\t\t\tclassName={`input-block ${isTauri ? 'mod-input-block-is-tauri' : ''\n\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Row style={{ padding: '10px 0' }}>\n\t\t\t\t\t\t\t\t<Space>\n\t\t\t\t\t\t\t\t\t<Button onClick={setRandomJson}>Sample</Button>\n\t\t\t\t\t\t\t\t\t<Button onClick={onClearClicked}>Clear</Button>\n\t\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t<Row style={{ height: '100%' }}>\n\t\t\t\t\t\t\t\t<AutoFitTextAreaWithRef\n\t\t\t\t\t\t\t\t\tvalue={inputValue}\n\t\t\t\t\t\t\t\t\tonChange={onInputChanged}\n\t\t\t\t\t\t\t\t\tforwardedRef={inputRef}\n\t\t\t\t\t\t\t\t\tisOnError={validationErrors}\n\t\t\t\t\t\t\t\t\tplaceholder={inputPlaceholder}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col\n\t\t\t\t\t\t\tspan={15}\n\t\t\t\t\t\t\tclassName={`input-block ${isTauri ? 'mod-input-block-is-tauri' : ''\n\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Row\n\t\t\t\t\t\t\t\tstyle={{ padding: '10px 0', flexDirection: 'row-reverse' }}\n\t\t\t\t\t\t\t\ttype={'flex'}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Space>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tdisabled={!outputValue}\n\t\t\t\t\t\t\t\t\t\tonClick={onCompressClicked}\n\t\t\t\t\t\t\t\t\t\ticon={<IconLayers />}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tCompress\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\tdisabled={!outputValue}\n\t\t\t\t\t\t\t\t\t\tvalue={jsonIndentState}\n\t\t\t\t\t\t\t\t\t\tdefaultValue={jsonIndentState}\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\n\t\t\t\t\t\t\t\t\t\tonChange={onIndentSelectionChanged}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Select.Option value={2}>2 spaces</Select.Option>\n\t\t\t\t\t\t\t\t\t\t<Select.Option value={4}>4 spaces</Select.Option>\n\t\t\t\t\t\t\t\t\t\t<Select.Option value={91}>1 tab</Select.Option>\n\t\t\t\t\t\t\t\t\t\t<Select.Option value={0}>minified</Select.Option>\n\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tdisabled={!outputValue}\n\t\t\t\t\t\t\t\t\t\tonClick={onCopy}\n\t\t\t\t\t\t\t\t\t\ticon={<IconCopy />}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tCopy\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t<Row className=\"cm-block\">\n\t\t\t\t\t\t\t\t{validationErrors.length > 0 ? (\n\t\t\t\t\t\t\t\t\t<Banner\n\t\t\t\t\t\t\t\t\t\tclassName=\"validation-error\"\n\t\t\t\t\t\t\t\t\t\tfullMode={false}\n\t\t\t\t\t\t\t\t\t\ttype=\"danger\"\n\t\t\t\t\t\t\t\t\t\tbordered\n\t\t\t\t\t\t\t\t\t\ticon={null}\n\t\t\t\t\t\t\t\t\t\tcloseIcon={null}\n\t\t\t\t\t\t\t\t\t\tdescription={\n\t\t\t\t\t\t\t\t\t\t\t<ErrorDisplay\n\t\t\t\t\t\t\t\t\t\t\t\tonFirstErrorRange={(_start, _end) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t// inputRef?.current?.setSelectionRange(start, end)\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tinput={inputValue}\n\t\t\t\t\t\t\t\t\t\t\t\terrors={validationErrors}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<Row\n\t\t\t\t\t\t\t\t\t\tclassName={`cm-block-group\n\t\t\t\t\t\t\t\t\t\t${isTauri ? 'mod-cm-in-tauri' : 'mod-cm-in-browser'}\n\t\t\t\t\t\t\t\t\t\t${isSidebarCollapsed ? 'mod-cm-sider-collapsed' : 'mod-cm-sider-expanded'}\n\t\t\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t\t\t\ttype={'flex'}\n\t\t\t\t\t\t\t\t\t\tgutter={10}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t<CodeMirror\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={outputValue}\n\t\t\t\t\t\t\t\t\t\t\t\t// extensions={[json()]}\n\t\t\t\t\t\t\t\t\t\t\t\ttheme={editorTheme! as 'light' | 'dark'}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t<Space style={{ width: '100%' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!validationErrors || !outputValue}\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={'JSON Path'}\n\t\t\t\t\t\t\t\t\t\t\t\t\tref={jsonPathRef}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={jsonPathValue}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(val) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetJsonPathValue(val)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (val) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet res = JSONPath({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpath: val,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjson: JSON.parse(inputValue!),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetOutputJson(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tJSON.stringify(res),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjsonIndentState\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetInputValue(inputValue)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon={<IconHelpCircle />}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetShowJsonPathGuide(true)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Row>\n\t\t\t)}\n\t\t</isTauriAppContext.Consumer>\n\t)\n}\n","import {RefObject} from \"react\";\nimport {findDOMNode} from \"react-dom\";\n\nexport function GetRefNodeSize(ref: RefObject<any>) {\n    const htmlNode = findDOMNode(ref.current) as HTMLElement\n    return [htmlNode.offsetWidth ?? 0, htmlNode.offsetHeight ?? 0]\n}\n\nexport function base64encode(str: string) {\n    let encode = encodeURIComponent(str)\n    return window.btoa(encode)\n}\n\nexport function base64decode(str: string) {\n    let decode = window.atob(str);\n    return decodeURIComponent(decode)\n}\n\nexport function findNodesByClassName<T extends HTMLElement>(parent: HTMLElement, className: string): Array<T> {\n    let nodes = parent.getElementsByClassName(className)\n    let returnVals: Array<T> = []\n    for (let nodesKey in nodes) {\n        let node = nodes[nodesKey];\n        if (node instanceof HTMLElement) {\n            returnVals.push(node as T)\n        }\n    }\n    return returnVals\n}\n\nexport function formatNumber(n: number, fractionDigits: number = 0) {\n    let ns = n.toFixed(fractionDigits) + '';\n    let x = ns.split('.');\n    let x1 = x[0];\n    let x2 = x.length > 1 ? '.' + x[1] : '';\n    let rgx = /(\\d+)(\\d{3})/;\n    while (rgx.test(x1)) {\n        // eslint-disable-next-line no-useless-concat\n        x1 = x1.replace(rgx, '$1' + ',' + '$2');\n    }\n    return x1 + x2;\n}\n\nexport function base64ToArrayBuffer(base64: string) {\n    const binary_string = window.atob(base64);\n    const len = binary_string.length;\n    const bytes = new Uint8Array(len);\n    for (let i = 0; i < len; i++) {\n        bytes[i] = binary_string.charCodeAt(i);\n    }\n    return bytes;\n}\n\nexport function arrayBufferToBase64(dView: Uint8Array) {\n\n    const arr = Array.prototype.slice.call(dView); //Create a normal array\n\n    const arr1 = arr.map(function (item) {\n        return String.fromCharCode(item);    //Convert\n    });\n\n    return window.btoa(arr1.join(''));   //Form a string\n\n}\n\n\nexport function saveBase64AsFile(base64: string, fileName: string) {\n    const link = document.createElement(\"a\");\n    document.body.appendChild(link);\n    link.setAttribute(\"type\", \"hidden\");\n    link.href = \"data:text/plain;base64,\" + base64;\n    link.download = fileName;\n    link.click();\n    document.body.removeChild(link);\n}\n\nexport function getOS() {\n    return window.navigator.appName\n}","import * as React from 'react';\nimport {useContext, useRef, useState} from 'react';\nimport {Button, Radio, RadioGroup, Row, Space, TabPane, Tabs, Toast, Tooltip} from \"@douyinfe/semi-ui\";\nimport \"./base64serde.scss\"\nimport \"../shared/styles/h-layout.scss\"\nimport {IconArrowUp, IconCopy, IconDownload, IconFile, IconImage} from \"@douyinfe/semi-icons\";\nimport {AutoFitTextAreaWithRef} from \"../wigetds/autofit-textarea\";\nimport {useMount} from \"react-use\";\nimport {useSearchParams} from \"react-router-dom\";\nimport {useObservableState} from \"observable-hooks\";\nimport useClipboard from \"use-clipboard-hook\";\nimport {arrayBufferToBase64, base64decode, base64encode, formatNumber, saveBase64AsFile} from \"../libs/helpers\";\nimport {randSentence} from \"@ngneat/falso\"\nimport Text from \"@douyinfe/semi-ui/lib/es/typography/text\";\nimport sampleData from \"../../assets/base64-img-sample.json\"\nimport {isTauriAppContext} from '../../App';\n\nexport const Base64Serde = () => {\n    // noinspection DuplicatedCode\n    const [defaultTabIdx, setDefaultTabIdx] = useObservableState<string>(\n        obs => {\n            obs.subscribe(idx => {\n                const search = window.location.search;\n                const params = new URLSearchParams(search);\n                params.set(\"tab\", idx)\n                setSearchParams(params)\n            })\n            return obs\n        },\n        \"1\")\n    const [searchParams, setSearchParams] = useSearchParams();\n\n    useMount(() => {\n        let tabIndex = searchParams.get(\"tab\")\n        if (tabIndex) {\n            setDefaultTabIdx(tabIndex);\n        }\n    })\n\n    return (\n\n        <isTauriAppContext.Consumer>\n            {\n                (isTauri) => (\n                    <Tabs defaultActiveKey={defaultTabIdx}\n                          activeKey={defaultTabIdx}\n                          onChange={(key) => {\n                              setDefaultTabIdx(key)\n                          }}\n                          className={`h-layout-container ${isTauri ? 'mod-is-tauri' : ''}`}\n                    >\n                        <TabPane tab={<span> <IconFile/> String </span>} itemKey=\"1\">\n                            <Base64SerdeStringBlockBlock/>\n                        </TabPane>\n                        <TabPane tab={<span> <IconImage/> Image </span>} itemKey=\"2\">\n                            <Base64SerdeImageBlockBlock/>\n                        </TabPane>\n                    </Tabs>\n                )\n            }\n        </isTauriAppContext.Consumer>\n    );\n};\n\nexport const Base64SerdeStringBlockBlock = () => {\n        const [codingType, setCodingType] = useState<number>(0)\n        const [inValue, setInValue] = useObservableState<String>(obs => {\n                return obs\n            }, ''\n        )\n        const [outValue, setOutValue] = useObservableState<String>(obs => {\n            return obs\n        }, '')\n        const {copy} = useClipboard({\n            onSuccess: (_) => {\n                Toast.success({\n                    content: `${codingType === 0 ? 'encoded' : 'decoded'} content copied`,\n                },)\n            }\n        });\n\n        const setInputForm = (value: string) => {\n            setInValue(value)\n            setOutValue(codingType === 0 ? base64encode(value) : base64decode(value))\n        }\n\n        const onGenSampleClicked = () => {\n            setInputForm(randSentence({length: 1})[0])\n        }\n\n        const onClearClicked = () => {\n            setInputForm(\"\")\n        }\n\n        const onCopy = () => {\n            copy(outValue.valueOf())\n        }\n\n        const onUseAsInputClicked = () => {\n            setOutValue(\"\");\n            setInValue(outValue)\n        }\n\n        return (\n            <Row className='h-layout-child-container' type={\"flex\"}>\n                <Row className={'h-layout-child'}>\n                    <Row type='flex' className='header' style={{justifyContent: \"space-between\", alignItems: \"center\"}}>\n                        <Space>\n                            <Button onClick={onGenSampleClicked}>Sample</Button>\n                            <Button onClick={onClearClicked} disabled={!inValue}>Clear</Button>\n                        </Space>\n                        <RadioGroup\n                            style={{paddingRight: 5}}\n                            defaultValue={codingType} value={codingType} onChange={(v) => {\n                            setCodingType(v.target.value as number)\n                            if (inValue !== '') {\n                                try {\n                                    setOutValue(codingType === 1 ? base64encode(inValue.valueOf()) : base64decode(inValue.valueOf()))\n                                } catch (e) {\n                                    setOutValue(\"\")\n                                } finally {\n                                }\n                            }\n                        }}>\n                            <Radio value={0}>Encode</Radio>\n                            <Radio value={1}>Decode</Radio>\n                        </RadioGroup>\n                    </Row>\n                    <Row className={'mod-section-content mod-no-footer'}>\n                        <AutoFitTextAreaWithRef value={inValue.valueOf()} onChange={(value) => {\n                            setInputForm(value)\n                        }}/>\n                    </Row>\n                </Row>\n                <Row className={'h-layout-child'}>\n                    <Row className='header'>\n                        <Space>\n                            <Button onClick={onCopy} disabled={outValue === ''} icon={<IconCopy/>}>Copy</Button>\n                            <Button onClick={onUseAsInputClicked} disabled={outValue === ''} icon={<IconArrowUp/>}>Use\n                                as input</Button>\n                        </Space>\n                    </Row>\n                    <Row className={'mod-section-content mod-no-footer'}>\n                        <AutoFitTextAreaWithRef value={outValue.valueOf()}/>\n                    </Row>\n                </Row>\n            </Row>\n        );\n    }\n;\n\n// noinspection JSUnusedGlobalSymbols\nexport const Base64SerdeImageBlockBlock = () => {\n    const isTauri = useContext(isTauriAppContext)\n    const createImage = (data: string, fileType = \"image/jpeg\") => {\n        let src = `data:${fileType};base64,`;\n        src += data\n        let newImage = document.createElement(\"img\");\n        newImage.src = src\n        newImage.onerror = function (_) {\n            newImage.src = \"\"\n        }\n        return newImage\n    }\n\n    const [base64SourceType, setBase64SourceType] = useObservableState<number>((obs) => {\n        obs.subscribe(_ => {\n            onInValueChanged(\"\")\n        })\n        return obs\n    }, 0)\n\n    const [imgSize, setImageSize] = useState<[number, number]>([0, 0])\n    const [, setImgSrc] = useObservableState<string>(obs => {\n        return obs\n    }, '')\n    const [imgTag, setImgTag] = useObservableState<HTMLImageElement | null>(obs => {\n        // calculate input base64 size\n        obs.subscribe(async tag => {\n            let blobSize = 0\n            if (tag) {\n                let src = \"\"\n                try {\n                    src = tag?.src\n                } catch (e) {\n                }\n                try {\n                    const imgSrc = src ?? \"\"\n                    setImgSrc(imgSrc)\n                    const base64Response = await fetch(imgSrc);\n                    blobSize = (await base64Response.blob()).size\n                } catch (e) {\n                    blobSize = 0\n                } finally {\n                }\n            }\n            setImageBlobSize(blobSize)\n        })\n        return obs\n    }, null)\n\n    const [imgBlobSize, setImageBlobSize] = useState<number>(0)\n\n    const [inValue, setInValue] = useObservableState<string>(obs => {\n        return obs\n    }, \"\")\n    const imgContainerRef = useRef<HTMLDivElement>(null)\n\n\n    const onGenSampleClicked = () => {\n        let data = sampleData.data\n        if (base64SourceType === 1) {\n            data = sampleData.data1\n        }\n        onInValueChanged(data);\n    }\n\n    const onClearClicked = () => {\n        onInValueChanged(\"\")\n    }\n\n    const extractBase64 = (inData: string) => {\n        if (!inData) {\n            return \"\"\n        }\n\n        // source in image tag\n        let matches = inData.match(/data:image\\/[^;]+;base64[^\"]+/igm);\n        if (matches && matches.length > 0) {\n            let fistMatch = matches[0]\n            let base64Data = fistMatch.split(\"base64,\")[1]\n            base64Data = base64Data.slice(0, base64Data.length);\n            return base64Data\n        }\n        return inData;\n    }\n\n    const onInValueChanged = (data: string, fileType: string = \"image/jpeg\") => {\n        setInValue(data);\n\n        // data might be raw base64 string, image html tag, or css url pattern\n        let base64String = extractBase64(data)\n\n        let originalImageResized = document.getElementById(\"created-img-resized\") as HTMLImageElement;\n\n        let imgContainer = imgContainerRef.current\n        const removeExisting = () => {\n            if (imgContainer && originalImageResized) {\n                imgContainer.removeChild(originalImageResized)\n                setImgTag(null)\n            }\n        }\n\n        removeExisting()\n\n        if (base64String === \"\") {\n            setImageSize([0, 0])\n            return\n        } else {\n            try {\n                originalImageResized = createImage(base64String, fileType);\n            } catch (e) {\n                setImageSize([0, 0])\n                return\n            } finally {\n\n            }\n            originalImageResized.id = \"created-img-resized\"\n            originalImageResized.onload = function () {\n                setImageSize([originalImageResized.naturalWidth, originalImageResized.naturalHeight])\n            }\n            if (imgContainer) {\n                imgContainer.appendChild(originalImageResized)\n                setImgTag(originalImageResized)\n            }\n        }\n    }\n\n    const formatBytes = (n: number) => {\n        if (n >= 1024 && n <= 1024 * 1024) {\n            return `${formatNumber(n / 1024, 2)} kB`\n        }\n        if (n >= 1024 * 1024) {\n            return `${formatNumber(n / (1024 * 1024), 2)} MB`\n        }\n\n        return `${formatNumber(n)} bytes`;\n    }\n\n    //<editor-fold desc=\"Read image from fs\">\n    const [isLoadingFile, setIsLoadingFile] = useState<boolean>(false)\n    const fileReaderRef = useRef<HTMLInputElement>(null)\n    const fillBase64FormFromFile = (data: Uint8Array, fileType: string = \"image/jpeg\") => {\n        const base64String = arrayBufferToBase64(data)\n\n        let img = createImage(base64String, fileType)\n        img.hidden = true\n        img.id = \"temp_img\"\n        if (base64SourceType === 0) {\n            onInValueChanged(base64String, fileType)\n        }\n        if (base64SourceType === 1) {\n            onInValueChanged(`<img src=\"${img.src}\" alt=\"\">`, fileType)\n        }\n\n        setIsLoadingFile(false)\n        img.parentElement?.removeChild(img)\n    }\n    const handelInputChange = () => {\n        if (fileReaderRef?.current?.files) {\n            const selectedFile = fileReaderRef!.current!.files![0];\n            setIsLoadingFile(true)\n            selectedFile.arrayBuffer().then((data) => {\n                fillBase64FormFromFile(new Uint8Array(data), selectedFile.type)\n            }).finally(\n                () => {\n                    setIsLoadingFile(false)\n                }\n            )\n        }\n    }\n\n    async function onLoadFileClicked() {\n        if (fileReaderRef.current) {\n            setIsLoadingFile(true)\n            if (isTauri) {\n                // @ts-ignore\n                const tauri = window.__TAURI__;\n                let filePath = await tauri.dialog.open();\n                if (filePath) {\n                    tauri.invoke(\"read_binary_file\", {\"path\": filePath}).then((invokeRes: [string, Uint8Array]) => {\n                        let data = invokeRes[1]\n                        fillBase64FormFromFile(data)\n                    });\n                }\n            } else {\n                fileReaderRef.current.click()\n            }\n            setIsLoadingFile(false)\n        }\n    }\n\n    //</editor-fold>\n\n    return (\n        <Row className='h-layout-child-container'>\n            <Row className='h-layout-child'>\n                <Space className='header'>\n                    <Space>\n                        <Button onClick={onGenSampleClicked}>Sample</Button>\n                        <Button onClick={onClearClicked} disabled={!inValue}>Clear</Button>\n                    </Space>\n                    <RadioGroup\n                        style={{paddingRight: 10}}\n                        defaultValue={base64SourceType} value={base64SourceType}\n                        onChange={(evt) => {\n                            setBase64SourceType(evt.target.value as number)\n                        }}>\n\n                        <Tooltip content={\"Raw base64 string\"}>\n                            <Radio value={0}>\n                                Raw String\n                            </Radio>\n                        </Tooltip>\n                        <Tooltip content={\"HTML/CSS containing base64 string\"}>\n                            <Radio value={1}>HTML / CSS</Radio>\n                        </Tooltip>\n                    </RadioGroup>\n                </Space>\n                <Row className='mod-section-content'>\n                    <AutoFitTextAreaWithRef value={inValue} onChange={(val) => {\n                        onInValueChanged(val)\n                    }}/>\n                </Row>\n                <Row className='footer'>\n                    <span style={{display: \"flex\", flexDirection: \"row-reverse\"}}>\n                        <Text><code>{formatBytes(new Blob([inValue]).size)}</code></Text>\n                    </span>\n                </Row>\n            </Row>\n            <Row className='h-layout-child'>\n                <Row className='header'>\n                    <Space>\n                        <input type={\"file\"} style={{display: \"none\"}} ref={fileReaderRef}\n                               onChange={handelInputChange}/>\n                        <Button loading={isLoadingFile} icon={<IconFile/>} children={\"Load File ...\"}\n                                onClick={onLoadFileClicked}/>\n                        <Button onClick={onClearClicked} disabled={!imgTag}>Clear</Button>\n                        <Button icon={<IconDownload/>} children={\"Save\"} disabled={!imgTag} onClick={async () => {\n                            const base64Raw = base64SourceType === 0 ? inValue : extractBase64(inValue);\n                            if (imgTag) {\n                                let fileExt: string\n                                fileExt = imgTag.src.split(\"image/\")[1].split(\";\")[0] ?? \"\"\n                                if (imgTag.src) {\n                                    if (isTauri) {\n                                        // @ts-ignore\n                                        let tauri = window.__TAURI__;\n                                        tauri.invoke(\"write_binary_file\", {\n                                            \"data\": base64Raw,\n                                            \"fileName\": `img.${fileExt}`\n                                        })\n                                            .catch((err: string) => {\n                                                Toast.error(err)\n                                            })\n                                    } else {\n\n                                        saveBase64AsFile(base64Raw, `img.${fileExt}`);\n                                    }\n                                }\n                            }\n                        }}/>\n                    </Space>\n                </Row>\n                <Row className='mod-section-content'>\n                    <div className='img-container' ref={imgContainerRef}/>\n                </Row>\n\n                <Row className='footer' style={{display: \"flex\", flexDirection: \"row-reverse\"}}>\n                    <Text><code>{imgSize.join(\"x\")} | {formatBytes(imgBlobSize)}</code></Text>\n                </Row>\n            </Row>\n        </Row>\n    );\n};\n","import {\n\tButton,\n\tCol,\n\tDescriptions,\n\tRow,\n\tSpace,\n\tTabs,\n\tToast,\n} from '@douyinfe/semi-ui'\nimport { useObservableState } from 'observable-hooks'\nimport { useSearchParams } from 'react-router-dom'\nimport { useMount } from 'react-use'\nimport '../shared/styles/h-layout.scss'\nimport { isTauriAppContext } from '../../App'\nimport { Percentage } from '@icon-park/react'\nimport './url-parser.scss'\nimport { AutoFitTextAreaWithRef } from '../wigetds/autofit-textarea'\nimport { Pref } from '../context/pref'\nimport { IconCopy } from '@douyinfe/semi-icons'\nimport parseUrl from 'parse-url'\nimport useClipboard from 'use-clipboard-hook'\n\nexport const UrlParser = () => {\n\t// noinspection DuplicatedCode\n\tconst [defaultTabIdx, setDefaultTabIdx] = useObservableState<string>(\n\t\t(obs) => {\n\t\t\tobs.subscribe((idx) => {\n\t\t\t\tconst search = window.location.search\n\t\t\t\tconst params = new URLSearchParams(search)\n\t\t\t\tparams.set('tab', idx)\n\t\t\t\tsetSearchParams(params)\n\t\t\t})\n\t\t\treturn obs\n\t\t},\n\t\t'1'\n\t)\n\tconst [searchParams, setSearchParams] = useSearchParams()\n\n\tuseMount(() => {\n\t\tlet tabIndex = searchParams.get('tab')\n\t\tif (tabIndex) {\n\t\t\tsetDefaultTabIdx(tabIndex)\n\t\t}\n\t})\n\n\treturn (\n\t\t<isTauriAppContext.Consumer>\n\t\t\t{(isTauri) => (\n\t\t\t\t<Tabs\n\t\t\t\t\tdefaultActiveKey={defaultTabIdx}\n\t\t\t\t\tactiveKey={defaultTabIdx}\n\t\t\t\t\tonChange={(key) => {\n\t\t\t\t\t\tsetDefaultTabIdx(key)\n\t\t\t\t\t}}\n\t\t\t\t\tclassName={`h-layout-container ${isTauri ? 'mod-is-tauri' : ''}`}\n\t\t\t\t>\n\t\t\t\t\t<Tabs.TabPane\n\t\t\t\t\t\ttab={\n\t\t\t\t\t\t\t<Space>\n\t\t\t\t\t\t\t\t<Percentage style={{ height: 18 }} /> <span>Parse</span>{' '}\n\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t}\n\t\t\t\t\t\titemKey={'1'}\n\t\t\t\t\t>\n\t\t\t\t\t\t<UrlParserBlock />\n\t\t\t\t\t</Tabs.TabPane>\n\t\t\t\t\t{/*<Tabs.TabPane tab={<Space><LinkTwo style={{height: 18}}/> <span>Encode/Decode</span> </Space>}*/}\n\t\t\t\t\t{/*              itemKey={\"2\"}>*/}\n\t\t\t\t\t{/*</Tabs.TabPane>*/}\n\t\t\t\t</Tabs>\n\t\t\t)}\n\t\t</isTauriAppContext.Consumer>\n\t)\n}\n\nexport const UrlParserBlock = () => {\n\tconst SAMPLE_URL =\n\t\t'https://www.google.com:443/search?sxsrf=ALeKk03TpCS68ykjCqWWm7_5xDzmkdCBsw%3A1591797655810&ei=l-fgXsOCMcyl-Qaq8p6AAw&q=sample+long+query+string+url&oq=sample+long+query+string+url&gs_lcp=CgZwc3ktYWIQAzoECAAQRzoCCAA6BggAEBYQHjoICCEQFhAdEB46BAgjECc6BwgAEBQQhwI6BwgjELACECc6BAgAEA06CAgAEAgQDRAeOgoIABAIEA0QChAeUIcLWP4vYIAyaAFwAXgAgAF-iAHQC5IBAzkuNpgBAKABAaoBB2d3cy13aXo&sclient=psy-ab&ved=0ahUKEwiDqtCutPfpAhXMUt4KHSq5BzAQ4dUDCAw&uact=5&bb[]=1&bb[]=ab&&bb[]=x#some-hash'\n\n\tconst [editorTheme, setEditorTheme] = useObservableState<string | undefined>(\n\t\t(obs) => {\n\t\t\treturn obs\n\t\t},\n\t\tundefined\n\t)\n\n\tuseMount(() => {\n\t\tPref.getInstance().darkModeEnabled.subscribe({\n\t\t\tnext: (enabled) => {\n\t\t\t\tsetEditorTheme(enabled ? 'dark' : 'light')\n\t\t\t},\n\t\t})\n\t})\n\n\tconst { copy } = useClipboard({\n\t\tonSuccess: (_) => {\n\t\t\tToast.success({\n\t\t\t\tcontent: `query content copied`,\n\t\t\t})\n\t\t},\n\t})\n\n\tinterface ParsedUrl {\n\t\tprotocols: string[]\n\t\tprotocol: string\n\t\tport?: string\n\t\tresource: string\n\t\tuser: string\n\t\tpathname: string\n\t\thash: string\n\t\tsearch: string\n\t\thref: string\n\t\tquery: {\n\t\t\t[key: string]: any\n\t\t}\n\t}\n\n\tconst [parsedUrl, setParsedUrl] = useObservableState<ParsedUrl | null>(\n\t\t(obs) => {\n\t\t\tobs.subscribe((d) => {\n\t\t\t\tif (!d) {\n\t\t\t\t\tsetOutValue('')\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tsetOutValue(JSON.stringify(d?.query ?? {}, null, '\\t'))\n\t\t\t})\n\t\t\treturn obs\n\t\t},\n\t\tnull\n\t)\n\tconst [outValue, setOutValue] = useObservableState<string>((obs) => obs, '')\n\tconst [inValue, setInValue] = useObservableState<string>((obs) => {\n\t\tobs.subscribe((changed) => {\n\t\t\tif (!changed) {\n\t\t\t\tsetParsedUrl(null)\n\t\t\t\treturn\n\t\t\t}\n\t\t\tlet parsedUrlObj = parseUrl(changed)\n\t\t\tsetParsedUrl(parsedUrlObj)\n\t\t})\n\t\treturn obs\n\t}, '')\n\n\treturn (\n\t\t<Row className={'parser-block-container'}>\n\t\t\t<Row className={'url-input-container'}>\n\t\t\t\t<Row className=\"actions\">\n\t\t\t\t\t<Space>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetInValue(SAMPLE_URL)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSample\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetInValue('')\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tClear\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Space>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"url-input-element\">\n\t\t\t\t\t<AutoFitTextAreaWithRef\n\t\t\t\t\t\tvalue={inValue.valueOf()}\n\t\t\t\t\t\tonChange={(v) => {\n\t\t\t\t\t\t\tsetInValue(v)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tplaceholder=\"Input/Paste URL here ...\"\n\t\t\t\t\t/>\n\t\t\t\t</Row>\n\t\t\t</Row>\n\t\t\t<Row className=\"output-container\">\n\t\t\t\t<Col span={21} className=\"segments\">\n\t\t\t\t\t<Descriptions align={'left'} className=\"des\">\n\t\t\t\t\t\t<Descriptions.Item itemKey={'Protocol'}>\n\t\t\t\t\t\t\t{parsedUrl?.protocol ?? ' - '}\n\t\t\t\t\t\t</Descriptions.Item>\n\t\t\t\t\t\t{parsedUrl?.port ? (\n\t\t\t\t\t\t\t<Descriptions.Item itemKey={'Port'}>\n\t\t\t\t\t\t\t\t{parsedUrl?.port ?? ' - '}\n\t\t\t\t\t\t\t</Descriptions.Item>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<></>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Descriptions.Item itemKey={'Host'}>\n\t\t\t\t\t\t\t{parsedUrl?.resource ?? ' - '}\n\t\t\t\t\t\t</Descriptions.Item>\n\t\t\t\t\t\t<Descriptions.Item itemKey={'Path'}>\n\t\t\t\t\t\t\t{parsedUrl?.pathname ?? ' - '}\n\t\t\t\t\t\t</Descriptions.Item>\n\t\t\t\t\t\t{parsedUrl?.user ? (\n\t\t\t\t\t\t\t<Descriptions.Item itemKey={'User'}>\n\t\t\t\t\t\t\t\t{parsedUrl?.user ?? ' - '}\n\t\t\t\t\t\t\t</Descriptions.Item>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<></>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{parsedUrl?.hash ? (\n\t\t\t\t\t\t\t<Descriptions.Item itemKey={'Hash'}>\n\t\t\t\t\t\t\t\t{parsedUrl?.hash ?? ' - '}\n\t\t\t\t\t\t\t</Descriptions.Item>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<></>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Descriptions.Item itemKey={'Query'} className={'query'}>\n\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t{parsedUrl?.search ?? ' - '}{' '}\n\t\t\t\t\t\t</Descriptions.Item>\n\t\t\t\t\t</Descriptions>\n\t\t\t\t</Col>\n\t\t\t\t<Col span={2} style={{ paddingLeft: 10 }}>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticon={<IconCopy />}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tcopy(outValue)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tdisabled={!outValue}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCopy\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t{/* <CodeMirror\n              editable={false}\n              value={outValue}\n              className=\"query-json\"\n              lang=\"json\"\n              extensions={[json()]}\n              theme={editorTheme! as 'light' | 'dark'}\n            /> */}\n\t\t\t\t\t</Row>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Row>\n\t)\n}\n","import { Button, Typography, Col, Input, Row, Select, Space, SideSheet, Descriptions, Toast } from \"@douyinfe/semi-ui\"\nimport { isTauriAppContext } from \"../../App\"\nimport \"./crontab-paser.scss\"\nimport { useWasmAPI } from '../libs/hooks/wasm-api'\nimport { useEffect, useState } from \"react\"\nimport cronstrue from \"cronstrue\"\nimport { IconHelpCircle } from \"@douyinfe/semi-icons\"\nimport { Data, } from \"@douyinfe/semi-ui/lib/es/descriptions\"\nimport useClipboard from \"use-clipboard-hook\"\nimport \"../shared/styles/h-layout.scss\"\n\ntype crontabExample = {\n\tdes: string,\n\texp: string\n}\n\nconst exampleCrontabs: Array<crontabExample> = [\n\t{ des: \"Every minute\", exp: \"* * * * *\" },\n\t{ des: \"Every Five Minutes\", exp: \"*/5 * * * *\" },\n\t{ des: \"Every Hour\", exp: \"0 * * * *\" },\n\t{ des: \"Every Six Hours\", exp: \"*/6 * * * *\" },\n\t{ des: \"Evry 5 minutes from 9am to 5pm\", exp: \"*/5 9-17 * * *\" },\n\t{ des: \"Every minute on Sunday\", exp: \"* * * * SUN\" },\n\t{ des: \"Every day at 2am\", exp: \"0 2 * * *\" },\n\t{ des: \"On October 1st at 3pm\", exp: \"0 15 1 10 *\" },\n]\n\nconst CrontabParser = () => {\n\tconst { Text, } = Typography\n\tconst wasmAPI = useWasmAPI()\n\n\tconst defaultExplain = \"Please enter a cron expression\"\n\tconst [explain, setExplain] = useState(defaultExplain)\n\tconst [isErroCron, setIsErrorCron] = useState(false)\n\tconst [showCrontabHelp, setShowCrontabHelp] = useState(false)\n\tconst [inputExp, setInputExp] = useState(\"\")\n\tconst [data, setData] = useState<Array<Data>>(defaultData)\n\tconst [exmapleIdx, setExampleIdx] = useState<number | undefined>()\n\n\tconst onInpuExpChanged = (exp: string) => {\n\t\tsetInputExp(exp)\n\t\tsetExampleIdx(undefined)\n\t\tif (!exp) {\n\t\t\tsetExplain(defaultExplain)\n\t\t\tsetIsErrorCron(false)\n\t\t\treturn\n\t\t}\n\t\tconst defautlErr = () => {\n\t\t\tsetExplain(`Invalid Expression`)\n\t\t\tsetIsErrorCron(true)\n\t\t}\n\t\ttry {\n\t\t\tconst parseRes = wasmAPI?.parse_crontab_string(exp)\n\t\t\ttry {\n\t\t\t\tconst explain = cronstrue.toString(exp)\n\t\t\t\tsetExplain(explain.replace(\"aN:\", \"00:\"))\n\t\t\t\tsetIsErrorCron(false)\n\t\t\t\tconst expSegs = exp.replace(/\\s\\s/g, '').split(\" \")\n\t\t\t\tconst isAllMinutes = expSegs[0] === \"*\"\n\t\t\t\tconst isAllHours = expSegs[1] === \"*\"\n\t\t\t\tconst isAllDays = expSegs[2] === \"*\"\n\t\t\t\tconst isAllMonths = expSegs[3] === \"*\"\n\t\t\t\tconst isAllWeekdays = expSegs[4] === \"*\"\n\t\t\t\tsetData([\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: \"Minutes\", value: isAllMinutes ? \"(All)\" : Array.from(new Set(parseRes?.minutes)).map((m: Number) => { return \":\" + `${m}`.padStart(2, \"0\") }).join(', '),\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: \"Hours\", value: isAllHours ? \"(All)\" : Array.from(new Set(parseRes?.hours)).map((m: Number) => { return `${m}`.padStart(2, \"0\") }).join(', '),\n\t\t\t\t\t},\n\t\t\t\t\t{ key: \"Days\", value: isAllDays ? \"(All)\" : Array.from(new Set(parseRes?.days)).map((m: Number) => { return `${m}` }).join(', '), },\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: \"Day of Month\", value: isAllMonths ? \"(All)\" : Array.from(new Set(parseRes?.months)).map((m: Number) => {\n\t\t\t\t\t\t\treturn [\n\t\t\t\t\t\t\t\t\"January\",\n\t\t\t\t\t\t\t\t\"February\",\n\t\t\t\t\t\t\t\t\"March\",\n\t\t\t\t\t\t\t\t\"April\",\n\t\t\t\t\t\t\t\t\"May\",\n\t\t\t\t\t\t\t\t\"June\",\n\t\t\t\t\t\t\t\t\"July\",\n\t\t\t\t\t\t\t\t\"August\",\n\t\t\t\t\t\t\t\t\"September\",\n\t\t\t\t\t\t\t\t\"October\",\n\t\t\t\t\t\t\t\t\"November\",\n\t\t\t\t\t\t\t\t\"December\"\n\n\t\t\t\t\t\t\t][(m) as number - 1]\n\t\t\t\t\t\t}).join(', '),\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: \"Day of Week\", value: isAllWeekdays ? \"(All)\" : Array.from(new Set(parseRes?.weekdays)).map((m: Number) => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t0: \"Sunday\",\n\t\t\t\t\t\t\t\t1: \"Monday\",\n\t\t\t\t\t\t\t\t2: \"Tuesday\",\n\t\t\t\t\t\t\t\t3: \"Wedensday\",\n\t\t\t\t\t\t\t\t4: \"Thursday\",\n\t\t\t\t\t\t\t\t5: \"Friday\",\n\t\t\t\t\t\t\t\t6: \"Saturday\",\n\n\t\t\t\t\t\t\t}[(m) as number - 1]\n\t\t\t\t\t\t}).join(', '),\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: \"Next executions\", value:\n\t\t\t\t\t\t\t<Space vertical={true}>\n\t\t\t\t\t\t\t\t{parseRes?.next_executions.split(\"#\").map((n, idx) => {\n\t\t\t\t\t\t\t\t\tlet [local, utc] = n.split(\",\");\n\t\t\t\t\t\t\t\t\treturn <Space key={idx}>\n\t\t\t\t\t\t\t\t\t\t<Text code>{local}</Text>\n\t\t\t\t\t\t\t\t\t\t<span>{utc}</span>\n\t\t\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Space>\n\n\t\t\t\t\t}\n\t\t\t\t])\n\t\t\t} catch (_) {\n\t\t\t\tdefautlErr()\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tlet errMsg = `${e}`;\n\t\t\tif (errMsg.startsWith(\"RuntimeError\")) {\n\t\t\t\tconsole.error(e)\n\t\t\t\tdefautlErr();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetExplain(errMsg)\n\t\t\tsetIsErrorCron(true)\n\t\t}\n\t}\n\n\t// @ts-ignore\n\tconst onExampleSelected = (index: any) => {\n\t\tconst exp = exampleCrontabs[index].exp\n\t\tsetInputExp(exp)\n\t\tonInpuExpChanged(exp)\n\t}\n\n\tconst { copy } = useClipboard({\n\t\tonSuccess: (_) => {\n\t\t\tToast.success({\n\t\t\t\tcontent: `Copied Crontab expression.`,\n\t\t\t})\n\t\t},\n\t})\n\n\t// setInputExp(\"0 */21 * * WED-THU\")\n\t// onInpuExpChanged(\"0 */21 * * WED-THU\")\n\n\treturn (\n\t\t<Row>\n\t\t\t<SideSheet\n\t\t\t\tsize={'medium'}\n\t\t\t\tvisible={showCrontabHelp}\n\t\t\t\tonCancel={() => {\n\t\t\t\t\tsetShowCrontabHelp(false)\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<CrontabHelp />\n\t\t\t</SideSheet>\n\t\t\t<Row className={'crontab-input-actions'}>\n\t\t\t\t<Row>\n\t\t\t\t\t<Space>\n\t\t\t\t\t\t<Button onClick={() => {\n\t\t\t\t\t\t\tlet idx = Math.floor(exampleCrontabs.length * Math.random());\n\t\t\t\t\t\t\tconst exp = exampleCrontabs[idx].exp\n\t\t\t\t\t\t\tsetInputExp(exp)\n\t\t\t\t\t\t\tsetExplain(defaultExplain)\n\t\t\t\t\t\t\tonInpuExpChanged(exp)\n\t\t\t\t\t\t\tsetExampleIdx(idx)\n\t\t\t\t\t\t}} > Sample </Button>\n\t\t\t\t\t\t<Button onClick={() => {\n\t\t\t\t\t\t\tsetInputExp(\"\")\n\t\t\t\t\t\t\tsetExplain(defaultExplain)\n\t\t\t\t\t\t\tonInpuExpChanged(\"\")\n\t\t\t\t\t\t\tsetData(defaultData)\n\t\t\t\t\t\t}} > Clear </Button>\n\t\t\t\t\t\t<Button onClick={() => {\n\t\t\t\t\t\t\tcopy(inputExp)\n\t\t\t\t\t\t}} disabled={!inputExp} > Copy </Button>\n\t\t\t\t\t</Space>\n\t\t\t\t</Row>\n\t\t\t</Row>\n\t\t\t<Row className={'crontab-input-container'}>\n\t\t\t\t<Col span={11} style={{ paddingLeft: \"5px\" }}>\n\t\t\t\t\t<Space style={{ width: \"100%\" }} >\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticon={<IconHelpCircle />}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetShowCrontabHelp(true)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tplaceholder=\"* * * * *\" value={inputExp} onChange={onInpuExpChanged}></Input>\n\t\t\t\t\t</Space>\n\n\t\t\t\t</Col>\n\t\t\t\t<Col span={11} style={{ paddingLeft: \"10px\" }}>\n\t\t\t\t\t<Select style={{ width: \"100%\" }}\n\t\t\t\t\t\tplaceholder=\"Pick an example ...\"\n\t\t\t\t\t\tonSelect={onExampleSelected}\n\t\t\t\t\t\tdefaultValue={undefined}\n\t\t\t\t\t\tvalue={exmapleIdx}\n\t\t\t\t\t>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\texampleCrontabs.map((exp, idx) => {\n\t\t\t\t\t\t\t\treturn <Select.Option\n\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\tvalue={idx}>{`${exp.des} (${exp.exp})`}</Select.Option>\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t</Select>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"crontab-content\">\n\t\t\t\t<Row className={'crontab-explain'}>\n\t\t\t\t\t<Col span={24}>\n\t\t\t\t\t\t<Text type={isErroCron ? \"danger\" : \"secondary\"}>{explain}</Text>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row style={{ marginTop: \"20px\" }}>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<CrontabParserResDisplay data={data} />\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Row>\n\t\t</Row >\n\t)\n}\n\nlet defaultData: Array<Data> = [\n\t{ key: \"Minutes\", value: \"-\" },\n\t{ key: \"Hours\", value: \"-\" },\n\t{ key: \"Day of Month\", value: \"-\" },\n\t{ key: \"Months\", value: \"-\" },\n\t{ key: \"Day of Week\", value: \"-\" },\n\t{ key: \"Next executions\", value: \"-\" },\n]\nconst CrontabParserResDisplay = (props: { data: Array<Data> }) => {\n\tconst [data, setData] = useState<Array<Data> | undefined>()\n\n\tuseEffect(() => {\n\t\tsetData(props.data)\n\t}, [props])\n\n\treturn <Descriptions\n\t\talign={'left'}\n\t\tstyle={{ width: \"100%\" }} data={data}> </Descriptions>\n}\n\nconst CrontabHelp = () => {\n\treturn <Row>\n\t\t<Col>\n\t\t\t<Row>\n\t\t\t\t<Col>\n\t\t\t\t\t<table>\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Field</th>\n\t\t\t\t\t\t\t\t<th>Required</th>\n\t\t\t\t\t\t\t\t<th>Allowed values</th>\n\t\t\t\t\t\t\t\t<th>Allowed special characters</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>Minutes</td>\n\t\t\t\t\t\t\t\t<td>Yes</td>\n\t\t\t\t\t\t\t\t<td>0â59</td>\n\t\t\t\t\t\t\t\t<td>* , - /</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>Hours</td>\n\t\t\t\t\t\t\t\t<td>Yes</td>\n\t\t\t\t\t\t\t\t<td>0â23</td>\n\t\t\t\t\t\t\t\t<td>* , - /</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>Day of month</td>\n\t\t\t\t\t\t\t\t<td>Yes</td>\n\t\t\t\t\t\t\t\t<td>1â31</td>\n\t\t\t\t\t\t\t\t<td>* , - /</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>Month</td>\n\t\t\t\t\t\t\t\t<td>Yes</td>\n\t\t\t\t\t\t\t\t<td>1â12 or Jan-Dec</td>\n\t\t\t\t\t\t\t\t<td>* , - /</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>Day of week</td>\n\t\t\t\t\t\t\t\t<td>Yes</td>\n\t\t\t\t\t\t\t\t<td>1â7 or Sun-Sat</td>\n\t\t\t\t\t\t\t\t<td>* , - /</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\n\t\t</Col>\n\t</Row>\n}\n\nexport const CrontabParserBlock = () => {\n\treturn (\n\t\t<isTauriAppContext.Consumer>\n\t\t\t{(isTauri) => (\n\t\t\t\t<Row className={`h-layout-container ${isTauri ? 'mod-is-tauri' : ''}`}\n\t\t\t\t\tstyle={{ padding: \"10px 10px\" }}\n\t\t\t\t>\n\t\t\t\t\t<CrontabParser></CrontabParser>\n\t\t\t\t</Row>\n\t\t\t)}\n\t\t</isTauriAppContext.Consumer>\n\t)\n}\n","import { NavItemProps } from \"@douyinfe/semi-ui/lib/es/navigation\";\nimport { Calendar, CodeBrackets, LinkOne, PayCode } from \"@icon-park/react\";\nimport { ReactNode } from \"react\";\nimport { JsonFormatterBlock } from \"../tool-blocks/json-formatter\";\nimport { Icon } from \"@douyinfe/semi-ui\";\nimport { Base64Serde } from \"../tool-blocks/base64serde\";\nimport { UrlParser } from \"../tool-blocks/url-parser\";\nimport { CrontabParserBlock } from \"../tool-blocks/crontab-parser\";\n\ntype ToolSiderItem = {\n\tnavItemProps: NavItemProps;\n\tnode: ReactNode;\n};\n\nconst ToolSiderConfigs: { [key: string]: ToolSiderItem } = {\n\t\"json-formatter\": {\n\t\tnavItemProps: {\n\t\t\titemKey: \"json-formatter\",\n\t\t\ttext: \"JSON Formatter\",\n\t\t\ticon: <Icon svg={<CodeBrackets theme=\"outline\" />} />,\n\t\t},\n\t\tnode: <JsonFormatterBlock />,\n\t},\n\t\"base64-serde\": {\n\t\tnavItemProps: {\n\t\t\titemKey: \"base64-serde\",\n\t\t\ttext: \"Base64 Coders\",\n\t\t\ticon: <Icon svg={<PayCode theme=\"outline\" />} />,\n\t\t},\n\t\tnode: <Base64Serde />,\n\t},\n\t\"url-parser\": {\n\t\tnavItemProps: {\n\t\t\titemKey: \"url-parser\",\n\t\t\ttext: \"URL Parser\",\n\t\t\ticon: <Icon svg={<LinkOne theme=\"outline\" />} />,\n\t\t},\n\t\tnode: <UrlParser />,\n\t},\n\t\"crontab-parser\": {\n\t\tnavItemProps: {\n\t\t\titemKey: \"crontab-parser\",\n\t\t\ttext: \"Crontab Parser\",\n\t\t\ticon: <Icon svg={<Calendar theme=\"outline\" />} />,\n\t\t},\n\t\tnode: <CrontabParserBlock />,\n\t}\n};\n\nexport default ToolSiderConfigs;\n","import {useEffect, useState} from \"react\";\n\nexport function GetStorageValue<T>(key: string, defaultValue: T) {\n    const saved = localStorage.getItem(key);\n    if (!saved) {\n        return defaultValue\n    }\n    try {\n        const initial = JSON.parse(saved);\n        Object.assign(defaultValue, initial)\n        return initial || defaultValue;\n    } catch (e) {\n        return defaultValue\n    }\n}\n\nexport const useLocalStore = function <T>(key: string, defaultValue: T) {\n    const [value, setValue] = useState<T>(GetStorageValue(key, defaultValue));\n\n    function f(val: T) {\n        localStorage.setItem(key, JSON.stringify(value))\n        setValue(val)\n    }\n\n    useEffect(() => {\n        localStorage.setItem(key, JSON.stringify(value))\n    }, [key, value])\n\n    return [value, f]\n}","export const PrivacyPage = () => {\n\treturn (<p style={{ padding: \"0 20px\" }}>\n\n\t\t<h1>Privacy Policy</h1>\n\n\t\t<br />\n\t\t<br />\n\t\tThis software respects and protects the personal privacy of all users who use the service. In order to provide you with more accurate and personalized services, this software will use and disclose your personal information in accordance with the provisions of this Privacy Policy. However, this software will treat this information with a high degree of diligence and prudence. Except as otherwise provided in this Privacy Policy, this software will not disclose or provide this information to third parties without your prior permission. This software will update this privacy policy from time to time. When you agree to the software service use agreement, you are deemed to have agreed to the entire content of this privacy policy. This privacy policy is an integral part of this software service use agreement.\n\t\t<br />\n\t\t<br />\n\t\t1. Scope of application\n\n\t\t<br />\n\t\t<br />\n\t\ta) When you use the software network services, the software automatically receives and records the information on your PC/Mac, including language used, access date and time, software and hardware feature information and your needs Web page records and other data;\n\t\t<br />\n\t\t<br />\n\t\t2. Use of Information\n\n\t\t<br />\n\t\t<br />\n\t\ta) After obtaining your data, the software will upload it to the server to generate your ranking data so that you can use the service better.\n\n\t\t<br />\n\t\t<br />\n\t\t3. Information disclosure\n\n\t\t<br />\n\t\t<br />\n\t\ta) This software will not disclose your information to untrusted third parties.\n\n\t\t<br />\n\t\t<br />\n\t\tb) In accordance with the relevant provisions of the law, or the requirements of administrative or judicial institutions, disclose to third parties or administrative or judicial institutions;\n\t\t<br />\n\t\t<br />\n\t\t4. Information storage and exchange The information and materials about you collected by this software will be saved on the servers of this software and (or) its affiliated companies, and these information and materials may be transmitted to your country, region or the information and materials collected by this software. The material is located outside the country and is accessed, stored and displayed outside the country.\n\n\t\t<br />\n\t\t<br />\n\t\t5. Information Security\n\t\t<br />\n\t\t<br />\n\n\t\ta) When using the network services of this software to conduct online transactions, you will inevitably disclose your personal information, such as contact information or postal address, to the counterparty or potential counterparty. Please properly protect your personal information and provide it to others only when necessary. If you find that your personal information is leaked, please contact the software customer service immediately so that the software can take corresponding measures.\n\n\t</p>);\n}\n","import { useEffect, useRef, useState } from 'react';\nimport { Button, Col, Form, Modal, Row, SideSheet, Space, Typography } from \"@douyinfe/semi-ui\";\nimport Section from \"@douyinfe/semi-ui/lib/es/form/section\";\nimport { IMac, Magic, } from \"@icon-park/react\";\nimport Text from \"@douyinfe/semi-ui/lib/es/typography/text\";\nimport { IconMoon, IconSun } from \"@douyinfe/semi-icons\";\nimport { useLocalStore } from \"../libs/hooks/localstore\";\nimport { useObservableState } from \"observable-hooks\";\nimport { Pref } from \"../context/pref\";\nimport { PrivacyPage } from './privacy';\nimport { useLocation } from 'react-router-dom';\n\nexport type EchooSettings = {\n\t\"appearance:theme\": \"dark\" | \"light\" | \"system\"\n\t\"updates:check-automatically\": boolean\n}\n\nexport const EchooSettingsDefault: EchooSettings = {\n\t\"appearance:theme\": \"system\",\n\t\"updates:check-automatically\": true\n}\n\ntype settingsModelProps = { visible: boolean, onVisibleChange: (v: boolean) => void }\nexport const SettingsModal = ({ visible, onVisibleChange }: settingsModelProps) => {\n\tconst [settings, setSettings] = useLocalStore(\"settings\", EchooSettingsDefault)\n\tconst [shown, setShown] = useObservableState<boolean>(obs => {\n\t\tobs.subscribe(shown => {\n\t\t\tonVisibleChange(shown)\n\t\t})\n\t\treturn obs\n\t}, visible)\n\n\tconst formRef = useRef<Form>(null)\n\n\tconst onChangeOfAnyField = (v: any) => {\n\t\t// @ts-ignore\n\t\tsetSettings(v)\n\n\t\tlet theme = v['appearance:theme'];\n\t\tPref.getInstance().theme.$.next(theme)\n\t}\n\n\tconst location = useLocation()\n\tconst [showPrivacy, setShowPrivacy] = useState(false)\n\n\tuseEffect(() => {\n\t\tsetShown(visible)\n\t\tif (location.pathname == \"/privacy\") {\n\t\t\tsetShowPrivacy(true)\n\t\t}\n\t}, [setShown, visible])\n\n\t// noinspection RequiredAttributes\n\treturn (\n\t\t<Modal centered visible={shown}\n\t\t\tfooter={\n\t\t\t\t<Button type={\"danger\"} onClick={() => {\n\t\t\t\t\tsetShown(!shown)\n\t\t\t\t}}>Close</Button>\n\t\t\t}\n\t\t\tclosable={false}\n\t\t\twidth={\"600px\"}\n\t\t\theight={\"520px\"}\n\t\t\tkeepDOM={true}\n\t\t\tbodyStyle={{ overflow: 'auto', height: \"400px\", width: \"600px\" }}\n\t\t>\n\n\t\t\t<SideSheet size='medium' visible={showPrivacy} onCancel={() => { setShowPrivacy(false) }}>\n\t\t\t\t<PrivacyPage />\n\t\t\t</SideSheet>\n\n\t\t\t<Form initValues={settings} ref={formRef} onValueChange={onChangeOfAnyField}\n\t\t\t\tstyle={{ height: \"100%\" }}>\n\t\t\t\t<Section text={<Space> <Magic size={28} /> <Typography.Text\n\t\t\t\t\tstyle={{ fontSize: 18 }}>Appearance</Typography.Text> </Space>}>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col span={12}>\n\t\t\t\t\t\t\t<Space spacing={20}>\n\t\t\t\t\t\t\t\t<Text>Theme</Text>\n\t\t\t\t\t\t\t\t<Form.Select noLabel field={\"appearance:theme\"}>\n\t\t\t\t\t\t\t\t\t<Form.Select.Option label={\n\t\t\t\t\t\t\t\t\t\t<Space>\n\t\t\t\t\t\t\t\t\t\t\t<IMac style={{ height: 14 }} />\n\t\t\t\t\t\t\t\t\t\t\t<span>System</span>\n\t\t\t\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t\t\t\t} value={\"system\"} />\n\t\t\t\t\t\t\t\t\t<Form.Select.Option label={\n\t\t\t\t\t\t\t\t\t\t<Space>\n\t\t\t\t\t\t\t\t\t\t\t<IconMoon />\n\t\t\t\t\t\t\t\t\t\t\t<span>Dark</span>\n\t\t\t\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t\t\t\t} value={\"dark\"} />\n\t\t\t\t\t\t\t\t\t<Form.Select.Option label={\n\t\t\t\t\t\t\t\t\t\t<Space>\n\t\t\t\t\t\t\t\t\t\t\t<IconSun />\n\t\t\t\t\t\t\t\t\t\t\t<span>Light</span>\n\t\t\t\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t\t\t\t} value={\"light\"} />\n\t\t\t\t\t\t\t\t</Form.Select>\n\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Section>\n\t\t\t\t<Section text={<Space> <Typography.Text\n\t\t\t\t\tstyle={{ fontSize: 18 }}>Others</Typography.Text> </Space>}>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Button onClick={() => { setShowPrivacy(true) }}>Privacy Policy</Button>\n\t\t\t\t\t</Row>\n\t\t\t\t</Section>\n\t\t\t\t{/*{isTauri &&*/}\n\t\t\t\t{/*    <Section text={<Space> <UpdateRotation size={28}/> <Typography.Text*/}\n\t\t\t\t{/*        style={{fontSize: 18}}>Updates</Typography.Text> </Space>}>*/}\n\n\t\t\t\t{/*        <Space>*/}\n\t\t\t\t{/*            <Form.Checkbox noLabel field=\"updates:check-automatically\">*/}\n\t\t\t\t{/*                Check for updates automatically*/}\n\t\t\t\t{/*            </Form.Checkbox>*/}\n\n\t\t\t\t{/*            <Tooltip content={\"Check now\"}>*/}\n\t\t\t\t{/*                <Button icon={<IconSync/>} size={\"small\"}/>*/}\n\t\t\t\t{/*            </Tooltip>*/}\n\t\t\t\t{/*        </Space>*/}\n\t\t\t\t{/*    </Section>*/}\n\t\t\t\t{/*}*/}\n\t\t\t</Form>\n\t\t</Modal >\n\t);\n};\n","import { Button, Input, Nav, Space } from \"@douyinfe/semi-ui\";\nimport { OnSelectedData } from \"@douyinfe/semi-ui/lib/es/navigation\";\nimport React, { useContext, useRef, useState } from \"react\";\nimport ToolSiderConfigs from \"../consts/tool-sider-configs\";\nimport toolSiderConfigs from \"../consts/tool-sider-configs\";\nimport { SharedSubjectContext } from \"../context/shared-subjects\";\nimport { useMount } from \"react-use\";\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport \"./tools-sider.scss\"\nimport { useObservableState } from \"observable-hooks/dist/esm2015\";\nimport { GlobalHotKeys } from \"react-hotkeys\";\nimport { IconSetting, IconSidebar } from \"@douyinfe/semi-icons\";\nimport { findDOMNode } from \"react-dom\";\nimport { Pref } from \"../context/pref\";\nimport { SettingsModal } from \"./setting\";\n\nexport const ToolsSider = () => {\n\tconst sharedSubsCtx = useContext(SharedSubjectContext);\n\tconst navRef = useRef<Nav>(null)\n\tconst [selectedItems, setSelectedItems] = useObservableState<Array<string>>(obs => {\n\t\treturn obs\n\t}, [\"json-formatter\"])\n\tconst [tools, setTools] = useObservableState((obs) => {\n\t\treturn obs\n\t}, Object.values(ToolSiderConfigs).map((i) => {\n\t\treturn i.navItemProps;\n\t}))\n\n\tconst [, setToolSearchKeyword] = useObservableState<string>(obs => {\n\t\tobs.subscribe(keyword => {\n\t\t\tlet filteredTools = Object.values(ToolSiderConfigs).filter(i => {\n\t\t\t\treturn (i.navItemProps.text as string).toUpperCase().trim().includes(keyword.toUpperCase().trim())\n\t\t\t}).map((i) => {\n\t\t\t\treturn i.navItemProps;\n\t\t\t})\n\t\t\tsetTools(filteredTools)\n\t\t\tlet filteredItemKeys = filteredTools.map(i => {\n\t\t\t\treturn i.itemKey as string\n\t\t\t});\n\t\t\tif (filteredItemKeys.length >= 1) {\n\t\t\t\tconsole.debug(`filtered tool item keys: ${filteredItemKeys}`);\n\t\t\t\tlet firstKey = filteredItemKeys[0]\n\t\t\t\tconsole.debug(`filtered first key: ${firstKey}`)\n\t\t\t\tsetSelectedItems([firstKey])\n\t\t\t\t// send first node to content\n\t\t\t\tsharedSubsCtx.activeToolNode$.next(ToolSiderConfigs[firstKey].node);\n\t\t\t}\n\t\t})\n\t\treturn obs\n\t}, \"\")\n\n\tconst [searchParams, setSearchParams] = useSearchParams();\n\tconst [sidebarCollapsed, setSideBarCollapsed] = useObservableState<boolean>(obs => {\n\t\tobs.subscribe(collapsed => {\n\t\t\tPref.getInstance().toolsSiderCollapsed.value = collapsed as boolean\n\t\t\thideSearchBar(collapsed)\n\t\t})\n\t\treturn obs\n\t}, Pref.getInstance().toolsSiderCollapsed.value);\n\n\tconst hideSearchBar = (hide: Boolean) => {\n\t\t// if collapsed remove header blank from nav header which is\n\t\t// <div class=\"semi-navigation-header semi-navigation-header-collapsed\"></div>\n\t\t// the header left a blank because <GlobalHotKeys> is blocking the place\n\t\tlet navNode = findDOMNode(navRef.current) as Element\n\t\tif (navNode) {\n\t\t\tlet nodes = navNode.getElementsByClassName(\"semi-navigation-header\")\n\t\t\tif (nodes.length >= 0) {\n\t\t\t\tlet node = nodes.item(0) as HTMLElement\n\t\t\t\tnode!.style!.display = hide ? \"none\" : \"block\"\n\t\t\t}\n\t\t}\n\t}\n\n\t// handle events\n\tconst onSiderToolSelected = (data: OnSelectedData) => {\n\t\tlet siderToolItem = ToolSiderConfigs[data.itemKey];\n\t\tif (siderToolItem) {\n\t\t\tconsole.log(`tool <${data.itemKey}> activated`);\n\t\t\tsharedSubsCtx.activeToolNode$.next(siderToolItem.node);\n\t\t\tlet itemKey = data.itemKey as string\n\t\t\tsetSelectedItems([itemKey])\n\t\t\tsetSearchParams({ \"tk\": itemKey })\n\t\t}\n\t};\n\n\t// const search = useLocation().search\n\n\t// hooks\n\tuseMount(() => {\n\t\thideSearchBar(sidebarCollapsed)\n\t})\n\n\tuseMount(() => {\n\t\tconst toolItemKey = searchParams.get(\"tk\")\n\n\t\t// init tool node\n\t\t// default show json-formatter\n\t\tlet defaultKey = selectedItems[0]\n\t\tif (toolItemKey && Object.keys(toolSiderConfigs).map(k => {\n\t\t\treturn k.toUpperCase().trim()\n\t\t}).includes(toolItemKey?.toUpperCase().trim())) {\n\t\t\tdefaultKey = toolItemKey.toLowerCase().trim()\n\t\t\tsetSelectedItems([defaultKey])\n\t\t}\n\t\tsharedSubsCtx.activeToolNode$.next(ToolSiderConfigs[defaultKey].node);\n\t});\n\n\tconst location = useLocation()\n\tuseMount(() => {\n\t\tif (location.pathname === \"/privacy\") {\n\t\t\tsetShowSettings(true)\n\t\t}\n\t\tsharedSubsCtx.beEvent$.subscribe((evt: any) => {\n\t\t\tif (evt[\"event\"] === \"open-settings\") {\n\t\t\t\tsetShowSettings(true)\n\t\t\t}\n\t\t})\n\t})\n\n\t//<editor-fold desc=\"Define hot keys\">\n\tconst searchToolInputRef = useRef<HTMLInputElement>(null)\n\tconst onFocusSearchTools = React.useCallback((ke: (KeyboardEvent | undefined)) => {\n\t\tconsole.debug(\"hotkey invoked: focus search tools\", JSON.stringify(ke))\n\t\tsetSideBarCollapsed(false)\n\t\tsearchToolInputRef.current?.focus();\n\t}, [setSideBarCollapsed])\n\tconst hotkeyHandlers = {\n\t\tSEARCH_TOOLS: onFocusSearchTools\n\t}\n\tconst keyMap = {\n\t\tSEARCH_TOOLS: \"command+.\"\n\t};\n\t//</editor-fold>\n\n\tconst HeaderNode =\n\t\t<Input ref={searchToolInputRef}\n\t\t\tonChange={(value) => {\n\t\t\t\tsetToolSearchKeyword(value)\n\t\t\t}}\n\t\t\tplaceholder=\"Search by â + .\" />\n\n\tconst [showSettings, setShowSettings] = useState(false)\n\n\tconst FooterNode = <Space vertical={sidebarCollapsed}>\n\t\t<Button icon={<IconSidebar />} onClick={() => {\n\t\t\tif (sidebarCollapsed) {\n\t\t\t\tsetSideBarCollapsed(false);\n\t\t\t} else {\n\t\t\t\tsetSideBarCollapsed(true)\n\t\t\t}\n\n\t\t}} />\n\t\t<Button icon={<IconSetting />}\n\t\t\tonClick={() => {\n\t\t\t\tsetShowSettings(true)\n\t\t\t}} />\n\t</Space>\n\n\treturn (\n\t\t<>\n\t\t\t<SettingsModal visible={showSettings} onVisibleChange={setShowSettings} />\n\t\t\t<Nav\n\t\t\t\tref={navRef}\n\t\t\t\tselectedKeys={selectedItems}\n\t\t\t\tmultiple={false}\n\t\t\t\tstyle={{}}\n\t\t\t\tmode=\"vertical\"\n\t\t\t\titems={tools}\n\t\t\t\tisCollapsed={sidebarCollapsed as boolean}\n\t\t\t\tfooter={{\n\t\t\t\t\tcollapseButton: true,\n\t\t\t\t\tchildren: FooterNode\n\t\t\t\t}}\n\t\t\t\theader={<GlobalHotKeys handlers={hotkeyHandlers}\n\t\t\t\t\tkeyMap={keyMap}>{!sidebarCollapsed ? HeaderNode : null}</GlobalHotKeys>}\n\t\t\t\tonSelect={onSiderToolSelected}\n\t\t\t\tclassName={'tools-sider'}\n\t\t\t/>\n\t\t</>\n\t);\n};\n","import { Layout, Notification } from \"@douyinfe/semi-ui\";\nimport Sider from \"@douyinfe/semi-ui/lib/es/layout/Sider\";\nimport { useObservableState } from \"observable-hooks\";\nimport { ReactNode, useContext, useEffect } from \"react\";\nimport { SharedSubjectContext } from \"../context/shared-subjects\";\nimport { MainFooter } from \"../shared/main-footer\";\nimport { MainNav } from \"../shared/main-nav\";\nimport { ToolsSider } from \"../shared/tools-sider\";\nimport { isTauriAppContext } from \"../../App\";\nimport \"./main-page.scss\";\n\nexport const MainPage = () => {\n  const { Header, Content } = Layout;\n  const sharedSubs = useContext(SharedSubjectContext);\n  const isTauri = useContext(isTauriAppContext);\n  const [activeToolNode, setActiveToolNode] = useObservableState<ReactNode>(\n    (obs) => {\n      obs.subscribe((node) => {\n        console.debug(`active tool node set: ${node}`);\n      });\n      return obs;\n    },\n    null\n  );\n\n  // hooks\n  useEffect(() => {\n    sharedSubs.activeToolNode$.subscribe((node) => {\n      console.debug(`activeToolNode$ received next: ${node}`);\n      setActiveToolNode(node);\n    });\n  }, [setActiveToolNode, sharedSubs]);\n\n  useEffect(() => {\n    if (isTauri) {\n      // @ts-ignore\n      let tauri = window.__TAURI__;\n      tauri.event.listen(\"be-error\", (event: object) => {\n        Notification.error({\n          // @ts-ignore\n          content: event[\"payload\"] as string,\n          position: \"topRight\",\n          showClose: false,\n        });\n      });\n\n      tauri.event.listen(\"be-success\", (event: object) => {\n        Notification.success({\n          // @ts-ignore\n          content: event[\"payload\"] as string,\n          position: \"topRight\",\n          showClose: false,\n        });\n      });\n    }\n  }, [isTauri]);\n\n  return (\n    <isTauriAppContext.Consumer>\n      {(isTauriApp) => (\n        <Layout className=\"main-layout\">\n          {!isTauriApp && (\n            <Header>\n              <MainNav />\n            </Header>\n          )}\n          <Layout className=\"central-layout\">\n            <Sider children={<ToolsSider />} />\n            <Content children={activeToolNode} />\n          </Layout>\n          {!isTauriApp && (\n            <Layout.Footer className=\"main-footer-container\">\n              <MainFooter />\n            </Layout.Footer>\n          )}\n        </Layout>\n      )}\n    </isTauriAppContext.Consumer>\n  );\n};\n","import { useRef } from 'react';\nimport { Button, Col, Form, Modal, Row, Space, Typography } from \"@douyinfe/semi-ui\";\nimport Section from \"@douyinfe/semi-ui/lib/es/form/section\";\nimport { Github, Protect, } from \"@icon-park/react\";\nimport Text from \"@douyinfe/semi-ui/lib/es/typography/text\";\nimport { useLocalStore } from \"../libs/hooks/localstore\";\nimport { Pref } from \"../context/pref\";\nimport { PersonalPrivacy } from '@icon-park/react/es';\n\nexport type FirstLanchingModalSettings = {\n\t\"allow-analytics\": boolean\n}\n\nexport const FirstLanchingModalSettingsDefault: FirstLanchingModalSettings = {\n\t\"allow-analytics\": true,\n}\n\ntype props = { onVisibleChange: (v: FirstLanchingModalSettings) => void }\n\nexport const FirstLanchingModal = ({ onVisibleChange }: props) => {\n\tconst [settings, setSettings] = useLocalStore(\"first-launching-settings\", FirstLanchingModalSettingsDefault)\n\tconst formRef = useRef<Form>(null)\n\n\tconst onChangeOfAnyField = (v: any) => {\n\t\tconsole.log(v)\n\t\t// @ts-ignore\n\t\tsetSettings(v)\n\n\t\tlet allow = v['allow-analytics'];\n\t\tPref.getInstance().allowAnalytics.$.next(allow)\n\t}\n\n\t// noinspection RequiredAttributes\n\treturn (\n\t\t<Modal centered visible={true}\n\t\t\tfooter={\n\t\t\t\t<Button type={\"primary\"} onClick={() => {\n\t\t\t\t\tonVisibleChange(settings as FirstLanchingModalSettings)\n\t\t\t\t}}>Continue</Button>\n\t\t\t}\n\t\t\tclosable={false}\n\t\t\twidth={\"600px\"}\n\t\t\theight={\"auto\"}\n\t\t\tkeepDOM={true}\n\t\t\tbodyStyle={{ overflow: 'auto', height: \"350px\", width: \"auto\" }}\n\t\t>\n\n\t\t\t<Form initValues={settings} ref={formRef} onValueChange={onChangeOfAnyField}\n\t\t\t\tstyle={{ height: \"100%\" }}>\n\t\t\t\t<Section text={<Space> <PersonalPrivacy size={28} /> <Typography.Text\n\t\t\t\t\tstyle={{ fontSize: 18 }}>Anonymouse Analysis Notice</Typography.Text> </Space>}>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Typography.Paragraph style={{ padding: \"20px 0\" }} spacing='extended' >\n\t\t\t\t\t\t\t\tEchoo.app uses anonymouse analysis to trackdown usage and  website traffic, we use this kind of data to improve this application. You can always opt-out the analysis by adding browser add-on or un-check below option and continue.\n\t\t\t\t\t\t\t</Typography.Paragraph>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<Typography.Title heading={4} >Echoo.app guarentees:</Typography.Title>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<Typography.Paragraph spacing='extended'>\n\t\t\t\t\t\t\t\t<Space align='center'>\n\t\t\t\t\t\t\t\t\t<Protect size={24.5} />\n\t\t\t\t\t\t\t\t\t<span>Will NOT collect any of your data input into this application.</span>\n\t\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t\t\t<Space align='center' style={{ marginTop: \"10px\" }}>\n\t\t\t\t\t\t\t\t\t<Github size={24.5} />\n\t\t\t\t\t\t\t\t\t<Typography.Text>Aways be an <a href=\"https://github.com/zsmatrix62/echoo.app\" target=\"_blank\"> open source software</a></Typography.Text>\n\t\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t\t</Typography.Paragraph>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row style={{ position: \"fixed\", width: \"100%\", bottom: \"60px\" }}>\n\t\t\t\t\t\t<Col span={14} push={10}>\n\t\t\t\t\t\t\t<Form.Checkbox\n\t\t\t\t\t\t\t\tstyle={{ width: \"100%\" }}\n\t\t\t\t\t\t\t\tnoLabel={true}\n\t\t\t\t\t\t\t\tfield='allow-analytics' >\n\t\t\t\t\t\t\t\t<Text>Share anonymouse data with Echoo.app</Text>\n\t\t\t\t\t\t\t</Form.Checkbox>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Section>\n\t\t\t</Form>\n\t\t</Modal >\n\t);\n};\n","import { BrowserRouter, Route, Routes } from \"react-router-dom\";\nimport \"./App.scss\";\nimport { MainPage } from \"./app/pages/main-page\";\nimport { useMount } from \"react-use\";\nimport { createContext, useContext, useState } from \"react\";\nimport { SharedSubjectContext } from \"./app/context/shared-subjects\";\nimport { useObservableState } from \"observable-hooks\";\nimport { Pref } from \"./app/context/pref\";\nimport { useLocalStore } from \"./app/libs/hooks/localstore\";\nimport { EchooSettings, EchooSettingsDefault } from \"./app/shared/setting\";\nimport { FirstLanchingModal } from \"./app/shared/first-lanching-dialog\";\n\nexport const isTauriAppContext = createContext(false);\n\nfunction App() {\n\tconst sharedSubsCtx = useContext(SharedSubjectContext);\n\t// const appEnvs = useContext(AppEnvsContext)\n\tconst [isTauri, setIsTauri] = useObservableState((obs) => {\n\t\treturn obs;\n\t}, false);\n\n\tconst p = Pref.getInstance();\n\t// hooks\n\t// listen window resize events\n\tuseMount(() => {\n\t\tconst sendEvent = () => {\n\t\t\tsharedSubsCtx.windowSizeChange$.next([\n\t\t\t\twindow.innerWidth ?? 0,\n\t\t\t\twindow.innerHeight ?? 0,\n\t\t\t]);\n\t\t};\n\t\twindow.addEventListener(\"resize\", () => {\n\t\t\tsendEvent();\n\t\t});\n\t\tsendEvent();\n\t});\n\n\t// check is in tauri client or not\n\tuseMount(() => {\n\t\tsharedSubsCtx.tauri$.subscribe((t) => {\n\t\t\tif (t) {\n\t\t\t\tsetIsTauri(true);\n\t\t\t} else {\n\t\t\t\tsetIsTauri(false);\n\t\t\t}\n\t\t});\n\t});\n\n\tconst [settings] = useLocalStore<EchooSettings>(\n\t\t\"settings\",\n\t\tEchooSettingsDefault\n\t);\n\n\t// subscribe dark mode\n\tuseMount(() => {\n\t\tfunction enableDark(enable: boolean) {\n\t\t\tconst body = document.body;\n\t\t\tif (enable) {\n\t\t\t\tbody.setAttribute(\"theme-mode\", \"dark\");\n\t\t\t} else {\n\t\t\t\tif (body.hasAttribute(\"theme-mode\")) {\n\t\t\t\t\tbody.removeAttribute(\"theme-mode\");\n\t\t\t\t}\n\t\t\t}\n\t\t\tp.darkModeEnabled.$.next(enable);\n\t\t}\n\n\t\t// @ts-ignore\n\t\tp.theme.$.next(settings[\"appearance:theme\"] as string);\n\t\tp.theme.subscribe({\n\t\t\tnext: (theme) => {\n\t\t\t\tconst mql = window.matchMedia(\"(prefers-color-scheme: dark)\");\n\t\t\t\tswitch (theme) {\n\t\t\t\t\tcase \"dark\":\n\t\t\t\t\t\tenableDark(true);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"light\":\n\t\t\t\t\t\tenableDark(false);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tenableDark(mql.matches);\n\t\t\t\t\t\tmql.addEventListener(\"change\", (e) => {\n\t\t\t\t\t\t\tenableDark(e.matches);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t});\n\n\t// notify user to allow analytics\n\tlet [showFirstLanchingDialog, setShowFirstLanchingDialog] = useState(false)\n\tuseMount(() => {\n\t\tp.isFirstLanching.$.subscribe(yes => {\n\t\t\tsetShowFirstLanchingDialog(yes)\n\t\t})\n\t\tp.allowAnalytics.$.subscribe(yes => {\n\t\t\tif (yes) {\n\t\t\t\tinjectAnalyticsCodes()\n\t\t\t}\n\t\t})\n\t})\n\n\tuseMount(() => {\n\t\t// @ts-ignore\n\t\tlet tauri = window.__TAURI__;\n\t\tif (tauri) {\n\t\t\ttauri.invoke(\"get_system\", {}).then((os: string) => {\n\t\t\t\tPref.getInstance().osName.value = os;\n\t\t\t});\n\t\t\ttauri.path.appDir().then((s: any) => {\n\t\t\t\tconsole.log(s);\n\t\t\t});\n\t\t\t[\"open-settings\", \"open-about\", \"open-help\"].forEach((evt) => {\n\t\t\t\ttauri.event.listen(evt, (event: object) => {\n\t\t\t\t\tsharedSubsCtx.beEvent$.next(event);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t});\n\n\tconst injectAnalyticsCodes = () => {\n\t\tconst h = document.getElementsByTagName(\"head\")[0]\n\t\tconst body = document.getElementsByTagName(\"body\")[0]\n\n\t\tconst ga_s = document.createElement(\"script\")\n\t\tconst gs_ss = document.createElement(\"script\")\n\t\tga_s.src = \"https://www.googletagmanager.com/gtag/js?id=G-68ZK6XEPVH\"\n\t\tga_s.async = true\n\t\tgs_ss.innerHTML = `\n\t\twindow.dataLayer = window.dataLayer || [];\n\t\tfunction gtag() {\n\t\t\tdataLayer.push(arguments);\n\t\t};\n\t\tgtag('js', new Date());\n\t\tgtag('config', 'G-68ZK6XEPVH');\n\t\t`\n\t\tconst tag_mgr_head = document.createElement(\"script\")\n\t\ttag_mgr_head.innerHTML = `\n\t\t(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n\t\t\t\t\t\t\t\t\t\t\t\t\t new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n\t\t j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n\t\t 'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n\t\t })(window,document,'script','dataLayer','GTM-N9NMZCN');\n\t\t`\n\t\tconst ns = body.getElementsByTagName(\"noscript\")[0]\n\t\tconst f = document.createElement(\"iframe\")\n\t\tf.src = \"https://www.googletagmanager.com/ns.html?id=GTM-N9NMZCN\"\n\t\tf.height = \"0\"\n\t\tf.width = \"0\"\n\t\tf.style.display = \"none\"\n\t\tf.style.visibility = \"hidden\"\n\t\tns.appendChild(f)\n\n\t\th.appendChild(ga_s)\n\t\th.appendChild(gs_ss)\n\t\th.appendChild(tag_mgr_head)\n\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{showFirstLanchingDialog &&\n\t\t\t\t<FirstLanchingModal onVisibleChange={(v: any) => {\n\t\t\t\t\tconst p = Pref.getInstance();\n\t\t\t\t\tp.allowAnalytics.value = v[\"allow-analytics\"]\n\t\t\t\t\tp.isFirstLanching.value = false\n\t\t\t\t\tsetShowFirstLanchingDialog(false)\n\t\t\t\t}} />}\n\t\t\t<isTauriAppContext.Provider value={isTauri}>\n\t\t\t\t<MainPage />\n\t\t\t</isTauriAppContext.Provider>\n\t\t</>\n\t);\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport './index.scss';\nimport reportWebVitals from './reportWebVitals';\nimport App from './App';\nimport { BrowserRouter, HashRouter, Route, Routes } from 'react-router-dom';\n\nReactDOM.render(\n\t<HashRouter basename='/'>\n\t\t<Routes>\n\t\t\t<Route path=\"/\" element={<App />}> </Route>\n\t\t\t<Route path=\"/privacy\" element={<App />}> </Route>\n\t\t</Routes>\n\t</HashRouter>,\n\tdocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}